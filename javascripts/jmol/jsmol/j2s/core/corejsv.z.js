(function($,qa,da,Q,w,G,t,x,v,s,q,I,Ea,p,m,z,D,E,V,u,H,B,K,C,Fa,Ga,ra,L,M,R,y,X,Ha,T,W,fa,P,aa,N,S,ga,Ia,sa,ta,ha,ua,va,wa,xa,ya,za,Aa,ia,ja,Ba,ka,Ca,Ja,c,e,Y){Jmol.___JmolDate="$Date: 2023-11-22 23:54:28 -0600 (Wed, 22 Nov 2023) $";Jmol.___fullJmolProperties="src/org/jmol/viewer/Jmol.properties";Jmol.___JmolVersion="16.1.47";(function(b){b._Loader.registerPackages("java",["io","lang","lang.reflect","util"]);var a=java.util;b._Loader.ignore("net.sf.j2s.ajax.HttpRequest java.util.MapEntry.Type java.net.UnknownServiceException java.lang.Runtime java.security.AccessController java.security.PrivilegedExceptionAction java.io.File java.io.FileInputStream java.io.FileWriter java.io.OutputStreamWriter java.util.concurrent.Executors".split(" "));
Math.rint=Math.round;Math.log10||(Math.log10=function(a){return Math.log(a)/2.302585092994046});Math.signum||(Math.signum=function(a){return 0==a||isNaN(a)?a:0>a?-1:1});if(b._supportsNativeObject)for(var d=0;d<b._extendedObjectMethods.length-2;d++){var g=b._extendedObjectMethods[d];Array.prototype[g]=b._O.prototype[g];Number.prototype[g]=b._O.prototype[g]}java.lang.Number=Number;Number.__CLASS_NAME__="Number";aa(Number,java.io.Serializable);Number.equals=b._innerFunctions.equals;Number.getName=b._innerFunctions.getName;
Number.prototype.compareTo=function(a){var d=this.value;a=a.value;return d<a?-1:d==a?0:1};c(Number,"shortValue",function(){var a=Math.round(this)&65535;return 0>this&&0<a?a-65536:a});c(Number,"byteValue",function(){var a=Math.round(this)&255;return 0>this&&0<a?a-256:a});c(Number,"intValue",function(){return Math.round(this)&4294967295});c(Number,"longValue",function(){return Math.round(this)});c(Number,"floatValue",function(){return this.valueOf()});c(Number,"doubleValue",function(){return parseFloat(this.valueOf())});
e(Number,"hashCode",function(){return this.valueOf()});java.lang.Integer=Integer=function(){s(this,arguments)};W(Integer,"Integer",Number,Comparable,null,!0);Integer.prototype.valueOf=function(){return 0};Integer.toString=Integer.prototype.toString=function(){return 0!=arguments.length?""+arguments[0]:this===Integer?"class java.lang.Integer":""+this.valueOf()};S(Integer,function(a){null==a&&(a=0);"number"!=typeof a&&(a=Integer.parseIntRadix(a,10));this.valueOf=function(){return a}});Integer.MIN_VALUE=
Integer.prototype.MIN_VALUE=-2147483648;Integer.MAX_VALUE=Integer.prototype.MAX_VALUE=2147483647;Integer.TYPE=Integer.prototype.TYPE=Integer;Integer.compare=c(Integer,"compare",function(a,d){return a<d?-1:a>d?1:0},"Number,Number");c(Integer,"bitCount",function(a){a-=a>>>1&1431655765;a=(a&858993459)+(a>>>2&858993459);a=a+(a>>>4)&252645135;a+=a>>>8;return a+(a>>>16)&63},"Number");Integer.bitCount=Integer.prototype.bitCount;c(Integer,"numberOfLeadingZeros",function(a){if(0==a)return 32;var d=1;0==a>>>
16&&(d+=16,a<<=16);0==a>>>24&&(d+=8,a<<=8);0==a>>>28&&(d+=4,a<<=4);0==a>>>30&&(d+=2,a<<=2);return d-(a>>>31)},"Number");Integer.numberOfLeadingZeros=Integer.prototype.numberOfLeadingZeros;c(Integer,"numberOfTrailingZeros",function(a){if(0==a)return 32;var d=31,g=a<<16;0!=g&&(d-=16,a=g);g=a<<8;0!=g&&(d-=8,a=g);g=a<<4;0!=g&&(d-=4,a=g);g=a<<2;0!=g&&(d-=2,a=g);return d-(a<<1>>>31)},"Number");Integer.numberOfTrailingZeros=Integer.prototype.numberOfTrailingZeros;c(Integer,"parseIntRadix",function(a,d){if(null==
a)throw new NumberFormatException("null");if(2>d)throw new NumberFormatException("radix "+d+" less than Character.MIN_RADIX");if(36<d)throw new NumberFormatException("radix "+d+" greater than Character.MAX_RADIX");if(10==d)for(var g=a.length;0<=--g;){var b=a.charCodeAt(g);if(!(48<=b&&57>=b)&&(0<g||43!=b&&45!=b))throw new NumberFormatException("Not a Number : "+a);}g=parseInt(a,d);if(isNaN(g))throw new NumberFormatException("Not a Number : "+a);return g},"String, Number");Integer.parseIntRadix=Integer.prototype.parseIntRadix;
c(Integer,"parseInt",function(a){return Integer.parseIntRadix(a,10)},"String");Integer.parseInt=Integer.prototype.parseInt;e(Integer,"$valueOf",function(a){return new Integer(a)});Integer.$valueOf=Integer.prototype.$valueOf;e(Integer,"equals",function(a){return null==a||!x(a,Integer)?!1:a.valueOf()==this.valueOf()},"Object");Integer.toHexString=Integer.prototype.toHexString=function(a){a.valueOf&&(a=a.valueOf());if(0>a){var d=a&16777215;return(a>>24&255)._numberToString(16)+(d="000000"+d._numberToString(16)).substring(d.length-
6)}return a._numberToString(16)};Integer.toOctalString=Integer.prototype.toOctalString=function(a){a.valueOf&&(a=a.valueOf());return a._numberToString(8)};Integer.toBinaryString=Integer.prototype.toBinaryString=function(a){a.valueOf&&(a=a.valueOf());return a._numberToString(2)};Integer.decodeRaw=c(Integer,"decodeRaw",function(a){0<=a.indexOf(".")&&(a="");var d=a.startsWith("-")?1:0;a=a.replace(/\#/,"0x").toLowerCase();d=a.startsWith("0x",d)?16:a.startsWith("0",d)?8:10;a=Number(a)&4294967295;return 8==
d?parseInt(a,8):a},"~S");Integer.decode=c(Integer,"decode",function(a){a=Integer.decodeRaw(a);if(isNaN(a)||a<Integer.MIN_VALUE||a>Integer.MAX_VALUE)throw new NumberFormatException("Invalid Integer");return new Integer(a)},"~S");e(Integer,"hashCode",function(){return this.valueOf()});java.lang.Long=Long=function(){s(this,arguments)};W(Long,"Long",Number,Comparable,null,!0);Long.prototype.valueOf=function(){return 0};Long.toString=Long.prototype.toString=function(){return 0!=arguments.length?""+arguments[0]:
this===Long?"class java.lang.Long":""+this.valueOf()};S(Long,function(a){null==a&&(a=0);a="number"==typeof a?Math.round(a):Integer.parseIntRadix(a,10);this.valueOf=function(){return a}});Long.TYPE=Long.prototype.TYPE=Long;c(Long,"parseLong",function(a,d){return Integer.parseInt(a,d||10)});Long.parseLong=Long.prototype.parseLong;e(Long,"$valueOf",function(a){return new Long(a)});Long.$valueOf=Long.prototype.$valueOf;e(Long,"equals",function(a){return null==a||!x(a,Long)?!1:a.valueOf()==this.valueOf()},
"Object");Long.toHexString=Long.prototype.toHexString=function(a){return a.toString(16)};Long.toOctalString=Long.prototype.toOctalString=function(a){return a.toString(8)};Long.toBinaryString=Long.prototype.toBinaryString=function(a){return a.toString(2)};Long.decode=c(Long,"decode",function(a){a=Integer.decodeRaw(a);if(isNaN(a))throw new NumberFormatException("Invalid Long");return new Long(a)},"~S");java.lang.Short=Short=function(){s(this,arguments)};W(Short,"Short",Number,Comparable,null,!0);Short.prototype.valueOf=
function(){return 0};Short.toString=Short.prototype.toString=function(){return 0!=arguments.length?""+arguments[0]:this===Short?"class java.lang.Short":""+this.valueOf()};S(Short,function(a){null==a&&(a=0);"number"!=typeof a&&(a=Integer.parseIntRadix(a,10));a=a.shortValue();this.valueOf=function(){return a}});Short.MIN_VALUE=Short.prototype.MIN_VALUE=-32768;Short.MAX_VALUE=Short.prototype.MAX_VALUE=32767;Short.TYPE=Short.prototype.TYPE=Short;c(Short,"parseShortRadix",function(a,d){return Integer.parseIntRadix(a,
d).shortValue()},"String, Number");Short.parseShortRadix=Short.prototype.parseShortRadix;c(Short,"parseShort",function(a){return Short.parseShortRadix(a,10)},"String");Short.parseShort=Short.prototype.parseShort;e(Short,"$valueOf",function(a){return new Short(a)});Short.$valueOf=Short.prototype.$valueOf;e(Short,"equals",function(a){return null==a||!x(a,Short)?!1:a.valueOf()==this.valueOf()},"Object");Short.toHexString=Short.prototype.toHexString=function(a){return a.toString(16)};Short.toOctalString=
Short.prototype.toOctalString=function(a){return a.toString(8)};Short.toBinaryString=Short.prototype.toBinaryString=function(a){return a.toString(2)};Short.decode=c(Short,"decode",function(a){a=Integer.decodeRaw(a);if(isNaN(a)||-32768>a||32767<a)throw new NumberFormatException("Invalid Short");return new Short(a)},"~S");java.lang.Byte=Byte=function(){s(this,arguments)};W(Byte,"Byte",Number,Comparable,null,!0);Byte.prototype.valueOf=function(){return 0};Byte.toString=Byte.prototype.toString=function(){return 0!=
arguments.length?""+arguments[0]:this===Byte?"class java.lang.Byte":""+this.valueOf()};p(Byte,function(a){"number"!=typeof a&&(a=Integer.parseIntRadix(a,10));a=a.byteValue();this.valueOf=function(){return a}});Byte.serialVersionUID=Byte.prototype.serialVersionUID=-0x63b19f7b11af0c00;Byte.MIN_VALUE=Byte.prototype.MIN_VALUE=-128;Byte.MAX_VALUE=Byte.prototype.MAX_VALUE=127;Byte.SIZE=Byte.prototype.SIZE=8;Byte.TYPE=Byte.prototype.TYPE=Byte;c(Byte,"parseByteRadix",function(a,d){return Integer.parseIntRadix(a,
d).byteValue()},"String, Number");Byte.parseByteRadix=Byte.prototype.parseByteRadix;c(Byte,"parseByte",function(a){return Byte.parseByte(a,10)},"String");Byte.parseByte=Byte.prototype.parseByte;e(Byte,"$valueOf",function(a){return new Byte(a)});Byte.$valueOf=Byte.prototype.$valueOf;e(Byte,"equals",function(a){return null==a||!x(a,Byte)?!1:a.valueOf()==this.valueOf()},"Object");Byte.toHexString=Byte.prototype.toHexString=function(a){return a.toString(16)};Byte.toOctalString=Byte.prototype.toOctalString=
function(a){return a.toString(8)};Byte.toBinaryString=Byte.prototype.toBinaryString=function(a){return a.toString(2)};Byte.decode=c(Byte,"decode",function(a){a=Integer.decodeRaw(a);if(isNaN(a)||-128>a||127<a)throw new NumberFormatException("Invalid Byte");return new Byte(a)},"~S");b._floatToString=function(a){a=""+a;0>a.indexOf(".")&&(0>a.indexOf("e")&&"NaN"!=a)&&(a+=".0");return a};java.lang.Float=Float=function(){s(this,arguments)};W(Float,"Float",Number,Comparable,null,!0);Float.prototype.valueOf=
function(){return 0};Float.toString=Float.prototype.toString=function(){return 0!=arguments.length?b._floatToString(arguments[0]):this===Float?"class java.lang.Float":b._floatToString(this.valueOf())};b._a32=null;Float.floatToIntBits=function(a){var d=b._a32||(b._a32=new Float32Array(1));d[0]=a;return(new Int32Array(d.buffer))[0]};S(Float,function(a){null==a&&(a=0);"number"!=typeof a&&(a=Number(a));this.valueOf=function(){return a}});Float.serialVersionUID=Float.prototype.serialVersionUID=-0x2512365d24c31000;
Float.MIN_VALUE=Float.prototype.MIN_VALUE=1.4E-45;Float.MAX_VALUE=Float.prototype.MAX_VALUE=3.4028235E38;Float.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Float.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Float.NaN=Number.NaN;Float.TYPE=Float.prototype.TYPE=Float;c(Float,"parseFloat",function(a){if(null==a)throw new NumberFormatException("null");if("number"==typeof a)return a;var d=Number(a);if(isNaN(d))throw new NumberFormatException("Not a Number : "+a);return d},"String");Float.parseFloat=Float.prototype.parseFloat;
e(Float,"$valueOf",function(a){return new Float(a)});Float.$valueOf=Float.prototype.$valueOf;c(Float,"isNaN",function(a){return isNaN(1==arguments.length?a:this.valueOf())},"Number");Float.isNaN=Float.prototype.isNaN;c(Float,"isInfinite",function(a){return!isFinite(1==arguments.length?a:this.valueOf())},"Number");Float.isInfinite=Float.prototype.isInfinite;e(Float,"equals",function(a){return null==a||!x(a,Float)?!1:a.valueOf()==this.valueOf()},"Object");java.lang.Double=Double=function(){s(this,arguments)};
W(Double,"Double",Number,Comparable,null,!0);Double.prototype.valueOf=function(){return 0};Double.toString=Double.prototype.toString=function(){return 0!=arguments.length?b._floatToString(arguments[0]):this===Double?"class java.lang.Double":b._floatToString(this.valueOf())};S(Double,function(a){null==a&&(a=0);"number"!=typeof a&&(a=Double.parseDouble(a));this.valueOf=function(){return a}});Double.serialVersionUID=Double.prototype.serialVersionUID=-0x7f4c3db5d6940400;Double.MIN_VALUE=Double.prototype.MIN_VALUE=
4.9E-324;Double.MAX_VALUE=Double.prototype.MAX_VALUE=1.7976931348623157E308;Double.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Double.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Double.NaN=Number.NaN;Double.TYPE=Double.prototype.TYPE=Double;c(Double,"isNaN",function(a){return isNaN(1==arguments.length?a:this.valueOf())},"Number");Double.isNaN=Double.prototype.isNaN;c(Double,"isInfinite",function(a){return!isFinite(1==arguments.length?a:this.valueOf())},"Number");Double.isInfinite=Double.prototype.isInfinite;
c(Double,"parseDouble",function(a){if(null==a)throw new NumberFormatException("null");if("number"==typeof a)return a;var d=Number(a);if(isNaN(d))throw new NumberFormatException("Not a Number : "+a);return d},"String");Double.parseDouble=Double.prototype.parseDouble;c(Double,"$valueOf",function(a){return new Double(a)},"Number");Double.$valueOf=Double.prototype.$valueOf;e(Double,"equals",function(a){return null==a||!x(a,Double)?!1:a.valueOf()==this.valueOf()},"Object");Boolean=java.lang.Boolean=Boolean||
function(){s(this,arguments)};if(b._supportsNativeObject)for(d=0;d<b._extendedObjectMethods.length;d++)g=b._extendedObjectMethods[d],Boolean.prototype[g]=b._O.prototype[g];Boolean.__CLASS_NAME__="Boolean";aa(Boolean,[java.io.Serializable,java.lang.Comparable]);Boolean.equals=b._innerFunctions.equals;Boolean.getName=b._innerFunctions.getName;Boolean.serialVersionUID=Boolean.prototype.serialVersionUID=-0x32df8d7f2a630600;S(Boolean,function(a){var d=("string"==typeof a?Boolean.toBoolean(a):a)?!0:!1;
this.valueOf=function(){return d}},"~O");Boolean.parseBoolean=c(Boolean,"parseBoolean",function(a){return Boolean.toBoolean(a)},"~S");c(Boolean,"booleanValue",function(){return this.valueOf()});Boolean.$valueOf=e(Boolean,"$valueOf",function(a){return("string"==typeof a?"true".equalsIgnoreCase(a):a)?Boolean.TRUE:Boolean.FALSE});e(Boolean,"toString",function(){return this.valueOf()?"true":"false"});e(Boolean,"hashCode",function(){return this.valueOf()?1231:1237});e(Boolean,"equals",function(a){return x(a,
Boolean)?this.booleanValue()==a.booleanValue():!1},"~O");Boolean.getBoolean=c(Boolean,"getBoolean",function(a){var d=!1;try{d=Boolean.toBoolean(System.getProperty(a))}catch(g){if(!x(g,IllegalArgumentException)&&!x(g,NullPointerException))throw g;}return d},"~S");e(Boolean,"compareTo",function(a){return a.value==this.value?0:this.value?1:-1},"Boolean");Boolean.toBoolean=c(Boolean,"toBoolean",($fz=function(a){return null!=a&&a.equalsIgnoreCase("true")},$fz.isPrivate=!0,$fz),"~S");Boolean.TRUE=Boolean.prototype.TRUE=
new Boolean(!0);Boolean.FALSE=Boolean.prototype.FALSE=new Boolean(!1);Boolean.TYPE=Boolean.prototype.TYPE=Boolean;b._Encoding={};(function(a){a.UTF8="utf-8";a.UTF16="utf-16";a.ASCII="ascii";a.guessEncoding=function(d){return 239==d.charCodeAt(0)&&187==d.charCodeAt(1)&&191==d.charCodeAt(2)?a.UTF8:255==d.charCodeAt(0)&&254==d.charCodeAt(1)?a.UTF16:a.ASCII};a.guessEncodingArray=function(d){return 239==d[0]&&187==d[1]&&191==d[2]?a.UTF8:255==d[0]&&254==d[1]?a.UTF16:a.ASCII};a.readUTF8=function(d){if("string"!=
typeof d)return a.readUTF8Array(d);var g=a.guessEncoding(d),b=0;g==a.UTF8?b=3:g==a.UTF16&&(b=2);for(g=[];b<d.length;b++){var c=d.charCodeAt(b);if(128>c)g[g.length]=d.charAt(b);else if(192<c&&224>c){c&=31;b++;var f=d.charCodeAt(b)&63,c=(c<<6)+f;g[g.length]=String.fromCharCode(c)}else if(224<=c){c&=15;b++;f=d.charCodeAt(b)&63;b++;var h=d.charCodeAt(b)&63,c=(c<<12)+(f<<6)+h;g[g.length]=String.fromCharCode(c)}}return g.join("")};a.readUTF8Array=function(d){var g=a.guessEncodingArray(d),b=0;g==a.UTF8?
b=3:g==a.UTF16&&(b=2);for(g=[];b<d.length;b++){var c=d[b];if(128>c)g[g.length]=String.fromCharCode(c);else if(192<c&&224>c){var c=c&31,f=d[++b]&63,c=(c<<6)+f;g[g.length]=String.fromCharCode(c)}else if(224<=c){var c=c&15,f=d[++b]&63,h=d[++b]&63,c=(c<<12)+(f<<6)+h;g[g.length]=String.fromCharCode(c)}}return g.join("")};a.convert2UTF8=function(d){var g=this.guessEncoding(d),b=0;if(g==a.UTF8)return d;g==a.UTF16&&(b=2);for(var g=Array(0+d.length-b),c=b;c<d.length;c++){var f=d.charCodeAt(c);if(128>f)g[0+
c-b]=d.charAt(c);else if(2047>=f){var h=192+((f&1984)>>6),k=128+(f&63);g[0+c-b]=String.fromCharCode(h)+String.fromCharCode(k)}else h=224+((f&61440)>>12),k=128+((f&4032)>>6),f=128+(f&63),g[0+c-b]=String.fromCharCode(h)+String.fromCharCode(k)+String.fromCharCode(f)}return g.join("")};a.base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");a.encodeBase64=function(d){if(null==d||0==d.length)return d;for(var g=a.base64Chars,b=d.length,c=0,f=[],h,k;c<b;)h=d.charCodeAt(c++),
f[f.length]=g[h>>2],c<b?(k=d.charCodeAt(c++),f[f.length]=g[h<<4&48|k>>4],c<b?(h=d.charCodeAt(c++),f[f.length]=g[k<<2&60|h>>6],f[f.length]=g[h&63]):(f[f.length]=g[k<<2&60],f[f.length]="=")):(f[f.length]=g[h<<4&48],f[f.length]="=",f[f.length]="=");return f.join("")};a.decodeBase64=function(d){if(null==d||0==d.length)return d;var g=a.base64Chars,b=a.xBase64Chars;if(null==a.xBase64Chars){for(var b={},c=0;c<g.length;c++)b[g[c]]=c;a.xBase64Chars=b}for(var g=d.length,c=0,f=[],h,k,e,n,p=0;c<g&&6E4>p++;)h=
b[d.charAt(c++)],k=b[d.charAt(c++)],e=b[d.charAt(c++)],n=b[d.charAt(c++)],f[f.length]=String.fromCharCode(h<<2&255|k>>4),null!=e&&(f[f.length]=String.fromCharCode(k<<4&255|e>>2),null!=n&&(f[f.length]=String.fromCharCode(e<<6&255|n)));return f.join("")};if(null==String.prototype.$replace){java.lang.String=String;if(b._supportsNativeObject)for(var d=0;d<b._extendedObjectMethods.length;d++){var g=b._extendedObjectMethods[d];"to$tring"==g||("toString"==g||"equals"==g||"hashCode"==g)||(String.prototype[g]=
b._O.prototype[g])}aa(String,[java.io.Serializable,CharSequence,Comparable]);String.getName=b._innerFunctions.getName;String.serialVersionUID=String.prototype.serialVersionUID=-0x5f0f5bc785c44c00;(function(d){d.$replace=function(a,d){if(a==d||0>this.indexOf(a))return""+this;1==a.length?0<="\\$.*+|?^{}()[]".indexOf(a)&&(a="\\"+a):a=a.replace(/([\\\$\.\*\+\|\?\^\{\}\(\)\[\]])/g,function(a,d){return"\\"+d});return this.replace(RegExp(a,"gm"),d)};d.$generateExpFunction=function(a){var d=[],g=[],b=0;d[0]=
"";for(var A=0;A<a.length;A++){var c=a.charAt(A);A!=a.length-1&&"\\"==c?(A++,c=a.charAt(A),"\\"==c&&(d[b]+="\\"),d[b]+=c):A!=a.length-1&&"$"==c?(A++,g[b]=parseInt(a.charAt(A)),b++,d[b]=""):d[b]="\r"==c?d[b]+"\\r":"\n"==c?d[b]+"\\n":"\t"==c?d[b]+"\\t":'"'==c?d[b]+'\\"':d[b]+c}a="f = function (";b=Math.max.apply({},g);for(A=0;A<=b;A++)a+="$"+A,A!=b&&(a+=", ");a+=") { return ";for(A=0;A<d.length-1;A++)a+='"'+d[A]+'" + $'+g[A]+" + ";a+='"'+d[A]+'"; }';eval(a);return null};d.replaceAll=function(a,d){return this.replace(RegExp(a,
"gm"),this.$generateExpFunction(d))};d.replaceFirst=function(a,d){return this.replace(RegExp(a,"m"),this.$generateExpFunction(d))};d.matches=function(a){null!=a&&(a="^("+a+")$");a=this.match(RegExp(a,"gm"));return null!=a&&0!=a.length};d.regionMatches=function(a,d,g,b,A){if("number"==typeof a||!0!=a&&!1!=a)A=b,b=g,g=d,d=a,a=!1;if(0>b||0>d||d>this.length-A||b>g.length-A)return!1;d=this.substring(d,d+A);g=g.substring(b,b+A);a&&(d=d.toLowerCase(),g=g.toLowerCase());return d==g};d.$plit=function(a,d){if(!d&&
" "==a)return this.split(a);if(null!=d&&0<d){if(1==d)return this;var g=RegExp("("+a+")","gm"),b=1,A=this.replace(g,function(a){b++;return b==d?"@@_@@":a}),g=RegExp(a,"gm"),g=this.split(g);g.length>d&&(g[d-1]=A.substring(A.indexOf("@@_@@")+5),g.length=d);return g}g=RegExp(a,"gm");return this.split(g)};d.trim||(d.trim=function(){return this.replace(/^\s+/g,"").replace(/\s+$/g,"")});if(!d.startsWith||!d.endsWith){var g=function(a,d,g){var b=g,A=0,c=d.length;if(0>g||g>a.length-c)return!1;for(;0<=--c;)if(a.charAt(b++)!=
d.charAt(A++))return!1;return!0};d.startsWith=function(a){return 1==arguments.length?g(this,arguments[0],0):2==arguments.length?g(this,arguments[0],arguments[1]):!1};d.endsWith=function(a){return g(this,a,this.length-a.length)}}d.equals=function(a){return this.valueOf()==a};d.equalsIgnoreCase=function(a){return null==a?!1:this==a||this.toLowerCase()==a.toLowerCase()};d.hash=0;d.hashCode=function(){var a=this.hash;if(0==a){for(var d=0,g=this.length,b=0;b<g;b++)a=31*a+this.charCodeAt(d++),a&=4294967295;
this.hash=a}return a};d.getBytes=function(){if(4==arguments.length)return this.getChars(arguments[0],arguments[1],arguments[2],arguments[3]);var d=this;if(1==arguments.length){for(var g=arguments[0].toString().toLowerCase(),b="utf-8 UTF8 us-ascii iso-8859-1 8859_1 gb2312 gb18030 gbk".split(" "),c=!1,f=0;f<b.length;f++)if(b[f]==g){c=!0;break}if(!c)throw new java.io.UnsupportedEncodingException;if("utf-8"==g||"utf8"==g)d=a.convert2UTF8(this)}g=Array(d.length);for(f=c=b=0;f<d.length;f++)b=d.charCodeAt(f),
255<b?(g[c]=26,g[c+1]=b&255,g[c+2]=(b&65280)>>8,c+=2):g[c]=b,c++;return K(g)};d.contains=function(a){return 0<=this.indexOf(a)};d.compareTo=function(a){return this>a?1:this<a?-1:0};d.toCharArray=function(){for(var a=Array(this.length),d=0;d<this.length;d++)a[d]=this.charAt(d);return a};String.value0f=String.valueOf;String.valueOf=function(a){if("undefined"==a)return String.value0f();if(a instanceof Array){if(1==arguments.length)return a.join("");for(var d=arguments[1],g=arguments[2],b=Array(g),A=
0;A<g;A++)b[A]=a[d+A];return b.join("")}return""+a};d.subSequence=function(a,d){return this.substring(a,d)};d.compareToIgnoreCase=function(a){if(null==a)throw new NullPointerException;var d=this.toUpperCase(),g=a.toUpperCase();if(d==g)return 0;d=this.toLowerCase();g=a.toLowerCase();return d==g?0:d>g?1:-1};d.contentEquals=function(a){if(this.length!=a.length())return!1;a=a.getValue();for(var d=0,g=0,b=this.length;0!=b--;)if(this.charCodeAt(d++)!=a[g++])return!1;return!0};d.getChars=function(a,d,g,
b){if(0>a)throw new StringIndexOutOfBoundsException(a);if(d>this.length)throw new StringIndexOutOfBoundsException(d);if(a>d)throw new StringIndexOutOfBoundsException(d-a);if(null==g)throw new NullPointerException;for(var A=0;A<d-a;A++)g[b+A]=this.charAt(a+A)};d.$concat=d.concat;d.concat=function(a){if(null==a)throw new NullPointerException;return this.$concat(a)};d.$lastIndexOf=d.lastIndexOf;d.lastIndexOf=function(a,d){return null!=d&&0>=d+this.length?-1:null!=d?this.$lastIndexOf(a,d):this.$lastIndexOf(a)};
d.intern=function(){return this.valueOf()};String.copyValueOf=d.copyValueOf=function(){return 1==arguments.length?String.instantialize(arguments[0]):String.instantialize(arguments[0],arguments[1],arguments[2])};d.codePointAt||(d.codePointAt=d.charCodeAt)})(String.prototype);var c=new TextDecoder;String.instantialize=function(){switch(arguments.length){case 0:return new String;case 1:var a=arguments[0];return a.BYTES_PER_ELEMENT?0==a.length?"":"number"==typeof a[0]?c.decode(a):a.join(""):a instanceof
Array?0==a.length?"":"number"==typeof a[0]?c.decode(new Uint8Array(a)):a.join(""):"string"==typeof a||a instanceof String?new String(a):""+a;case 2:var a=arguments[0],d=arguments[1];return"string"==typeof d?String.instantialize(a,0,a.length,d):String.instantialize(a,d,0,a.length);case 3:var a=arguments[0],g=arguments[1],d=arguments[2];arguments[2]instanceof Array&&(a=arguments[2],g=arguments[0],d=arguments[1]);var b=Array(d);if(0>g||d+g>a.length)throw new IndexOutOfBoundsException;if(0<d)if(null!=
a[g].length)for(var A=0;A<d;A++)b[A]=a[g+A];else for(A=0;A<d;A++)b[A]=String.fromCharCode(a[g+A]);return b.join("");case 4:a=arguments[0];g=arguments[3];if("string"==typeof g||g instanceof String){g=arguments[1];d=arguments[2];b=new Uint8Array(d);for(A=0;A<d;A++)b[A]=a[g+A];return c.decode(b)}A=arguments[3];g=arguments[2];d=arguments[1];b=Array(A);if(0==d)for(;0<A--;)b[A]=String.fromCharCode(a[A+g]&255);else for(d<<=8;0<A--;)b[A]=String.fromCharCode(d|a[A+g]&255);return b.join("");default:a="";for(A=
0;A<arguments.length;A++)a+=arguments[A];return a}};-1!=navigator.userAgent.toLowerCase().indexOf("chrome")&&(String.prototype.toString=function(){return this.valueOf()})}})(b._Encoding);d=q(function(){this.value=0;s(this,arguments)},java.lang,"Character",null,[java.io.Serializable,Comparable]);p(d,function(a){this.value=a},"~N");c(d,"charValue",function(){return this.value});e(d,"hashCode",function(){return this.value.charCodeAt(0)});e(d,"equals",function(a){return x(a,Character)?this.value.charCodeAt(0)==
a.charValue().charCodeAt(0):!1},"~O");e(d,"compareTo",function(a){return this.value.charCodeAt(0)-a.value.charCodeAt(0)},"Character");d.toLowerCase=c(d,"toLowerCase",function(a){return(""+a).toLowerCase().charAt(0)},"~N");d.toUpperCase=c(d,"toUpperCase",function(a){return(""+a).toUpperCase().charAt(0)},"~N");d.isDigit=c(d,"isDigit",function(a){a=a.charCodeAt(0);return 48<=a&&57>=a},"~N");d.isUpperCase=c(d,"isUpperCase",function(a){a=a.charCodeAt(0);return 65<=a&&90>=a},"~N");d.isLowerCase=c(d,"isLowerCase",
function(a){a=a.charCodeAt(0);return 97<=a&&122>=a},"~N");d.isWhitespace=c(d,"isWhitespace",function(a){a=a.charCodeAt(0);return 28<=a&&32>=a||9<=a&&13>=a||5760==a||8192<=a&&8199!=a&&(8203>=a||8232==a||8233==a||12288==a)},"~N");d.isLetter=c(d,"isLetter",function(a){a=a.charCodeAt(0);return 65<=a&&90>=a||97<=a&&122>=a},"~N");d.isLetterOrDigit=c(d,"isLetterOrDigit",function(a){a=a.charCodeAt(0);return 65<=a&&90>=a||97<=a&&122>=a||48<=a&&57>=a},"~N");d.isSpaceChar=c(d,"isSpaceChar",function(a){a=a.charCodeAt(0);
return 32==a||160==a||5760==a?!0:8192>a?!1:8203>=a||8232==a||8233==a||8239==a||12288==a},"~N");d.digit=c(d,"digit",function(a,d){var g=a.charCodeAt(0);if(2<=d&&36>=d&&128>g){var b=-1;48<=g&&57>=g?b=g-48:97<=g&&122>=g?b=g-87:65<=g&&90>=g&&(b=g-55);return b<d?b:-1}return-1},"~N,~N");e(d,"toString",function(){return String.valueOf([this.value])});d.toString=e(d,"toString",function(a){return this===Character?"class java.lang.Character":String.valueOf(a)},"~N");E(d,"MIN_VALUE","\x00","MAX_VALUE","\uffff",
"MIN_RADIX",2,"MAX_RADIX",36,"TYPE",null);java.lang.Character.TYPE=java.lang.Character.prototype.TYPE=java.lang.Character;b._ArrayWrapper=function(a,d){return{a:a,__CLASS_NAME__:"Array",superClazz:Array,getComponentType:function(){return d},instanceOf:function(a){return x(d,a)},getName:function(){return this.__CLASS_NAME__}}};d=u(java.lang.reflect,"Array");d.newInstance=c(d,"newInstance",function(a,d){var g=y(d);g.getClass=function(){return new b._ArrayWrapper(this,a)};return g},"Class,~N");d.getLength=
function(a){return a.length};d.get=function(a,d){return a[d]};a.Date=Date;Date.TYPE="javautil.Date";Date.__CLASS_NAME__="Date";aa(Date,[java.io.Serializable,java.lang.Comparable]);c(a.Date,"clone",function(){return new Date(this.getTime())});c(a.Date,"before",function(a){return this.getTime()<a.getTime()},"javautil.Date");c(a.Date,"after",function(a){return this.getTime()>a.getTime()},"javautil.Date");c(a.Date,"equals",function(d){return x(d,a.Date)&&this.getTime()==d.getTime()},"Object");c(a.Date,
"compareTo",function(a){var d=this.getTime();a=a.getTime();return d<a?-1:d==a?0:1},"javautil.Date");c(a.Date,"compareTo",function(a){return this.compareTo(a)},"Object");e(a.Date,"hashCode",function(){var a=this.getTime();return parseInt(a)^parseInt(a>>32)});d=q(function(){this.source=null;s(this,arguments)},a,"EventObject",null,java.io.Serializable);p(d,function(a){if(null!=a)this.source=a;else throw new IllegalArgumentException;},"~O");c(d,"getSource",function(){return this.source});e(d,"toString",
function(){return this.getClass().getName()+"[source="+String.valueOf(this.source)+"]"});C(a,"EventListener");d=q(function(){this.listener=null;s(this,arguments)},a,"EventListenerProxy",null,a.EventListener);p(d,function(a){this.listener=a},"javautil.EventListener");c(d,"getListener",function(){return this.listener});C(a,"Iterator");C(a,"ListIterator",a.Iterator);C(a,"Enumeration");C(a,"Collection",Iterable);C(a,"Set",a.Collection);C(a,"Map");C(a.Map,"Entry");C(a,"List",a.Collection);C(a,"Queue",
a.Collection);C(a,"RandomAccess");d=q(function(){this.stackTrace=this.cause=this.detailMessage=null;s(this,arguments)},java.lang,"Throwable",null,java.io.Serializable);H(d,function(){this.cause=this});p(d,function(){this.fillInStackTrace()});p(d,function(a){this.fillInStackTrace();this.detailMessage=a},"~S");p(d,function(a,d){this.fillInStackTrace();this.detailMessage=a;this.cause=d},"~S,Throwable");p(d,function(a){this.fillInStackTrace();this.detailMessage=null==a?null:a.toString();this.cause=a},
"Throwable");c(d,"getMessage",function(){return this.message||this.detailMessage||this.toString()});c(d,"getLocalizedMessage",function(){return this.getMessage()});c(d,"getCause",function(){return this.cause===this?null:this.cause});c(d,"initCause",function(a){if(this.cause!==this)throw new IllegalStateException("Can't overwrite cause");if(a===this)throw new IllegalArgumentException("Self-causation not permitted");this.cause=a;return this},"Throwable");e(d,"toString",function(){var a=this.getClass().getName(),
d=this.message||this.detailMessage;return d?a+": "+d:a});c(d,"printStackTrace",function(){System.err.println(this.getStackTrace?this.getStackTrace():this.message+" "+ka())});c(d,"getStackTrace",function(){for(var a=""+this+"\n",d=0;d<this.stackTrace.length;d++){var g=this.stackTrace[d],b=g.methodName.indexOf("(");if("construct"!=g.methodName.substring(0,b).replace(/\s+/g,"")||null==g.nativeClazz||0>sa(g.nativeClazz,Throwable))a+=g+"\n"}return a});c(d,"printStackTrace",function(){this.printStackTrace()},
"java.io.PrintStream");c(d,"printStackTrace",function(){this.printStackTrace()},"java.io.PrintWriter");c(d,"fillInStackTrace",function(){this.stackTrace=[];for(var a=arguments.callee.caller,d=null,g=[],c=b._callingStackTraces.length-1,e=!0;-1<c||null!=a;){var l=null;if(!e||a==Ba||a==T||null==a){if(0>c)break;e=!0;d=b._callingStackTraces[c].caller;l=b._callingStackTraces[c].owner;c--}else d=a,null!=d.claxxOwner?l=d.claxxOwner:null!=d.exClazz&&(l=d.exClazz);a=new StackTraceElement(null!=l&&0!=l.__CLASS_NAME__.length?
l.__CLASS_NAME__:"anonymous",(null==d.exName?"anonymous":d.exName)+" ("+ta(d.arguments)+")",null,-1);a.nativeClazz=l;this.stackTrace[this.stackTrace.length]=a;for(l=0;l<g.length;l++)g[l]==d&&(a=new StackTraceElement("lost","missing",null,-3),a.nativeClazz=null,this.stackTrace[this.stackTrace.length]=a,e=!1);null!=d&&(g[g.length]=d);a=d.arguments.callee.caller}b._initializingException=!1;return this});c(d,"setStackTrace",function(a){a=a.clone();for(var d=0;d<a.length;d++)if(null==a[d])throw new NullPointerException("stackTrace["+
d+"]");this.stackTrace=a},"~A");d=q(function(){this.fileName=this.methodName=this.declaringClass=null;this.lineNumber=0;s(this,arguments)},java.lang,"StackTraceElement",null,java.io.Serializable);p(d,function(a,d,g,b){if(null==a||null==d)throw new NullPointerException;this.declaringClass=a;this.methodName=d;this.fileName=g;this.lineNumber=b},"~S,~S,~S,~N");e(d,"equals",function(a){if(!x(a,StackTraceElement)||(null==this.methodName||null==a.methodName)||!this.getMethodName().equals(a.getMethodName())||
!this.getClassName().equals(a.getClassName()))return!1;var d=this.getFileName();if(null==d){if(null!=a.getFileName())return!1}else if(!d.equals(a.getFileName()))return!1;return this.getLineNumber()!=a.getLineNumber()?!1:!0},"~O");c(d,"getClassName",function(){return null==this.declaringClass?"<unknown class>":this.declaringClass});c(d,"getFileName",function(){return this.fileName});c(d,"getLineNumber",function(){return this.lineNumber});c(d,"getMethodName",function(){return null==this.methodName?
"<unknown method>":this.methodName});e(d,"hashCode",function(){return null==this.methodName?0:this.methodName.hashCode()^this.declaringClass.hashCode()});c(d,"isNativeMethod",function(){return-2==this.lineNumber});e(d,"toString",function(){var a=this.getClassName()+"."+this.getMethodName();if(this.isNativeMethod())a+="(Native Method)";else{var d=this.getFileName();if(null==d)a+="(Unknown Source)";else{var g=this.getLineNumber(),a=a+"("+d;0<=g&&(a+=":",a+=g);a+=")"}}return a});TypeError.prototype.getMessage||
(TypeError.prototype.getMessage=function(){return(this.message||this.toString())+(this.getStackTrace?this.getStackTrace():ka())});Clazz_Error=Error;Clazz_declareTypeError=function(a,d,g,b,c){return q(function(){s(this,arguments);return Clazz_Error()},a,d,g,b,c)};b._Error||(b._Error=Error);q(function(){s(this,arguments);return b._Error()},java.lang,"Error",Throwable);d=u(java.lang,"LinkageError",Error);d=u(java.lang,"IncompatibleClassChangeError",LinkageError);d=u(java.lang,"AbstractMethodError",IncompatibleClassChangeError);
d=u(java.lang,"AssertionError",Error);p(d,function(a){B(this,AssertionError,[String.valueOf(a),x(a,Throwable)?a:null])},"~O");p(d,function(a){this.construct(""+a)},"~B");p(d,function(a){this.construct(""+a)},"~N");d=u(java.lang,"ClassCircularityError",LinkageError);d=u(java.lang,"ClassFormatError",LinkageError);d=q(function(){this.exception=null;s(this,arguments)},java.lang,"ExceptionInInitializerError",LinkageError);p(d,function(){B(this,ExceptionInInitializerError);this.initCause(null)});p(d,function(a){B(this,
ExceptionInInitializerError,[a]);this.initCause(null)},"~S");p(d,function(a){B(this,ExceptionInInitializerError);this.exception=a;this.initCause(a)},"Throwable");c(d,"getException",function(){return this.exception});e(d,"getCause",function(){return this.exception});d=u(java.lang,"IllegalAccessError",IncompatibleClassChangeError);d=u(java.lang,"InstantiationError",IncompatibleClassChangeError);d=u(java.lang,"VirtualMachineError",Error);d=u(java.lang,"InternalError",VirtualMachineError);d=u(java.lang,
"NoClassDefFoundError",LinkageError);d=u(java.lang,"NoSuchFieldError",IncompatibleClassChangeError);d=u(java.lang,"NoSuchMethodError",IncompatibleClassChangeError);d=u(java.lang,"OutOfMemoryError",VirtualMachineError);d=u(java.lang,"StackOverflowError",VirtualMachineError);d=u(java.lang,"UnknownError",VirtualMachineError);d=u(java.lang,"UnsatisfiedLinkError",LinkageError);d=u(java.lang,"UnsupportedClassVersionError",ClassFormatError);d=u(java.lang,"VerifyError",LinkageError);d=u(java.lang,"ThreadDeath",
Error);p(d,function(){B(this,ThreadDeath,[])});d=u(java.lang,"Exception",Throwable);d=u(java.lang,"RuntimeException",Exception);d=u(java.lang,"ArithmeticException",RuntimeException);d=u(java.lang,"IndexOutOfBoundsException",RuntimeException);d=u(java.lang,"ArrayIndexOutOfBoundsException",IndexOutOfBoundsException);p(d,function(a){B(this,ArrayIndexOutOfBoundsException,["Array index out of range: "+a])},"~N");d=u(java.lang,"ArrayStoreException",RuntimeException);d=u(java.lang,"ClassCastException",RuntimeException);
d=q(function(){this.ex=null;s(this,arguments)},java.lang,"ClassNotFoundException",Exception);p(d,function(){B(this,ClassNotFoundException,[X("Throwable")])});p(d,function(a){B(this,ClassNotFoundException,[a,null])},"~S");p(d,function(a,d){B(this,ClassNotFoundException,[a]);this.ex=d},"~S,Throwable");c(d,"getException",function(){return this.ex});e(d,"getCause",function(){return this.ex});d=u(java.lang,"CloneNotSupportedException",Exception);d=u(java.lang,"IllegalAccessException",Exception);d=u(java.lang,
"IllegalArgumentException",RuntimeException);p(d,function(a){B(this,IllegalArgumentException,[null==a?null:a.toString(),a])},"Throwable");d=u(java.lang,"IllegalMonitorStateException",RuntimeException);d=u(java.lang,"IllegalStateException",RuntimeException);p(d,function(a){B(this,IllegalStateException,[null==a?null:a.toString(),a])},"Throwable");d=u(java.lang,"IllegalThreadStateException",IllegalArgumentException);d=u(java.lang,"InstantiationException",Exception);d=u(java.lang,"InterruptedException",
Exception);d=u(java.lang,"NegativeArraySizeException",RuntimeException);d=u(java.lang,"NoSuchFieldException",Exception);d=u(java.lang,"NoSuchMethodException",Exception);d=u(java.lang,"NullPointerException",RuntimeException);d=u(java.lang,"NumberFormatException",IllegalArgumentException);d=u(java.lang,"SecurityException",RuntimeException);p(d,function(a){B(this,SecurityException,[null==a?null:a.toString(),a])},"Throwable");d=u(java.lang,"StringIndexOutOfBoundsException",IndexOutOfBoundsException);
p(d,function(a){B(this,StringIndexOutOfBoundsException,["String index out of range: "+a])},"~N");d=u(java.lang,"UnsupportedOperationException",RuntimeException);p(d,function(){B(this,UnsupportedOperationException,[])});p(d,function(a){B(this,UnsupportedOperationException,[null==a?null:a.toString(),a])},"Throwable");d=q(function(){this.target=null;s(this,arguments)},java.lang.reflect,"InvocationTargetException",Exception);p(d,function(){B(this,java.lang.reflect.InvocationTargetException,[X("Throwable")])});
p(d,function(a){B(this,java.lang.reflect.InvocationTargetException,[null,a]);this.target=a},"Throwable");p(d,function(a,d){B(this,java.lang.reflect.InvocationTargetException,[d,a]);this.target=a},"Throwable,~S");c(d,"getTargetException",function(){return this.target});e(d,"getCause",function(){return this.target});d=q(function(){this.undeclaredThrowable=null;s(this,arguments)},java.lang.reflect,"UndeclaredThrowableException",RuntimeException);p(d,function(a){B(this,java.lang.reflect.UndeclaredThrowableException);
this.undeclaredThrowable=a;this.initCause(a)},"Throwable");p(d,function(a,d){B(this,java.lang.reflect.UndeclaredThrowableException,[d]);this.undeclaredThrowable=a;this.initCause(a)},"Throwable,~S");c(d,"getUndeclaredThrowable",function(){return this.undeclaredThrowable});e(d,"getCause",function(){return this.undeclaredThrowable});d=u(java.io,"IOException",Exception);d=u(java.io,"CharConversionException",java.io.IOException);d=u(java.io,"EOFException",java.io.IOException);d=u(java.io,"FileNotFoundException",
java.io.IOException);d=q(function(){this.bytesTransferred=0;s(this,arguments)},java.io,"InterruptedIOException",java.io.IOException);d=u(java.io,"SyncFailedException",java.io.IOException);d=u(java.io,"UnsupportedEncodingException",java.io.IOException);d=u(java.io,"UTFDataFormatException",java.io.IOException);c(d,"getMessage",function(){var a=T(this,java.io.WriteAbortedException,"getMessage",[]);return this.detail?a+"; "+this.detail.toString():a});e(d,"getCause",function(){return this.detail});d=u(a,
"ConcurrentModificationException",RuntimeException);p(d,function(){B(this,a.ConcurrentModificationException,[])});d=u(a,"EmptyStackException",RuntimeException);d=q(function(){this.key=this.className=null;s(this,arguments)},a,"MissingResourceException",RuntimeException);p(d,function(d,g,b){B(this,a.MissingResourceException,[d]);this.className=g;this.key=b},"~S,~S,~S");c(d,"getClassName",function(){return this.className});c(d,"getKey",function(){return this.key});d=u(a,"NoSuchElementException",RuntimeException);
d=u(a,"TooManyListenersException",Exception);d=u(java.lang,"Void");E(d,"TYPE",null);java.lang.Void.TYPE=java.lang.Void;C(java.lang.reflect,"GenericDeclaration");C(java.lang.reflect,"AnnotatedElement");d=u(java.lang.reflect,"AccessibleObject",null,java.lang.reflect.AnnotatedElement);p(d,function(){});c(d,"isAccessible",function(){return!1});d.setAccessible=c(d,"setAccessible",function(){},"~A,~B");c(d,"setAccessible",function(){},"~B");e(d,"isAnnotationPresent",function(){return!1},"Class");e(d,"getDeclaredAnnotations",
function(){return[]});e(d,"getAnnotations",function(){return[]});e(d,"getAnnotation",function(){return null},"Class");d.marshallArguments=c(d,"marshallArguments",function(){return null},"~A,~A");c(d,"invokeV",function(){},"~O,~A");c(d,"invokeL",function(){return null},"~O,~A");c(d,"invokeI",function(){return 0},"~O,~A");c(d,"invokeJ",function(){return 0},"~O,~A");c(d,"invokeF",function(){return 0},"~O,~A");c(d,"invokeD",function(){return 0},"~O,~A");d.emptyArgs=d.prototype.emptyArgs=[];C(java.lang.reflect,
"InvocationHandler");d=C(java.lang.reflect,"Member");E(d,"PUBLIC",0,"DECLARED",1);d=u(java.lang.reflect,"Modifier");p(d,function(){});d.isAbstract=c(d,"isAbstract",function(a){return 0!=(a&1024)},"~N");d.isFinal=c(d,"isFinal",function(a){return 0!=(a&16)},"~N");d.isInterface=c(d,"isInterface",function(a){return 0!=(a&512)},"~N");d.isNative=c(d,"isNative",function(a){return 0!=(a&256)},"~N");d.isPrivate=c(d,"isPrivate",function(a){return 0!=(a&2)},"~N");d.isProtected=c(d,"isProtected",function(a){return 0!=
(a&4)},"~N");d.isPublic=c(d,"isPublic",function(a){return 0!=(a&1)},"~N");d.isStatic=c(d,"isStatic",function(a){return 0!=(a&8)},"~N");d.isStrict=c(d,"isStrict",function(a){return 0!=(a&2048)},"~N");d.isSynchronized=c(d,"isSynchronized",function(a){return 0!=(a&32)},"~N");d.isTransient=c(d,"isTransient",function(a){return 0!=(a&128)},"~N");d.isVolatile=c(d,"isVolatile",function(a){return 0!=(a&64)},"~N");d.toString=c(d,"toString",function(a){var d=[];java.lang.reflect.Modifier.isPublic(a)&&(d[d.length]=
"public");java.lang.reflect.Modifier.isProtected(a)&&(d[d.length]="protected");java.lang.reflect.Modifier.isPrivate(a)&&(d[d.length]="private");java.lang.reflect.Modifier.isAbstract(a)&&(d[d.length]="abstract");java.lang.reflect.Modifier.isStatic(a)&&(d[d.length]="static");java.lang.reflect.Modifier.isFinal(a)&&(d[d.length]="final");java.lang.reflect.Modifier.isTransient(a)&&(d[d.length]="transient");java.lang.reflect.Modifier.isVolatile(a)&&(d[d.length]="volatile");java.lang.reflect.Modifier.isSynchronized(a)&&
(d[d.length]="synchronized");java.lang.reflect.Modifier.isNative(a)&&(d[d.length]="native");java.lang.reflect.Modifier.isStrict(a)&&(d[d.length]="strictfp");java.lang.reflect.Modifier.isInterface(a)&&(d[d.length]="interface");return 0<d.length?d.join(" "):""},"~N");E(d,"PUBLIC",1,"PRIVATE",2,"PROTECTED",4,"STATIC",8,"FINAL",16,"SYNCHRONIZED",32,"VOLATILE",64,"TRANSIENT",128,"NATIVE",256,"INTERFACE",512,"ABSTRACT",1024,"STRICT",2048,"BRIDGE",64,"VARARGS",128,"SYNTHETIC",4096,"ANNOTATION",8192,"ENUM",
16384);d=q(function(){this.exceptionTypes=this.parameterTypes=this.clazz=null;this.modifiers=0;s(this,arguments)},java.lang.reflect,"Constructor",java.lang.reflect.AccessibleObject,[java.lang.reflect.GenericDeclaration,java.lang.reflect.Member]);p(d,function(a,d,g,b){B(this,java.lang.reflect.Constructor,[]);this.clazz=a;this.parameterTypes=d;this.exceptionTypes=g;this.modifiers=b},"Class,~A,~A,~N");e(d,"getTypeParameters",function(){return null});c(d,"toGenericString",function(){return null});c(d,
"getGenericParameterTypes",function(){return null});c(d,"getGenericExceptionTypes",function(){return null});c(d,"getParameterAnnotations",function(){return null});c(d,"isVarArgs",function(){return!1});e(d,"isSynthetic",function(){return!1});e(d,"equals",function(a){if(null!=a&&x(a,java.lang.reflect.Constructor)&&this.getDeclaringClass()===a.getDeclaringClass()){var d=this.parameterTypes;a=a.parameterTypes;if(d.length==a.length){for(var g=0;g<d.length;g++)if(d[g]!==a[g])return!1;return!0}}return!1},
"~O");e(d,"getDeclaringClass",function(){return this.clazz});c(d,"getExceptionTypes",function(){return this.exceptionTypes});e(d,"getModifiers",function(){return this.modifiers});e(d,"getName",function(){return this.getDeclaringClass().getName()});c(d,"getParameterTypes",function(){return this.parameterTypes});e(d,"hashCode",function(){return this.getDeclaringClass().getName().hashCode()});c(d,"newInstance",function(a){var d=new this.clazz(Ca);s(d,a);return d},"~A");e(d,"toString",function(){return null});
d=u(java.lang.reflect,"Field",java.lang.reflect.AccessibleObject,java.lang.reflect.Member);e(d,"isSynthetic",function(){return!1});c(d,"toGenericString",function(){return null});c(d,"isEnumConstant",function(){return!1});c(d,"getGenericType",function(){return null});e(d,"equals",function(){return!1},"~O");e(d,"getDeclaringClass",function(){return null});e(d,"getName",function(){return null});c(d,"getType",function(){return null});e(d,"hashCode",function(){return 0});e(d,"toString",function(){return null});
d=q(function(){this.exceptionTypes=this.parameterTypes=this.returnType=this.name=this.clazz=null;this.modifiers=0;s(this,arguments)},java.lang.reflect,"Method",java.lang.reflect.AccessibleObject,[java.lang.reflect.GenericDeclaration,java.lang.reflect.Member]);p(d,function(a,d,g,b,c,e){B(this,java.lang.reflect.Method,[]);this.clazz=a;this.name=d;this.parameterTypes=g;this.returnType=b;this.exceptionTypes=c;this.modifiers=e},"Class,~S,~A,Class,~A,~N");e(d,"getTypeParameters",function(){return null});
c(d,"toGenericString",function(){return null});c(d,"getGenericParameterTypes",function(){return null});c(d,"getGenericExceptionTypes",function(){return null});c(d,"getGenericReturnType",function(){return null});c(d,"getParameterAnnotations",function(){return null});c(d,"isVarArgs",function(){return!1});c(d,"isBridge",function(){return!1});e(d,"isSynthetic",function(){return!1});c(d,"getDefaultValue",function(){return null});e(d,"equals",function(a){if(null!=a&&x(a,java.lang.reflect.Method)&&this.getDeclaringClass()===
a.getDeclaringClass()&&this.getName()===a.getName()){var d=this.parameterTypes;a=a.parameterTypes;if(d.length==a.length){for(var g=0;g<d.length;g++)if(d[g]!==a[g])return!1;return!0}}return!1},"~O");e(d,"getDeclaringClass",function(){return this.clazz});c(d,"getExceptionTypes",function(){return this.exceptionTypes});e(d,"getModifiers",function(){return this.modifiers});e(d,"getName",function(){return this.name});c(d,"getParameterTypes",function(){return this.parameterTypes});c(d,"getReturnType",function(){return this.returnType});
e(d,"hashCode",function(){return this.getDeclaringClass().getName().hashCode()^this.getName().hashCode()});c(d,"invoke",function(a,d){var g=this.clazz.prototype[this.getName()];null==g&&(g=this.clazz[this.getName()]);null!=g&&g.apply(a,d)},"~O,~A");e(d,"toString",function(){return null})})($);if(!Jmol._debugCode){v(null,"java.lang.Enum",["java.lang.CloneNotSupportedException","$.IllegalArgumentException","$.NullPointerException"],function(){var b=q(function(){this.$name=null;this.$ordinal=0;s(this,
arguments)},java.lang,"Enum",null,[java.io.Serializable,Comparable]);p(b,function(a,d){this.$name=a;this.$ordinal=d},"~S,~N");c(b,"name",function(){return this.$name});c(b,"ordinal",function(){return this.$ordinal});e(b,"toString",function(){return this.$name});e(b,"equals",function(a){return this===a},"~O");e(b,"hashCode",function(){return this.$ordinal+(null==this.$name?0:this.$name.hashCode())});e(b,"clone",function(){throw new CloneNotSupportedException("KA004");});e(b,"compareTo",function(a){return this.$ordinal-
a.$ordinal},"~O");c(b,"getDeclaringClass",function(){var a=this.getClass(),d=a.getSuperclass();return Enum===d?a:d});b.$valueOf=c(b,"$valueOf",function(a,d){if(null==a||null==d)throw new NullPointerException("KA001");var g=Enum.getValues(a);if(null==g)throw new IllegalArgumentException("KA005");for(var b,c=0;c<g.length&&((b=g[c])||1);c++)if(b.$name.equals(d))return b;throw new IllegalArgumentException("KA006");},"Class,~S");b.getValues=c(b,"getValues",function(a){return a.values()},"Class")});v(null,
"java.lang.Thread",["java.lang.IllegalArgumentException","$.ThreadGroup","java.util.Date"],function(){var b=q(function(){this.name=this.group=this.target=null;this.priority=0;s(this,arguments)},java.lang,"Thread",null,Runnable);b.currentThread=c(b,"currentThread",function(){null==Thread.J2S_THREAD&&(Thread.J2S_THREAD=new Thread);return Thread.J2S_THREAD});b.sleep=c(b,"sleep",function(){alert("Thread.sleep is not implemented in Java2Script!")},"~N");p(b,function(){});p(b,function(a){this.init(null,
a,"Thread-"+(new java.util.Date).getTime()+Math.random(),0)},"Runnable");p(b,function(a,d){this.init(a,d,"Thread-"+(new java.util.Date).getTime()+Math.random(),0)},"ThreadGroup,Runnable");p(b,function(a){this.init(null,null,a,0)},"~S");p(b,function(a,d){this.init(a,null,d,0)},"ThreadGroup,~S");p(b,function(a,d){this.init(null,a,d,0)},"Runnable,~S");p(b,function(a,d,g){this.init(a,d,g,0)},"ThreadGroup,Runnable,~S");p(b,function(a,d,g,b){this.init(a,d,g,b)},"ThreadGroup,Runnable,~S,~N");c(b,"init",
function(a,d,g){null==a&&(a=new ThreadGroup);this.group=a;this.target=d;this.name=g;this.priority=5},"ThreadGroup,Runnable,~S,~N");c(b,"start",function(){window.setTimeout(function(a){return function(){a.run()}}(this),0)});c(b,"run",function(){null!=this.target&&this.target.run()});c(b,"setPriority",function(a){if(10<a||1>a)throw new IllegalArgumentException;this.priority=a},"~N");c(b,"getPriority",function(){return this.priority});c(b,"setName",function(a){this.name=a},"~S");c(b,"getName",function(){return String.valueOf(this.name)});
c(b,"getThreadGroup",function(){return this.group});e(b,"toString",function(){var a=this.getThreadGroup();return null!=a?"Thread["+this.getName()+","+this.getPriority()+","+a.getName()+"]":"Thread["+this.getName()+","+this.getPriority()+",]"});E(b,"J2S_THREAD",null)});v(null,"java.lang.ThreadGroup",["java.lang.NullPointerException","$.Thread"],function(){var b=q(function(){this.name=this.parent=null;this.maxPriority=0;s(this,arguments)},java.lang,"ThreadGroup");p(b,function(){this.name="system";this.maxPriority=
10});p(b,function(a){this.construct(Thread.currentThread().getThreadGroup(),a)},"~S");p(b,function(a,d){if(null==a)throw new NullPointerException;this.name=d;this.parent=a;this.maxPriority=10},"ThreadGroup,~S");c(b,"getName",function(){return this.name});c(b,"getParent",function(){return this.parent});c(b,"getMaxPriority",function(){return this.maxPriority})});v(["java.io.FilterInputStream"],"java.io.BufferedInputStream",["java.io.IOException","java.lang.IndexOutOfBoundsException"],function(){var b=
q(function(){this.buf=null;this.pos=this.count=0;this.markpos=-1;this.marklimit=0;s(this,arguments)},java.io,"BufferedInputStream",java.io.FilterInputStream);c(b,"getInIfOpen",function(){var a=this.$in;if(null==a)throw new java.io.IOException("Stream closed");return a});c(b,"getBufIfOpen",function(){var a=this.buf;if(null==a)throw new java.io.IOException("Stream closed");return a});e(b,"resetStream",function(){});p(b,function(a){B(this,java.io.BufferedInputStream,[a]);this.buf=K(8192,0)},"java.io.InputStream");
c(b,"fill",function(){var a=this.getBufIfOpen();if(0>this.markpos)this.pos=0;else if(this.pos>=a.length)if(0<this.markpos){var d=this.pos-this.markpos;System.arraycopy(a,this.markpos,a,0,d);this.pos=d;this.markpos=0}else a.length>=this.marklimit?(this.markpos=-1,this.pos=0):(d=2*this.pos,d>this.marklimit&&(d=this.marklimit),d=K(d,0),System.arraycopy(a,0,d,0,this.pos),a=this.buf=d);this.count=this.pos;a=this.getInIfOpen().read(a,this.pos,a.length-this.pos);0<a&&(this.count=a+this.pos)});e(b,"readByteAsInt",
function(){return this.pos>=this.count&&(this.fill(),this.pos>=this.count)?-1:this.getBufIfOpen()[this.pos++]&255});c(b,"read1",function(a,d,g){var b=this.count-this.pos;if(0>=b){if(g>=this.getBufIfOpen().length&&0>this.markpos)return this.getInIfOpen().read(a,d,g);this.fill();b=this.count-this.pos;if(0>=b)return-1}g=b<g?b:g;System.arraycopy(this.getBufIfOpen(),this.pos,a,d,g);this.pos+=g;return g},"~A,~N,~N");c(b,"read",function(a,d,g){this.getBufIfOpen();if(0>(d|g|d+g|a.length-(d+g)))throw new IndexOutOfBoundsException;
if(0==g)return 0;for(var b=0;;){var c=this.read1(a,d+b,g-b);if(0>=c)return 0==b?c:b;b+=c;if(b>=g)return b;c=this.$in;if(null!=c&&0>=c.available())return b}},"~A,~N,~N");e(b,"skip",function(a){this.getBufIfOpen();if(0>=a)return 0;var d=this.count-this.pos;if(0>=d){if(0>this.markpos)return this.getInIfOpen().skip(a);this.fill();d=this.count-this.pos;if(0>=d)return 0}a=d<a?d:a;this.pos+=a;return a},"~N");e(b,"available",function(){var a=this.count-this.pos,d=this.getInIfOpen().available();return a>2147483647-
d?2147483647:a+d});e(b,"mark",function(a){this.marklimit=a;this.markpos=this.pos},"~N");e(b,"reset",function(){this.getBufIfOpen();if(0>this.markpos)throw new java.io.IOException("Resetting to invalid mark");this.pos=this.markpos});e(b,"markSupported",function(){return!0});e(b,"close",function(){var a=this.$in;this.$in=null;null!=a&&a.close()})});v(["java.io.Reader"],"java.io.BufferedReader",["java.io.IOException","java.lang.IllegalArgumentException","$.IndexOutOfBoundsException"],function(){var b=
q(function(){this.cb=this.$in=null;this.nextChar=this.nChars=0;this.markedChar=-1;this.readAheadLimit=0;this.markedSkipLF=this.skipLF=!1;s(this,arguments)},java.io,"BufferedReader",java.io.Reader);c(b,"setSize",function(a){if(0>=a)throw new IllegalArgumentException("Buffer size <= 0");this.cb=P(a,"\x00");this.nextChar=this.nChars=0},"~N");p(b,function(a){B(this,java.io.BufferedReader,[a]);this.$in=a;this.setSize(8192)},"java.io.Reader");c(b,"ensureOpen",function(){if(null==this.$in)throw new java.io.IOException("Stream closed");
});c(b,"fill",function(){var a;if(-1>=this.markedChar)a=0;else{var d=this.nextChar-this.markedChar;d>=this.readAheadLimit?(this.markedChar=-2,a=this.readAheadLimit=0):(this.readAheadLimit<=this.cb.length?System.arraycopy(this.cb,this.markedChar,this.cb,0,d):(a=P(this.readAheadLimit,"\x00"),System.arraycopy(this.cb,this.markedChar,a,0,d),this.cb=a),this.markedChar=0,this.nextChar=this.nChars=a=d)}do d=this.$in.read(this.cb,a,this.cb.length-a);while(0==d);0<d&&(this.nChars=a+d,this.nextChar=a)});c(b,
"read1",function(a,d,g){if(this.nextChar>=this.nChars){if(g>=this.cb.length&&-1>=this.markedChar&&!this.skipLF)return this.$in.read(a,d,g);this.fill()}if(this.nextChar>=this.nChars||this.skipLF&&(this.skipLF=!1,"\n"==this.cb[this.nextChar]&&(this.nextChar++,this.nextChar>=this.nChars&&this.fill(),this.nextChar>=this.nChars)))return-1;g=Math.min(g,this.nChars-this.nextChar);System.arraycopy(this.cb,this.nextChar,a,d,g);this.nextChar+=g;return g},"~A,~N,~N");c(b,"read",function(a,d,g){this.ensureOpen();
if(0>d||d>a.length||0>g||d+g>a.length||0>d+g)throw new IndexOutOfBoundsException;if(0==g)return 0;var b=this.read1(a,d,g);if(0>=b)return b;for(;b<g&&this.$in.ready();){var c=this.read1(a,d+b,g-b);if(0>=c)break;b+=c}return b},"~A,~N,~N");c(b,"readLine1",function(a){var d=null,g;this.ensureOpen();for(a=a||this.skipLF;;){this.nextChar>=this.nChars&&this.fill();if(this.nextChar>=this.nChars)return null!=d&&0<d.length?d.toString():null;var b=!1,c=String.fromCharCode(0),h;a&&"\n"==this.cb[this.nextChar]&&
this.nextChar++;a=this.skipLF=!1;h=this.nextChar;a:for(;h<this.nChars;h++)if(c=this.cb[h],"\n"==c||"\r"==c){b=!0;break a}g=this.nextChar;this.nextChar=h;g=String.instantialize(this.cb,g,h-g);if(b)return null!=d&&(g=d+=g),this.nextChar++,"\r"==c&&(this.skipLF=!0),g;null==d&&(d="");d+=g}},"~B");c(b,"readLine",function(){return this.readLine1(!1)});e(b,"skip",function(a){if(0>a)throw new IllegalArgumentException("skip value is negative");this.ensureOpen();for(var d=a;0<d;){this.nextChar>=this.nChars&&
this.fill();if(this.nextChar>=this.nChars)break;this.skipLF&&(this.skipLF=!1,"\n"==this.cb[this.nextChar]&&this.nextChar++);var g=this.nChars-this.nextChar;if(d<=g){this.nextChar+=d;d=0;break}d-=g;this.nextChar=this.nChars}return a-d},"~N");c(b,"ready",function(){this.ensureOpen();this.skipLF&&(this.nextChar>=this.nChars&&this.$in.ready()&&this.fill(),this.nextChar<this.nChars&&("\n"==this.cb[this.nextChar]&&this.nextChar++,this.skipLF=!1));return this.nextChar<this.nChars||this.$in.ready()});e(b,
"markSupported",function(){return!0});e(b,"mark",function(a){if(0>a)throw new IllegalArgumentException("Read-ahead limit < 0");this.ensureOpen();this.readAheadLimit=a;this.markedChar=this.nextChar;this.markedSkipLF=this.skipLF},"~N");e(b,"reset",function(){this.ensureOpen();if(0>this.markedChar)throw new java.io.IOException(-2==this.markedChar?"Mark invalid":"Stream not marked");this.nextChar=this.markedChar;this.skipLF=this.markedSkipLF});c(b,"close",function(){null!=this.$in&&(this.$in.close(),
this.cb=this.$in=null)})});v(["java.io.Writer"],"java.io.BufferedWriter",["java.io.IOException","java.lang.IllegalArgumentException","$.IndexOutOfBoundsException","$.StringIndexOutOfBoundsException"],function(){var b=q(function(){this.buf=this.out=null;this.pos=0;this.lineSeparator="\r\n";s(this,arguments)},java.io,"BufferedWriter",java.io.Writer);p(b,function(a){B(this,java.io.BufferedWriter,[a]);this.out=a;this.buf=P(8192,"\x00")},"java.io.Writer");p(b,function(a,d){B(this,java.io.BufferedWriter,
[a]);if(0<d)this.out=a,this.buf=P(d,"\x00");else throw new IllegalArgumentException("K0058");},"java.io.Writer,~N");c(b,"close",function(){this.isOpen()&&(this.flush(),this.out.close(),this.out=this.buf=null)});c(b,"flush",function(){if(this.isOpen())0<this.pos&&this.out.write(this.buf,0,this.pos),this.pos=0,this.out.flush();else throw new java.io.IOException("K005d");});c(b,"isOpen",function(){return null!=this.out});c(b,"newLine",function(){this.write("\r\n",0,2)});c(b,"write",function(a,d,g){if(!this.isOpen())throw new java.io.IOException("K005d");
if(0>d||d>a.length-g||0>g)throw new IndexOutOfBoundsException;if(0==this.pos&&g>=this.buf.length)this.out.write(a,d,g);else{var b=this.buf.length-this.pos;g<b&&(b=g);0<b&&(System.arraycopy(a,d,this.buf,this.pos,b),this.pos+=b);this.pos==this.buf.length&&(this.out.write(this.buf,0,this.buf.length),this.pos=0,g>b&&(d+=b,b=g-b,b>=this.buf.length?this.out.write(a,d,b):(System.arraycopy(a,d,this.buf,this.pos,b),this.pos+=b)))}},"~A,~N,~N");c(b,"write",function(a){if(this.isOpen())this.pos>=this.buf.length&&
(this.out.write(this.buf,0,this.buf.length),this.pos=0),this.buf[this.pos++]=String.fromCharCode(a);else throw new java.io.IOException("K005d");},"~N");c(b,"write",function(a,d,g){if(!this.isOpen())throw new java.io.IOException("K005d");if(!(0>=g)){if(d>a.length-g||0>d)throw new StringIndexOutOfBoundsException;if(0==this.pos&&g>=this.buf.length){var b=P(g,"\x00");a.getChars(d,d+g,b,0);this.out.write(b,0,g)}else{var c=this.buf.length-this.pos;g<c&&(c=g);0<c&&(a.getChars(d,d+c,this.buf,this.pos),this.pos+=
c);this.pos==this.buf.length&&(this.out.write(this.buf,0,this.buf.length),this.pos=0,g>c&&(d+=c,c=g-c,c>=this.buf.length?(b=P(g,"\x00"),a.getChars(d,d+c,b,0),this.out.write(b,0,c)):(a.getChars(d,d+c,this.buf,this.pos),this.pos+=c)))}}},"~S,~N,~N")});v(["java.io.InputStream"],"java.io.ByteArrayInputStream",["java.lang.IndexOutOfBoundsException","$.NullPointerException"],function(){var b=q(function(){this.buf=null;this.count=this.$mark=this.pos=0;s(this,arguments)},java.io,"ByteArrayInputStream",java.io.InputStream);
p(b,function(a){B(this,java.io.ByteArrayInputStream,[]);this.buf=a;this.pos=0;this.count=a.length},"~A");e(b,"readByteAsInt",function(){return this.pos<this.count?this.buf[this.pos++]&255:-1});c(b,"read",function(a,d,g){if(null==a)throw new NullPointerException;if(0>d||0>g||g>a.length-d)throw new IndexOutOfBoundsException;if(this.pos>=this.count)return-1;var b=this.count-this.pos;g>b&&(g=b);if(0>=g)return 0;System.arraycopy(this.buf,this.pos,a,d,g);this.pos+=g;return g},"~A,~N,~N");e(b,"skip",function(a){var d=
this.count-this.pos;a<d&&(d=0>a?0:a);this.pos+=d;return d},"~N");e(b,"available",function(){return this.count-this.pos});e(b,"markSupported",function(){return!0});e(b,"mark",function(){this.$mark=this.pos},"~N");e(b,"resetStream",function(){});e(b,"reset",function(){this.pos=this.$mark});e(b,"close",function(){})});v(["java.io.OutputStream"],"java.io.ByteArrayOutputStream",["java.lang.IllegalArgumentException","$.IndexOutOfBoundsException","$.OutOfMemoryError"],function(){var b=q(function(){this.buf=
null;this.count=0;s(this,arguments)},java.io,"ByteArrayOutputStream",java.io.OutputStream);p(b,function(){this.construct(32)});p(b,function(a){B(this,java.io.ByteArrayOutputStream,[]);if(0>a)throw new IllegalArgumentException("Negative initial size: "+a);this.buf=K(a,0)},"~N");c(b,"ensureCapacity",function(a){0<a-this.buf.length&&this.grow(a)},"~N");c(b,"grow",function(a){var d=this.buf.length<<1;0>d-a&&(d=a);if(0>d){if(0>a)throw new OutOfMemoryError;d=a}this.buf=java.io.ByteArrayOutputStream.arrayCopyByte(this.buf,
d)},"~N");b.arrayCopyByte=c(b,"arrayCopyByte",function(a,d){var g=K(d,0);System.arraycopy(a,0,g,0,a.length<d?a.length:d);return g},"~A,~N");e(b,"writeByteAsInt",function(a){this.ensureCapacity(this.count+1);this.buf[this.count]=a;this.count+=1},"~N");c(b,"write",function(a,d,g){if(0>d||d>a.length||0>g||0<d+g-a.length)throw new IndexOutOfBoundsException;this.ensureCapacity(this.count+g);System.arraycopy(a,d,this.buf,this.count,g);this.count+=g},"~A,~N,~N");c(b,"writeTo",function(a){a.write(this.buf,
0,this.count)},"java.io.OutputStream");c(b,"reset",function(){this.count=0});c(b,"toByteArray",function(){return this.count==this.buf.length?this.buf:java.io.ByteArrayOutputStream.arrayCopyByte(this.buf,this.count)});c(b,"size",function(){return this.count});e(b,"toString",function(){return String.instantialize(this.buf,0,this.count)});e(b,"close",function(){})});v(["java.io.InputStream"],"java.io.FilterInputStream",null,function(){var b=q(function(){this.$in=null;s(this,arguments)},java.io,"FilterInputStream",
java.io.InputStream);p(b,function(a){B(this,java.io.FilterInputStream,[]);this.$in=a},"java.io.InputStream");c(b,"readByteAsInt",function(){return this.$in.readByteAsInt()});c(b,"read",function(a,d,g){return this.$in.read(a,d,g)},"~A,~N,~N");c(b,"skip",function(a){return this.$in.skip(a)},"~N");c(b,"available",function(){return this.$in.available()});c(b,"close",function(){this.$in.close()});c(b,"mark",function(a){this.$in.mark(a)},"~N");c(b,"reset",function(){this.$in.reset()});c(b,"markSupported",
function(){return this.$in.markSupported()})});v(["java.io.Closeable"],"java.io.InputStream",["java.io.IOException","java.lang.IndexOutOfBoundsException","$.NullPointerException"],function(){var b=u(java.io,"InputStream",null,java.io.Closeable);c(b,"read",function(a,d,g){if(null==a)throw new NullPointerException;if(0>d||0>g||g>a.length-d)throw new IndexOutOfBoundsException;if(0==g)return 0;var b=this.readByteAsInt();if(-1==b)return-1;a[d]=b;var c=1;try{for(;c<g;c++){b=this.readByteAsInt();if(-1==
b)break;a[d+c]=b}}catch(h){if(!z(h,"java.io.IOException"))throw h;}return c},"~A,~N,~N");c(b,"skip",function(a){var d=a,g;null==java.io.InputStream.skipBuffer&&(java.io.InputStream.skipBuffer=K(2048,0));var b=java.io.InputStream.skipBuffer;if(0>=a)return 0;for(;0<d;){g=this.read(b,0,Math.min(2048,d));if(0>g)break;d-=g}return a-d},"~N");c(b,"available",function(){return 0});e(b,"close",function(){});c(b,"mark",function(){},"~N");c(b,"reset",function(){throw new java.io.IOException("mark/reset not supported");
});c(b,"markSupported",function(){return!1});c(b,"resetStream",function(){});E(b,"skipBuffer",null)});v(["java.io.Reader"],"java.io.InputStreamReader",["java.lang.NullPointerException"],function(){var b=q(function(){this.$in=null;this.isOpen=!0;this.charsetName=null;this.isUTF8=!1;this.bytearr=null;this.pos=0;s(this,arguments)},java.io,"InputStreamReader",java.io.Reader);p(b,function(a,d){B(this,java.io.InputStreamReader,[a]);this.$in=a;this.charsetName=d;if(!(this.isUTF8="UTF-8".equals(d))&&!"ISO-8859-1".equals(d))throw new NullPointerException("charsetName");
},"java.io.InputStream,~S");c(b,"getEncoding",function(){return this.charsetName});e(b,"read",function(a,d,g){if(null==this.bytearr||this.bytearr.length<g)this.bytearr=K(g,0);var b,c,h=0,e=d,j=this.$in.read(this.bytearr,this.pos,g-this.pos),l=this.$in.available();if(0>j)return-1;for(var r=j;h<r;){g=this.bytearr[h]&255;if(this.isUTF8)switch(g>>4){case 12:case 13:if(h+1>=j){if(1<=l){r=h;continue}}else if(128==((b=this.bytearr[h+1])&192)){a[e++]=String.fromCharCode((g&31)<<6|b&63);h+=2;continue}this.isUTF8=
!1;break;case 14:if(h+2>=j){if(2<=l){r=h;continue}}else if(128==((b=this.bytearr[h+1])&192)&&128==((c=this.bytearr[h+2])&192)){a[e++]=String.fromCharCode((g&15)<<12|(b&63)<<6|c&63);h+=3;continue}this.isUTF8=!1}h++;a[e++]=String.fromCharCode(g)}this.pos=j-h;for(a=0;a<this.pos;a++)this.bytearr[a]=this.bytearr[h++];return e-d},"~A,~N,~N");e(b,"ready",function(){return this.isOpen});e(b,"close",function(){this.$in.close();this.isOpen=!1})});v(["java.io.Closeable","$.Flushable"],"java.io.OutputStream",
["java.lang.IndexOutOfBoundsException","$.NullPointerException"],function(){var b=u(java.io,"OutputStream",null,[java.io.Closeable,java.io.Flushable]);c(b,"write",function(a,d,g){if(null==a)throw new NullPointerException;if(0>d||d>a.length||0>g||d+g>a.length||0>d+g)throw new IndexOutOfBoundsException;if(0!=g)for(var b=0;b<g;b++)this.writeByteAsInt(a[d+b])},"~A,~N,~N");e(b,"flush",function(){});e(b,"close",function(){})});v(["java.io.Closeable"],"java.io.Reader",["java.io.IOException","java.lang.IllegalArgumentException",
"$.NullPointerException"],function(){var b=q(function(){this.skipBuffer=this.lock=null;s(this,arguments)},java.io,"Reader",null,java.io.Closeable);p(b,function(a){if(null==a)throw new NullPointerException;this.lock=a},"~O");c(b,"skip",function(a){if(0>a)throw new IllegalArgumentException("skip value is negative");var d=Math.min(a,8192);if(null==this.skipBuffer||this.skipBuffer.length<d)this.skipBuffer=P(d,"\x00");for(var g=a;0<g;){var b=this.read(this.skipBuffer,0,Math.min(g,d));if(-1==b)break;g-=
b}return a-g},"~N");c(b,"ready",function(){return!1});c(b,"markSupported",function(){return!1});c(b,"mark",function(){throw new java.io.IOException("mark() not supported");},"~N");c(b,"reset",function(){throw new java.io.IOException("reset() not supported");})});v(["java.io.Reader"],"java.io.StringReader",["java.io.IOException","java.lang.IllegalArgumentException","$.IndexOutOfBoundsException"],function(){var b=q(function(){this.str=null;this.$mark=this.next=this.length=0;s(this,arguments)},java.io,
"StringReader",java.io.Reader);p(b,function(a){B(this,java.io.StringReader,[a]);this.str=a;this.length=a.length},"~S");c(b,"ensureOpen",function(){if(null==this.str)throw new java.io.IOException("Stream closed");});e(b,"read",function(a,d,g){this.ensureOpen();if(0>d||d>a.length||0>g||d+g>a.length||0>d+g)throw new IndexOutOfBoundsException;if(0==g)return 0;if(this.next>=this.length)return-1;g=Math.min(this.length-this.next,g);this.str.getChars(this.next,this.next+g,a,d);this.next+=g;return g},"~A,~N,~N");
e(b,"skip",function(a){this.ensureOpen();if(this.next>=this.length)return 0;a=Math.min(this.length-this.next,a);a=Math.max(-this.next,a);this.next+=a;return a},"~N");e(b,"ready",function(){this.ensureOpen();return!0});e(b,"markSupported",function(){return!0});e(b,"mark",function(a){if(0>a)throw new IllegalArgumentException("Read-ahead limit < 0");this.ensureOpen();this.$mark=this.next},"~N");e(b,"reset",function(){this.ensureOpen();this.next=this.$mark});e(b,"close",function(){this.str=null})});v(["java.io.Closeable",
"$.Flushable","java.lang.Appendable"],"java.io.Writer",["java.lang.NullPointerException","$.StringIndexOutOfBoundsException"],function(){var b=q(function(){this.lock=null;s(this,arguments)},java.io,"Writer",null,[Appendable,java.io.Closeable,java.io.Flushable]);p(b,function(){this.lock=this});p(b,function(a){if(null!=a)this.lock=a;else throw new NullPointerException;},"~O");c(b,"write",function(a){this.write(a,0,a.length)},"~A");c(b,"write",function(a){var d=P(1,"\x00");d[0]=String.fromCharCode(a);
this.write(d)},"~N");c(b,"write",function(a){var d=P(a.length,"\x00");a.getChars(0,d.length,d,0);this.write(d)},"~S");c(b,"write",function(a,d,g){if(0<=g){var b=P(g,"\x00");a.getChars(d,d+g,b,0);this.write(b)}else throw new StringIndexOutOfBoundsException;},"~S,~N,~N");c(b,"append",function(a){this.write(a.charCodeAt(0));return this},"~S");c(b,"append",function(a){null==a?this.write("null"):this.write(a.toString());return this},"CharSequence");c(b,"append",function(a,d,g){null==a?this.write("null".substring(d,
g)):this.write(a.subSequence(d,g).toString());return this},"CharSequence,~N,~N")});t("java.net");v(["java.io.IOException"],"java.net.MalformedURLException",null,function(){var b=u(java.net,"MalformedURLException",java.io.IOException);p(b,function(){B(this,java.net.MalformedURLException,[])})});t("java.net");v(["java.io.IOException"],"java.net.UnknownServiceException",null,function(){var b=u(java.net,"UnknownServiceException",java.io.IOException);p(b,function(){B(this,java.net.UnknownServiceException,
[])})});t("java.net");v(["java.util.Hashtable"],"java.net.URL",["java.lang.Character","$.Error","java.net.MalformedURLException"],function(){var b=q(function(){this.host=this.protocol=null;this.port=-1;this.handler=this.ref=this.userInfo=this.path=this.authority=this.query=this.file=null;this.$hashCode=-1;s(this,arguments)},java.net,"URL");p(b,function(a,d,g){switch(arguments.length){case 1:d=a;a=g=null;break;case 2:g=null;break;case 3:if(null==a||x(a,java.net.URL))break;default:alert("java.net.URL constructor format not supported")}a&&
a.valueOf&&null==a.valueOf()&&(a=null);var b=d,c,h,e,j=0,l=null,r=!1,n=!1;try{for(h=d.length;0<h&&" ">=d.charAt(h-1);)h--;for(;j<h&&" ">=d.charAt(j);)j++;d.regionMatches(!0,j,"url:",0,4)&&(j+=4);j<d.length&&"#"==d.charAt(j)&&(r=!0);for(c=j;!r&&c<h&&47!=(e=d.charCodeAt(c));c++)if(58==e){var p=d.substring(j,c).toLowerCase();this.isValidProtocol(p)&&(l=p,j=c+1);break}this.protocol=l;if(null!=a&&(null==l||l.equalsIgnoreCase(a.protocol)))null==g&&(g=a.handler),null!=a.path&&a.path.startsWith("/")&&(l=
null),null==l&&(this.protocol=a.protocol,this.authority=a.authority,this.userInfo=a.userInfo,this.host=a.host,this.port=a.port,this.file=a.file,this.path=a.path,n=!0);if(null==this.protocol)throw new java.net.MalformedURLException("no protocol: "+b);if(null==g&&null==(g=java.net.URL.getURLStreamHandler(this.protocol)))throw new java.net.MalformedURLException("unknown protocol: "+this.protocol);this.handler=g;c=d.indexOf("#",j);0<=c&&(this.ref=d.substring(c+1,h),h=c);n&&j==h&&(this.query=a.query,null==
this.ref&&(this.ref=a.ref));g.parseURL(this,d,j,h)}catch(U){if(z(U,"java.net.MalformedURLException"))throw U;if(z(U,Exception))throw b=U,c=new java.net.MalformedURLException(b.getMessage()),c.initCause(b),c;throw U;}},"java.net.URL,~S,java.net.URLStreamHandler");c(b,"isValidProtocol",function(a){var d=a.length;if(1>d)return!1;var g=a.charAt(0);if(!Character.isLetter(g))return!1;for(var b=1;b<d;b++)if(g=a.charAt(b),!Character.isLetterOrDigit(g)&&"."!=g&&"+"!=g&&"-"!=g)return!1;return!0},"~S");c(b,
"set5",function(a,d,g,b,c){this.protocol=a;this.host=d;this.authority=-1==g?d:d+":"+g;this.port=g;this.file=b;this.ref=c;this.$hashCode=-1;a=b.lastIndexOf("?");-1!=a?(this.query=b.substring(a+1),this.path=b.substring(0,a)):this.path=b},"~S,~S,~N,~S,~S");c(b,"set",function(a,d,g,b,c,h,e,j){this.protocol=a;this.host=d;this.port=g;this.file=null==e?h:h+"?"+e;this.userInfo=c;this.path=h;this.ref=j;this.$hashCode=-1;this.query=e;this.authority=b},"~S,~S,~N,~S,~S,~S,~S,~S");c(b,"getQuery",function(){return this.query});
c(b,"getPath",function(){return this.path});c(b,"getUserInfo",function(){return this.userInfo});c(b,"getAuthority",function(){return this.authority});c(b,"getPort",function(){return this.port});c(b,"getDefaultPort",function(){return this.handler.getDefaultPort()});c(b,"getProtocol",function(){return this.protocol});c(b,"getHost",function(){return this.host});c(b,"getFile",function(){return this.file});c(b,"getRef",function(){return this.ref});e(b,"equals",function(a){return!x(a,"java.net.URL")?!1:
this.handler.equals2(this,a)},"~O");e(b,"hashCode",function(){return-1!=this.$hashCode?this.$hashCode:this.$hashCode=this.handler.hashCode(this)});c(b,"sameFile",function(a){return this.handler.sameFile(this,a)},"java.net.URL");e(b,"toString",function(){return this.toExternalForm()});c(b,"toExternalForm",function(){return this.handler.toExternalForm(this)});c(b,"openConnection",function(){return this.handler.openConnection(this)});c(b,"openStream",function(){return this.openConnection().getInputStream()});
c(b,"getContent",function(){return this.openConnection().getInputStream()});b.setURLStreamHandlerFactory=c(b,"setURLStreamHandlerFactory",function(a){if(null!=java.net.URL.factory)throw Error("factory already defined");var d=System.getSecurityManager();null!=d&&d.checkSetFactory();java.net.URL.handlers.clear();java.net.URL.factory=a},"java.net.URLStreamHandlerFactory");b.getURLStreamHandler=c(b,"getURLStreamHandler",function(a){var d=java.net.URL.handlers.get(a);null==d&&null!=java.net.URL.factory&&
(d=java.net.URL.factory.createURLStreamHandler(a));return d},"~S");E(b,"factory",null);b.handlers=b.prototype.handlers=new java.util.Hashtable;b.streamHandlerLock=b.prototype.streamHandlerLock=new $._O});t("java.net");v(null,"java.net.URLConnection",["java.lang.IllegalStateException","$.NullPointerException","java.net.UnknownServiceException","java.util.ArrayList"],function(){var b=q(function(){this.url=null;this.doInput=!0;this.connected=this.doOutput=!1;this.requests=null;s(this,arguments)},java.net,
"URLConnection");c(b,"setDoInput",function(a){if(this.connected)throw new IllegalStateException("Already connected");this.doInput=a},"~B");c(b,"getDoInput",function(){return this.doInput});c(b,"setDoOutput",function(a){if(this.connected)throw new IllegalStateException("Already connected");this.doOutput=a},"~B");c(b,"getDoOutput",function(){return this.doOutput});p(b,function(a){this.url=a},"java.net.URL");c(b,"getURL",function(){return this.url});c(b,"getInputStream",function(){throw new java.net.UnknownServiceException("protocol doesn't support input");
});c(b,"getOutputStream",function(){throw new java.net.UnknownServiceException("protocol doesn't support output");});c(b,"setRequestProperty",function(a,d){if(this.connected)throw new IllegalStateException("Already connected");if(null==a)throw new NullPointerException("key is null");null==this.requests&&(this.requests=new java.util.ArrayList);for(var g=this.requests.size();0<=--g;)if(this.requests.get(g)[0].equals(a)){this.requests.get(g)[1]=d;return}this.requests.add(y(-1,[a,d]))},"~S,~S")});t("java.net");
var n=u(java.net,"URLEncoder");n.encode=c(n,"encode",function(b){return encodeURIComponent(b)},"~S");t("java.net");v(null,"java.net.URLStreamHandler",["java.lang.IllegalArgumentException","$.SecurityException","$.UnsupportedOperationException"],function(){var b=u(java.net,"URLStreamHandler");c(b,"openConnectionProxy",function(){throw new UnsupportedOperationException("Method not implemented.");},"java.net.URL,java.net.Proxy");c(b,"parseURL",function(a,d,g,b){var c=a.getProtocol(),h=a.getAuthority(),
e=a.getUserInfo(),j=a.getHost(),l=a.getPort(),r=a.getPath(),n=a.getQuery(),p=a.getRef(),U=!1,s=!1;if(g<b){var q=d.indexOf("?"),s=q==g;-1!=q&&q<b&&(n=d.substring(q+1,b),b>q&&(b=q),d=d.substring(0,q))}var m=0;if(!(g<=b-4&&"/"==d.charAt(g)&&"/"==d.charAt(g+1)&&"/"==d.charAt(g+2)&&"/"==d.charAt(g+3))&&g<=b-2&&"/"==d.charAt(g)&&"/"==d.charAt(g+1)){g+=2;m=d.indexOf("/",g);0>m&&(m=d.indexOf("?",g),0>m&&(m=b));j=h=d.substring(g,m);q=h.indexOf("@");-1!=q?(e=h.substring(0,q),j=h.substring(q+1)):e=null;if(null!=
j){if(0<j.length&&"["==j.charAt(0))throw new IllegalArgumentException("Invalid host: "+j);q=j.indexOf(":");l=-1;0<=q&&(j.length>q+1&&(l=Integer.parseInt(j.substring(q+1))),j=j.substring(0,q))}else j="";if(-1>l)throw new IllegalArgumentException("Invalid port number :"+l);g=m;0<h.length&&(r="")}null==j&&(j="");g<b?"/"==d.charAt(g)?r=d.substring(g,b):null!=r&&0<r.length?(U=!0,q=r.lastIndexOf("/"),s="",-1==q&&null!=h&&(s="/"),r=r.substring(0,q+1)+s+d.substring(g,b)):r=(null!=h?"/":"")+d.substring(g,
b):s&&null!=r&&(q=r.lastIndexOf("/"),0>q&&(q=0),r=r.substring(0,q)+"/");null==r&&(r="");if(U){for(;0<=(m=r.indexOf("/./"));)r=r.substring(0,m)+r.substring(m+2);for(m=0;0<=(m=r.indexOf("/../",m));)0<m&&0<=(b=r.lastIndexOf("/",m-1))&&0!=r.indexOf("/../",b)?(r=r.substring(0,b)+r.substring(m+3),m=0):m+=3;for(;r.endsWith("/..");)if(m=r.indexOf("/.."),0<=(b=r.lastIndexOf("/",m-1)))r=r.substring(0,b+1);else break;r.startsWith("./")&&2<r.length&&(r=r.substring(2));r.endsWith("/.")&&(r=r.substring(0,r.length-
1))}this.setURL(a,c,j,l,h,e,r,n,p)},"java.net.URL,~S,~N,~N");c(b,"getDefaultPort",function(){return-1});c(b,"equals2",function(a,d){var g=a.getRef(),b=d.getRef();return(g===b||null!=g&&g.equals(b))&&this.sameFile(a,d)},"java.net.URL,java.net.URL");c(b,"hashCode",function(a){var d=0,g=a.getProtocol();null!=g&&(d+=g.hashCode());d+=a.toString().hashCode();g=a.getFile();null!=g&&(d+=g.hashCode());d=-1==a.getPort()?d+this.getDefaultPort():d+a.getPort();a=a.getRef();null!=a&&(d+=a.hashCode());return d},
"java.net.URL");c(b,"sameFile",function(a,d){if(!(a.getProtocol()===d.getProtocol()||null!=a.getProtocol()&&a.getProtocol().equalsIgnoreCase(d.getProtocol()))||!(a.getFile()===d.getFile()||null!=a.getFile()&&a.getFile().equals(d.getFile())))return!1;var g,b;g=-1!=a.getPort()?a.getPort():a.handler.getDefaultPort();b=-1!=d.getPort()?d.getPort():d.handler.getDefaultPort();return g!=b||!this.hostsEqual(a,d)?!1:!0},"java.net.URL,java.net.URL");c(b,"hostsEqual",function(a,d){return null!=a.getHost()&&null!=
d.getHost()?a.getHost().equalsIgnoreCase(d.getHost()):null==a.getHost()&&null==d.getHost()},"java.net.URL,java.net.URL");c(b,"toExternalForm",function(){return""},"java.net.URL");c(b,"setURL",function(a,d,g,b,c,h,e,j,l){if(this!==a.handler)throw new SecurityException("handler for url different from this handler");a.set(a.getProtocol(),g,b,c,h,e,j,l)},"java.net.URL,~S,~S,~N,~S,~S,~S,~S,~S");c(b,"setURLDeprecated",function(a,d,g,b,c,h){var e=null,j=null;if(null!=g&&0!=g.length){var e=-1==b?g:g+":"+
b,l=g.lastIndexOf("@");-1!=l&&(j=g.substring(0,l),g=g.substring(l+1))}var r=null,l=null;null!=c&&(r=c.lastIndexOf("?"),-1!=r?(l=c.substring(r+1),r=c.substring(0,r)):r=c);this.setURL(a,d,g,b,e,j,r,l,h)},"java.net.URL,~S,~S,~N,~S,~S")});t("java.net");C(java.net,"URLStreamHandlerFactory");t("java.text");n=q(function(){this.pattern=null;s(this,arguments)},java.text,"MessageFormat");p(n,function(b){this.pattern=b},"~S");p(n,function(b){this.pattern=b},"~S,java.util.Locale");n.format=c(n,"format",function(b,
a){return b.replace(/\{(\d+)\}/g,function(d,g){var b=parseInt(g);return null==a?null:a[b]})},"~S,~A");c(n,"format",function(b){return java.text.MessageFormat.format(this.pattern,y(-1,[b]))},"~O");v(null,"java.util.Random",["java.lang.IllegalArgumentException"],function(){var b=q(function(){this.haveNextNextGaussian=!1;this.nextNextGaussian=this.seed=0;s(this,arguments)},java.util,"Random",null,java.io.Serializable);p(b,function(){this.setSeed(System.currentTimeMillis())});p(b,function(a){this.setSeed(a)},
"~N");c(b,"next",function(a){this.seed=25214903917*this.seed+11&0xffffffffffff;return this.seed>>>48-a},"~N");c(b,"nextBoolean",function(){return 0.5<Math.random()});c(b,"nextBytes",function(){for(var a=0;a<bytes.length;a++)bytes[a]=Math.round(256*Math.random())},"~A");c(b,"nextDouble",function(){return Math.random()});c(b,"nextFloat",function(){return Math.random()});c(b,"nextGaussian",function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;var a,d,g;do a=
2*this.nextDouble()-1,d=2*this.nextDouble()-1,g=a*a+d*d;while(1<=g);g=Math.sqrt(-2*Math.log(g)/g);this.nextNextGaussian=d*g;this.haveNextNextGaussian=!0;return a*g});c(b,"nextInt",function(){return Math.ceil(65535*Math.random())-32768});c(b,"nextInt",function(a){if(0<a)return a=Math.min(a,31),Math.floor((2<<a-1)*Math.random());throw new IllegalArgumentException;},"~N");c(b,"nextLong",function(){return Math.ceil(4294967295*Math.random())-2147483648});c(b,"setSeed",function(a){Math.seedrandom(a)},"~N")});
var ba=[],Z=Math,ca=52,la=void 0,ma=void 0,Da=function(b){var a,d,g=this,A=b.length,c=0,h=g.i=g.j=g.m=0;g.S=[];g.c=[];for(A||(b=[A++]);256>c;)g.S[c]=c++;for(c=0;256>c;c++)a=g.S[c],h=h+a+b[c%A]&255,d=g.S[h],g.S[c]=d,g.S[h]=a;g.g=function(a){var d=g.S,b=g.i+1&255,A=d[b],c=g.j+A&255,f=d[c];d[b]=f;d[c]=A;for(var h=d[A+f&255];--a;)b=b+1&255,A=d[b],c=c+A&255,f=d[c],d[b]=f,d[c]=A,h=256*h+d[A+f&255];g.i=b;g.j=c;return h};g.g(256)},na=function(b,a,d,g){d=[];if(a&&"object"==typeof b)for(g in b)if(5>g.indexOf("S"))try{d.push(na(b[g],
a-1))}catch(A){}return d.length?d:""+b},ea=function(b,a,d,g){b+="";for(g=d=0;g<b.length;g++){var A=a,c=g&255,h=(d^=19*a[g&255])+b.charCodeAt(g);A[c]=h&255}b="";for(g in a)b+=String.fromCharCode(a[g]);return b};Z.seedrandom=function(b,a){var d=[],g;b=ea(na(a?[b,ba]:arguments.length?b:[(new Date).getTime(),ba,window],3),d);g=new Da(d);ea(g.S,ba);Z.random=function(){for(var a=g.g(6),d=ma,b=0;a<ca;)a=256*(a+b),d*=256,b=g.g(1);for(;a>=la;)a/=2,d/=2,b>>>=1;return(a+b)/d};return b};ma=Z.pow(256,6);ca=Z.pow(2,
ca);la=2*ca;ea(Z.random(),ba);v(["java.util.Collection"],"java.util.AbstractCollection",["java.lang.UnsupportedOperationException","java.lang.reflect.Array"],function(){var b=u(java.util,"AbstractCollection",null,java.util.Collection);p(b,function(){});e(b,"add",function(){throw new UnsupportedOperationException;},"~O");e(b,"addAll",function(a){var d=!1;for(a=a.iterator();a.hasNext();)this.add(a.next())&&(d=!0);return d},"java.util.Collection");e(b,"clear",function(){for(var a=this.iterator();a.hasNext();)a.next(),
a.remove()});e(b,"contains",function(a){var d=this.iterator();if(null!=a)for(;d.hasNext();){if(a.equals(d.next()))return!0}else for(;d.hasNext();)if(null==d.next())return!0;return!1},"~O");e(b,"containsAll",function(a){for(a=a.iterator();a.hasNext();)if(!this.contains(a.next()))return!1;return!0},"java.util.Collection");e(b,"isEmpty",function(){return 0==this.size()});e(b,"remove",function(a){var d=this.iterator();if(null!=a)for(;d.hasNext();){if(a.equals(d.next()))return d.remove(),!0}else for(;d.hasNext();)if(null==
d.next())return d.remove(),!0;return!1},"~O");e(b,"removeAll",function(a){for(var d=!1,g=this.iterator();g.hasNext();)a.contains(g.next())&&(g.remove(),d=!0);return d},"java.util.Collection");e(b,"retainAll",function(a){for(var d=!1,g=this.iterator();g.hasNext();)a.contains(g.next())||(g.remove(),d=!0);return d},"java.util.Collection");c(b,"toArray",function(){for(var a=this.size(),d=0,g=this.iterator(),b=Array(a);d<a;)b[d++]=g.next();return b});c(b,"toArray",function(a){var d=this.size(),g=0;d>a.length&&
(a=a.getClass().getComponentType(),a=java.lang.reflect.Array.newInstance(a,d));for(var b,d=this.iterator();d.hasNext()&&((b=d.next())||1);)a[g++]=b;g<a.length&&(a[g]=null);return a},"~A");e(b,"toString",function(){if(this.isEmpty())return"[]";for(var a="[",d=this.iterator();d.hasNext();){var g=d.next(),a=g!==this?a+g:a+"(this Collection)";d.hasNext()&&(a+=", ")}return a+"]"})});v("java.util.AbstractCollection $.Iterator $.List $.ListIterator $.RandomAccess $.NoSuchElementException".split(" "),"java.util.AbstractList",
["java.lang.IllegalArgumentException","$.IllegalStateException","$.IndexOutOfBoundsException","$.UnsupportedOperationException","java.util.ConcurrentModificationException"],function(){var b=q(function(){this.modCount=0;s(this,arguments)},java.util,"AbstractList",java.util.AbstractCollection,java.util.List);c(b,"add",function(){throw new UnsupportedOperationException;},"~N,~O");c(b,"add",function(a){this.add(this.size(),a);return!0},"~O");c(b,"addAll",function(a,d){for(var g=d.iterator();g.hasNext();)this.add(a++,
g.next());return!d.isEmpty()},"~N,java.util.Collection");e(b,"clear",function(){this.removeRange(0,this.size())});e(b,"equals",function(a){if(this===a)return!0;if(x(a,java.util.List)){if(a.size()!=this.size())return!1;var d=this.iterator();for(a=a.iterator();d.hasNext();){var g=d.next(),b=a.next();if(!(null==g?null==b:g.equals(b)))return!1}return!0}return!1},"~O");e(b,"hashCode",function(){for(var a=1,d=this.iterator();d.hasNext();)var g=d.next(),a=31*a+(null==g?0:g.hashCode());return a});e(b,"indexOf",
function(a){var d=this.listIterator();if(null!=a)for(;d.hasNext();){if(a.equals(d.next()))return d.previousIndex()}else for(;d.hasNext();)if(null==d.next())return d.previousIndex();return-1},"~O");e(b,"iterator",function(){return new java.util.AbstractListSimpleListIterator(this)});e(b,"lastIndexOf",function(a){var d=this.listIterator(this.size());if(null!=a)for(;d.hasPrevious();){if(a.equals(d.previous()))return d.nextIndex()}else for(;d.hasPrevious();)if(null==d.previous())return d.nextIndex();
return-1},"~O");c(b,"listIterator",function(a){a||(a=0);return new java.util.AbstractListFullListIterator(this,a)},"~N");c(b,"remove",function(){throw new UnsupportedOperationException;},"~N");c(b,"removeRange",function(a,d){for(var g=this.listIterator(a),b=a;b<d;b++)g.next(),g.remove()},"~N,~N");e(b,"set",function(){throw new UnsupportedOperationException;},"~N,~O");e(b,"subList",function(a,d){if(0<=a&&d<=this.size()){if(a<=d)return x(this,java.util.RandomAccess)?new java.util.AbstractList.SubAbstractListRandomAccess(this,
a,d):new java.util.AbstractList.SubAbstractList(this,a,d);throw new IllegalArgumentException;}throw new IndexOutOfBoundsException;},"~N,~N");b=q(function(){this.pos=-1;this.expectedModCount=0;this.lastPosition=-1;s(this,arguments)},java.util,"AbstractListSimpleListIterator",null,java.util.Iterator);p(b,function(a){this._list=a;this.expectedModCount=a.modCount},"java.util.AbstractList");e(b,"hasNext",function(){return this.pos+1<this._list.size()});e(b,"next",function(){if(this.expectedModCount==this._list.modCount)try{var a=
this._list.get(this.pos+1);this.lastPosition=++this.pos;return a}catch(d){if(x(d,IndexOutOfBoundsException))throw new java.util.NoSuchElementException;throw d;}throw new java.util.ConcurrentModificationException;});e(b,"remove",function(){if(this.expectedModCount==this._list.modCount){try{this._list.remove(this.lastPosition)}catch(a){if(x(a,IndexOutOfBoundsException))throw new IllegalStateException;throw a;}this._list.modCount!=this.expectedModCount&&this.expectedModCount++;this.pos==this.lastPosition&&
this.pos--;this.lastPosition=-1}else throw new java.util.ConcurrentModificationException;});b=q(function(){s(this,arguments)},java.util,"AbstractListFullListIterator",java.util.AbstractListSimpleListIterator,java.util.ListIterator);p(b,function(a,d){B(this,java.util.AbstractListFullListIterator,[a]);if(0<=d&&d<=this._list.size())this.pos=d-1;else throw new IndexOutOfBoundsException;},"java.util.AbstractList,~N");e(b,"add",function(a){if(this.expectedModCount==this._list.modCount){try{this._list.add(this.pos+
1,a)}catch(d){if(x(d,IndexOutOfBoundsException))throw new java.util.NoSuchElementException;throw d;}this.pos++;this.lastPosition=-1;this._list.modCount!=this.expectedModCount&&this.expectedModCount++}else throw new java.util.ConcurrentModificationException;},"~O");e(b,"hasPrevious",function(){return 0<=this.pos});e(b,"nextIndex",function(){return this.pos+1});e(b,"previous",function(){if(this.expectedModCount==this._list.modCount)try{var a=this._list.get(this.pos);this.lastPosition=this.pos;this.pos--;
return a}catch(d){if(x(d,IndexOutOfBoundsException))throw new java.util.NoSuchElementException;throw d;}throw new java.util.ConcurrentModificationException;});e(b,"previousIndex",function(){return this.pos});e(b,"set",function(a){if(this.expectedModCount==this._list.modCount)try{this._list.set(this.lastPosition,a)}catch(d){if(x(d,IndexOutOfBoundsException))throw new IllegalStateException;throw d;}else throw new java.util.ConcurrentModificationException;},"~O");u(java.util.AbstractList,"SubAbstractListRandomAccess",
java.util.AbstractList.SubAbstractList,java.util.RandomAccess);b=q(function(){this.fullList=null;this.$size=this.offset=0;s(this,arguments)},java.util.AbstractList,"SubAbstractList",java.util.AbstractList);p(b,function(a,d,g){B(this,java.util.AbstractList.SubAbstractList);this.fullList=a;this.modCount=this.fullList.modCount;this.offset=d;this.$size=g-d},"java.util.AbstractList,~N,~N");c(b,"add",function(a,d){if(this.modCount==this.fullList.modCount)if(0<=a&&a<=this.$size)this.fullList.add(a+this.offset,
d),this.$size++,this.modCount=this.fullList.modCount;else throw new IndexOutOfBoundsException;else throw new java.util.ConcurrentModificationException;},"~N,~O");c(b,"addAll",function(a,d){if(this.modCount==this.fullList.modCount){if(0<=a&&a<=this.$size){var g=this.fullList.addAll(a+this.offset,d);g&&(this.$size+=d.size(),this.modCount=this.fullList.modCount);return g}throw new IndexOutOfBoundsException;}throw new java.util.ConcurrentModificationException;},"~N,java.util.Collection");c(b,"addAll",
function(a){if(this.modCount==this.fullList.modCount){var d=this.fullList.addAll(this.offset+this.$size,a);d&&(this.$size+=a.size(),this.modCount=this.fullList.modCount);return d}throw new java.util.ConcurrentModificationException;},"java.util.Collection");c(b,"get",function(a){if(this.modCount==this.fullList.modCount){if(0<=a&&a<this.$size)return this.fullList.get(a+this.offset);throw new IndexOutOfBoundsException;}throw new java.util.ConcurrentModificationException;},"~N");e(b,"iterator",function(){return this.listIterator(0)});
c(b,"listIterator",function(a){if(this.modCount==this.fullList.modCount){if(0<=a&&a<=this.$size)return new java.util.AbstractList.SubAbstractList.SubAbstractListIterator(this.fullList.listIterator(a+this.offset),this,this.offset,this.$size);throw new IndexOutOfBoundsException;}throw new java.util.ConcurrentModificationException;},"~N");c(b,"remove",function(a){if(this.modCount==this.fullList.modCount){if(0<=a&&a<this.$size)return a=this.fullList.remove(a+this.offset),this.$size--,this.modCount=this.fullList.modCount,
a;throw new IndexOutOfBoundsException;}throw new java.util.ConcurrentModificationException;},"~N");c(b,"removeRange",function(a,d){if(a!=d)if(this.modCount==this.fullList.modCount)this.fullList.removeRange(a+this.offset,d+this.offset),this.$size-=d-a,this.modCount=this.fullList.modCount;else throw new java.util.ConcurrentModificationException;},"~N,~N");c(b,"set",function(a,d){if(this.modCount==this.fullList.modCount){if(0<=a&&a<this.$size)return this.fullList.set(a+this.offset,d);throw new IndexOutOfBoundsException;
}throw new java.util.ConcurrentModificationException;},"~N,~O");e(b,"size",function(){return this.$size});c(b,"sizeChanged",function(a){a?this.$size++:this.$size--;this.modCount=this.fullList.modCount},"~B");b=q(function(){this.iterator=this.subList=null;this.end=this.start=0;s(this,arguments)},java.util.AbstractList.SubAbstractList,"SubAbstractListIterator",null,java.util.ListIterator);p(b,function(a,d,g,b){this.iterator=a;this.subList=d;this.start=g;this.end=this.start+b},"java.util.ListIterator,java.util.AbstractList.SubAbstractList,~N,~N");
c(b,"add",function(a){this.iterator.add(a);this.subList.sizeChanged(!0);this.end++},"~O");e(b,"hasNext",function(){return this.iterator.nextIndex()<this.end});e(b,"hasPrevious",function(){return this.iterator.previousIndex()>=this.start});c(b,"next",function(){if(this.iterator.nextIndex()<this.end)return this.iterator.next();throw new java.util.NoSuchElementException;});c(b,"nextIndex",function(){return this.iterator.nextIndex()-this.start});c(b,"previous",function(){if(this.iterator.previousIndex()>=
this.start)return this.iterator.previous();throw new java.util.NoSuchElementException;});c(b,"previousIndex",function(){var a=this.iterator.previousIndex();return a>=this.start?a-this.start:-1});c(b,"remove",function(){this.iterator.remove();this.subList.sizeChanged(!1);this.end--});c(b,"set",function(a){this.iterator.set(a)},"~O")});v(["java.util.Map"],"java.util.AbstractMap",["java.lang.UnsupportedOperationException","java.util.AbstractCollection","$.AbstractSet","$.Iterator"],function(){var b=
q(function(){this.valuesCollection=this.$keySet=null;s(this,arguments)},java.util,"AbstractMap",null,java.util.Map);p(b,function(){});e(b,"clear",function(){this.entrySet().clear()});e(b,"containsKey",function(a){var d=this.entrySet().iterator();if(null!=a)for(;d.hasNext();){if(a.equals(d.next().getKey()))return!0}else for(;d.hasNext();)if(null==d.next().getKey())return!0;return!1},"~O");e(b,"containsValue",function(a){var d=this.entrySet().iterator();if(null!=a)for(;d.hasNext();){if(a.equals(d.next().getValue()))return!0}else for(;d.hasNext();)if(null==
d.next().getValue())return!0;return!1},"~O");e(b,"equals",function(a){if(this===a)return!0;if(x(a,java.util.Map)){if(this.size()!=a.size())return!1;a=a.entrySet();for(var d=this.entrySet().iterator();d.hasNext();)if(!a.contains(d.next()))return!1;return!0}return!1},"~O");e(b,"get",function(a){var d=this.entrySet().iterator();if(null!=a)for(;d.hasNext();){var g=d.next();if(a.equals(g.getKey()))return g.getValue()}else for(;d.hasNext();)if(g=d.next(),null==g.getKey())return g.getValue();return null},
"~O");e(b,"hashCode",function(){for(var a=0,d=this.entrySet().iterator();d.hasNext();)a+=d.next().hashCode();return a});e(b,"isEmpty",function(){return 0==this.size()});e(b,"keySet",function(){null==this.$keySet&&(this.$keySet=(M("java.util.AbstractMap$1")?0:java.util.AbstractMap.$AbstractMap$1$(),L(java.util.AbstractMap$1,this,null)));return this.$keySet});e(b,"put",function(){throw new UnsupportedOperationException;},"~O,~O");e(b,"putAll",function(a){this.putAllAM(a)},"java.util.Map");e(b,"putAllAM",
function(a){var d;for(a=a.entrySet().iterator();a.hasNext()&&((d=a.next())||1);)this.put(d.getKey(),d.getValue())},"java.util.Map");e(b,"remove",function(a){var d=this.entrySet().iterator();if(null!=a)for(;d.hasNext();){var g=d.next();if(a.equals(g.getKey()))return d.remove(),g.getValue()}else for(;d.hasNext();)if(g=d.next(),null==g.getKey())return d.remove(),g.getValue();return null},"~O");e(b,"size",function(){return this.entrySet().size()});e(b,"toString",function(){if(this.isEmpty())return"{}";
for(var a="{",d=this.entrySet().iterator();d.hasNext();){var g=d.next(),b=g.getKey(),a=b!==this?a+b:a+"(this Map)",a=a+"=",g=g.getValue(),a=g!==this?a+g:a+"(this Map)";d.hasNext()&&(a+=", ")}return a+"}"});e(b,"values",function(){null==this.valuesCollection&&(this.valuesCollection=(M("java.util.AbstractMap$2")?0:java.util.AbstractMap.$AbstractMap$2$(),L(java.util.AbstractMap$2,this,null)));return this.valuesCollection});c(b,"clone",function(){return this.cloneAM()});c(b,"cloneAM",function(){var a=
ga(this);a.$keySet=null;a.valuesCollection=null;return a});b.$AbstractMap$1$=function(){var a=Y(java.util,"AbstractMap$1",java.util.AbstractSet);e(a,"contains",function(a){return this.b$["java.util.AbstractMap"].containsKey(a)},"~O");e(a,"size",function(){return this.b$["java.util.AbstractMap"].size()});e(a,"iterator",function(){return M("java.util.AbstractMap$1$1")?0:java.util.AbstractMap.$AbstractMap$1$1$(),L(java.util.AbstractMap$1$1,this,null)})};b.$AbstractMap$1$1$=function(){var a=q(function(){R(this,
arguments);this.setIterator=null;s(this,arguments)},java.util,"AbstractMap$1$1",null,java.util.Iterator);H(a,function(){this.setIterator=this.b$["java.util.AbstractMap"].entrySet().iterator()});e(a,"hasNext",function(){return this.setIterator.hasNext()});e(a,"next",function(){return this.setIterator.next().getKey()});e(a,"remove",function(){this.setIterator.remove()})};b.$AbstractMap$2$=function(){var a=Y(java.util,"AbstractMap$2",java.util.AbstractCollection);e(a,"size",function(){return this.b$["java.util.AbstractMap"].size()});
e(a,"contains",function(a){return this.b$["java.util.AbstractMap"].containsValue(a)},"~O");e(a,"iterator",function(){return M("java.util.AbstractMap$2$1")?0:java.util.AbstractMap.$AbstractMap$2$1$(),L(java.util.AbstractMap$2$1,this,null)})};b.$AbstractMap$2$1$=function(){var a=q(function(){R(this,arguments);this.setIterator=null;s(this,arguments)},java.util,"AbstractMap$2$1",null,java.util.Iterator);H(a,function(){this.setIterator=this.b$["java.util.AbstractMap"].entrySet().iterator()});e(a,"hasNext",
function(){return this.setIterator.hasNext()});e(a,"next",function(){return this.setIterator.next().getValue()});e(a,"remove",function(){this.setIterator.remove()})}});v(["java.util.AbstractCollection","$.Set"],"java.util.AbstractSet",null,function(){var b=u(java.util,"AbstractSet",java.util.AbstractCollection,java.util.Set);e(b,"equals",function(a){return this===a?!0:x(a,"java.util.Set")?this.size()==a.size()&&this.containsAll(a):!1},"~O");e(b,"hashCode",function(){for(var a=0,d=this.iterator();d.hasNext();)var g=
d.next(),a=a+(null==g?0:g.hashCode());return a});e(b,"removeAll",function(a){var d=!1;if(this.size()<=a.size())for(var g=this.iterator();g.hasNext();)a.contains(g.next())&&(g.remove(),d=!0);else for(g=a.iterator();g.hasNext();)d=this.remove(g.next())||d;return d},"java.util.Collection")});v(["java.util.AbstractList","$.List","$.RandomAccess"],"java.util.ArrayList",["java.lang.IllegalArgumentException","$.IndexOutOfBoundsException","java.lang.reflect.Array","java.util.Arrays"],function(){var b,a=q(function(){this.lastIndex=
this.firstIndex=0;this.array=null;s(this,arguments)},java.util,"ArrayList",java.util.AbstractList,[java.util.List,Cloneable,java.io.Serializable,java.util.RandomAccess]);S(a,function(){this.setup(0)});c(a,"setup",function(a){this.firstIndex=this.lastIndex=0;try{this.array=this.newElementArray(a)}catch(g){if(x(g,NegativeArraySizeException))throw new IllegalArgumentException;throw g;}},"~N");c(a,"newElementArray",(b=function(a){return Array(a)},b.isPrivate=!0,b),"~N");e(a,"add",function(a,g){if(1==
arguments.length)return this.add1(a);var b=this.size();if(0<a&&a<b){if(0==this.firstIndex&&this.lastIndex==this.array.length)this.growForInsert(a,1);else if(a<Math.floor(b/2)&&0<this.firstIndex||this.lastIndex==this.array.length)System.arraycopy(this.array,this.firstIndex,this.array,--this.firstIndex,a);else{var c=a+this.firstIndex;System.arraycopy(this.array,c,this.array,c+1,b-a);this.lastIndex++}this.array[a+this.firstIndex]=g}else if(0==a)0==this.firstIndex&&this.growAtFront(1),this.array[--this.firstIndex]=
g;else if(a==b)this.lastIndex==this.array.length&&this.growAtEnd(1),this.array[this.lastIndex++]=g;else throw new IndexOutOfBoundsException;this.modCount++},"~N,~O");e(a,"add1",function(a){this.lastIndex==this.array.length&&this.growAtEnd(1);this.array[this.lastIndex++]=a;this.modCount++;return!0},"~O");e(a,"addAll",function(a){var g=a.size();if(0<g){this.lastIndex>this.array.length-g&&this.growAtEnd(g);a=a.iterator();for(g=this.lastIndex+g;this.lastIndex<g;)this.array[this.lastIndex++]=a.next();
this.modCount++;return!0}return!1},"java.util.Collection");e(a,"clear",function(){this.firstIndex!=this.lastIndex&&(this.fill(this.firstIndex,this.lastIndex),this.firstIndex=this.lastIndex=0,this.modCount++)});c(a,"fill",function(a,g){for(var b=g;--b>=a;)this.array[b]=null},"~N,~N");c(a,"clone",function(){try{var a=T(this,java.util.ArrayList,"clone",[]);a.array=this.array.clone();return a}catch(g){if(x(g,CloneNotSupportedException))return null;throw g;}});e(a,"contains",function(a){if(null!=a)for(var g=
this.firstIndex;g<this.lastIndex;g++){if(a.equals(this.array[g]))return!0}else for(g=this.firstIndex;g<this.lastIndex;g++)if(null==this.array[g])return!0;return!1},"~O");c(a,"ensureCapacity",function(a){this.array.length<a&&(0<this.firstIndex?this.growAtFront(a-this.array.length):this.growAtEnd(a-this.array.length))},"~N");e(a,"get",function(a){if(0<=a&&a<this.size())return this.array[this.firstIndex+a];throw new IndexOutOfBoundsException;},"~N");c(a,"growAtEnd",(b=function(a){var g=this.size();if(this.firstIndex>=
a-(this.array.length-this.lastIndex))a=this.lastIndex-this.firstIndex,0<g&&(System.arraycopy(this.array,this.firstIndex,this.array,0,g),this.fill(a<this.firstIndex?this.firstIndex:a,this.array.length)),this.firstIndex=0,this.lastIndex=a;else{var b=Math.floor(g/2);a>b&&(b=a);12>b&&(b=12);a=this.newElementArray(g+b);0<g&&System.arraycopy(this.array,this.firstIndex,a,this.firstIndex,g);this.array=a}},b.isPrivate=!0,b),"~N");c(a,"growAtFront",(b=function(a){var g=this.size();if(this.array.length-this.lastIndex>=
a)a=this.array.length-g,0<g&&(System.arraycopy(this.array,this.firstIndex,this.array,a,g),this.fill(this.firstIndex,this.firstIndex+g>a?a:this.firstIndex+g)),this.firstIndex=a,this.lastIndex=this.array.length;else{var b=Math.floor(g/2);a>b&&(b=a);12>b&&(b=12);a=this.newElementArray(g+b);0<g&&System.arraycopy(this.array,this.firstIndex,a,a.length-g,g);this.firstIndex=a.length-g;this.lastIndex=a.length;this.array=a}},b.isPrivate=!0,b),"~N");c(a,"growForInsert",(b=function(a,g){var b=this.size(),c=Math.floor(b/
2);g>c&&(c=g);12>c&&(c=12);var h=this.newElementArray(b+c);if(a<Math.floor(b/2)){var e=h.length-(b+g);System.arraycopy(this.array,a,h,a+c,b-a);System.arraycopy(this.array,this.firstIndex,h,e,a);this.firstIndex=e;this.lastIndex=h.length}else System.arraycopy(this.array,this.firstIndex,h,0,a),System.arraycopy(this.array,a,h,a+g,b-a),this.firstIndex=0,this.lastIndex+=g;this.array=h},b.isPrivate=!0,b),"~N,~N");e(a,"indexOf",function(a){if(null!=a)for(var g=this.firstIndex;g<this.lastIndex;g++){if(a.equals(this.array[g]))return g-
this.firstIndex}else for(g=this.firstIndex;g<this.lastIndex;g++)if(null==this.array[g])return g-this.firstIndex;return-1},"~O");e(a,"isEmpty",function(){return this.lastIndex==this.firstIndex});e(a,"lastIndexOf",function(a){if(null!=a)for(var g=this.lastIndex-1;g>=this.firstIndex;g--){if(a.equals(this.array[g]))return g-this.firstIndex}else for(g=this.lastIndex-1;g>=this.firstIndex;g--)if(null==this.array[g])return g-this.firstIndex;return-1},"~O");e(a,"remove",function(a){return"number"==typeof a?
this._removeItemAt(a):this._removeObject(a)},"~N");e(a,"_removeItemAt",function(a){var g,b=this.size();if(0<=a&&a<b)if(a==b-1)g=this.array[--this.lastIndex],this.array[this.lastIndex]=null;else if(0==a)g=this.array[this.firstIndex],this.array[this.firstIndex++]=null;else{var c=this.firstIndex+a;g=this.array[c];a<Math.floor(b/2)?(System.arraycopy(this.array,this.firstIndex,this.array,this.firstIndex+1,a),this.array[this.firstIndex++]=null):(System.arraycopy(this.array,c+1,this.array,c,b-a-1),this.array[--this.lastIndex]=
null)}else throw new IndexOutOfBoundsException;this.modCount++;return g},"~N");c(a,"_removeObject",function(a){a=this.indexOf(a);return 0>a?null:this._removeItemAt(a)},"~O");e(a,"removeRange",function(a,g){if(0<=a&&a<=g&&g<=this.size()){if(a!=g){var b=this.size();g==b?(this.fill(this.firstIndex+a,this.lastIndex),this.lastIndex=this.firstIndex+a):0==a?(this.fill(this.firstIndex,this.firstIndex+g),this.firstIndex+=g):(System.arraycopy(this.array,this.firstIndex+g,this.array,this.firstIndex+a,b-g),b=
this.lastIndex+a-g,this.fill(b,this.lastIndex),this.lastIndex=b);this.modCount++}}else throw new IndexOutOfBoundsException;},"~N,~N");e(a,"set",function(a,g){if(0<=a&&a<this.size()){var b=this.array[this.firstIndex+a];this.array[this.firstIndex+a]=g;return b}throw new IndexOutOfBoundsException;},"~N,~O");e(a,"size",function(){return this.lastIndex-this.firstIndex});e(a,"toArray",function(a){var g=this.size();if(!a||g>a.length)return this.array.slice(this.firstIndex,this.firstIndex+g);System.arraycopy(this.array,
this.firstIndex,a,0,g);g<a.length&&(a[g]=null);return a},"~O");c(a,"trimToSize",function(){var a=this.size(),g=this.newElementArray(a);System.arraycopy(this.array,this.firstIndex,g,0,a);this.array=g;this.firstIndex=0;this.lastIndex=this.array.length})});v(["java.util.AbstractList","$.RandomAccess"],"java.util.Arrays",["java.lang.ArrayIndexOutOfBoundsException","$.IllegalArgumentException","$.NullPointerException"],function(){var b,a=u(java.util,"Arrays");a.sort=e(a,"sort",function(a,g,b,c){switch(arguments.length){case 1:for(var h=
a.sort(function(a,d){return"string"==typeof a||x(a,Comparable)?a.compareTo(d):a-d}),e=0;e<a.length;e++)a[e]=h[e];break;case 2:h=a.sort(function(a,d){return null!=g?g.compare(a,d):"string"==typeof a||x(a,Comparable)?a.compareTo(d):a-d});for(e=0;e<a.length;e++)a[e]=h[e];break;case 3:var j=g,l=b;this.rangeCheck(a.length,j,l);h=[];for(e=j;e<l;e++)h[e-j]=a[e];h=h.sort(function(a,d){return"string"==typeof a||x(a,Comparable)?a.compareTo(d):a-d});for(e=j;e<l;e++)a[e]=h[e-j];break;case 4:j=g;l=b;g=c;this.rangeCheck(a.length,
j,l);h=[];for(e=j;e<l;e++)h[e-j]=a[e];h=h.sort(function(a,d){return null!=g?g.compare(a,d):"string"==typeof a||x(a,Comparable)?a.compareTo(d):a-d});for(e=j;e<l;e++)a[e]=h[e-j]}});a.rangeCheck=c(a,"rangeCheck",(b=function(a,g,b){if(g>b)throw new IllegalArgumentException("fromIndex("+g+") > toIndex("+b+")");if(0>g)throw new ArrayIndexOutOfBoundsException(g);if(b>a)throw new ArrayIndexOutOfBoundsException(b);},b.isPrivate=!0,b),"~N,~N,~N");a.binarySearch=c(a,"binarySearch",function(a,g){for(var b=0,
c=a.length-1;b<=c;){var h=b+c>>1,e=a[h];if(e<g)b=h+1;else if(e>g)c=h-1;else return h}return-(b+1)},"~A,~N");a.binarySearch=c(a,"binarySearch",function(a,g){for(var b=0,c=a.length-1;b<=c;){var h=b+c>>1,e=a[h].compareTo(g);if(0>e)b=h+1;else if(0<e)c=h-1;else return h}return-(b+1)},"~A,~O");a.binarySearch=c(a,"binarySearch",function(a,g,b){if(null==b)return java.util.Arrays.binarySearch(a,g);for(var c=0,h=a.length-1;c<=h;){var e=c+h>>1,j=b.compare(a[e],g);if(0>j)c=e+1;else if(0<j)h=e-1;else return e}return-(c+
1)},"~A,~O,java.util.Comparator");a.equals=c(a,"equals",function(a,g){if(a===g)return!0;if(null==a||null==g)return!1;var b=a.length;if(g.length!=b)return!1;for(var c=0;c<b;c++){var h=a[c],e=g[c];if(!(null==h?null==e:null==h.equals?h==e:h.equals(e)))return!1}return!0},"~A,~A");a.fill=e(a,"fill",function(a,g,b,c){2==arguments.length&&(c=g,g=0,b=a.length);java.util.Arrays.rangeCheck(a.length,g,b);for(var h=g;h<b;h++)a[h]=c});a.copyOf=e(a,"copyOf",function(a,g){for(var b=y(g,null),c=Math.min(a.length,
g);0<=--c;)b[c]=a[c];return b});a.asList=c(a,"asList",function(a){return new java.util.Arrays.ArrayList(1==arguments.length&&"Array"==qa(a)?a:arguments)},"~A");b=q(function(){this.a=null;s(this,arguments)},java.util.Arrays,"ArrayList",java.util.AbstractList,[java.util.RandomAccess,java.io.Serializable]);p(b,function(a){B(this,java.util.Arrays.ArrayList,[]);if(null==a)throw new NullPointerException;this.a=a},"~A");e(b,"size",function(){return this.a.length});c(b,"toArray",function(){return this.a.clone()});
e(b,"get",function(a){return this.a[a]},"~N");e(b,"set",function(a,g){var b=this.a[a];this.a[a]=g;return b},"~N,~O");e(b,"indexOf",function(a){if(null==a)for(var g=0;g<this.a.length;g++){if(null==this.a[g])return g}else for(g=0;g<this.a.length;g++)if(a.equals(this.a[g]))return g;return-1},"~O");e(b,"contains",function(a){return-1!=this.indexOf(a)},"~O")});v("java.util.AbstractList $.AbstractMap $.AbstractSet $.Collection $.Iterator $.List $.ListIterator $.Map $.RandomAccess $.Set $.SortedMap $.SortedSet java.lang.NullPointerException $.UnsupportedOperationException java.lang.reflect.Array".split(" "),
"java.util.Collections","java.lang.ArrayIndexOutOfBoundsException $.ClassCastException $.IllegalArgumentException $.IndexOutOfBoundsException java.util.ArrayList $.Arrays $.Enumeration java.util.Map.Entry java.util.NoSuchElementException $.Random".split(" "),function(){var b,a=u(java.util,"Collections");a.binarySearch=c(a,"binarySearch",function(a,d){if(null==a)throw new NullPointerException;if(a.isEmpty())return-1;if(!x(a,java.util.RandomAccess)){for(var b=a.listIterator();b.hasNext();){var c;if(0>=
(c=d.compareTo(b.next())))return 0==c?b.previousIndex():-b.previousIndex()-1}return-a.size()-1}var b=0,e=a.size(),j=e-1;for(c=-1;b<=j;)if(e=b+j>>1,0<(c=d.compareTo(a.get(e))))b=e+1;else{if(0==c)return e;j=e-1}return-e-(0>c?1:2)},"java.util.List,~O");a.binarySearch=c(a,"binarySearch",function(a,d,b){if(null==b)return java.util.Collections.binarySearch(a,d);if(!x(a,java.util.RandomAccess)){for(var c=a.listIterator();c.hasNext();){var e;if(0>=(e=b.compare(d,c.next())))return 0==e?c.previousIndex():-c.previousIndex()-
1}return-a.size()-1}var c=0,j=a.size(),l=j-1;for(e=-1;c<=l;)if(j=c+l>>1,0<(e=b.compare(d,a.get(j))))c=j+1;else{if(0==e)return j;l=j-1}return-j-(0>e?1:2)},"java.util.List,~O,java.util.Comparator");a.copy=c(a,"copy",function(a,d){if(a.size()<d.size())throw new ArrayIndexOutOfBoundsException;for(var b=d.iterator(),c=a.listIterator();b.hasNext();){try{c.next()}catch(e){if(x(e,java.util.NoSuchElementException))throw new ArrayIndexOutOfBoundsException;throw e;}c.set(b.next())}},"java.util.List,java.util.List");
a.enumeration=c(a,"enumeration",function(a){M("java.util.Collections$1")||java.util.Collections.$Collections$1$(a);return L(java.util.Collections$1,this,null)},"java.util.Collection");a.fill=c(a,"fill",function(a,d){for(var b=a.listIterator();b.hasNext();)b.next(),b.set(d)},"java.util.List,~O");a.max=c(a,"max",function(a){a=a.iterator();for(var d=a.next();a.hasNext();){var b=a.next();0>d.compareTo(b)&&(d=b)}return d},"java.util.Collection");a.max=c(a,"max",function(a,d){for(var b=a.iterator(),c=b.next();b.hasNext();){var e=
b.next();0>d.compare(c,e)&&(c=e)}return c},"java.util.Collection,java.util.Comparator");a.min=c(a,"min",function(a){a=a.iterator();for(var d=a.next();a.hasNext();){var b=a.next();0<d.compareTo(b)&&(d=b)}return d},"java.util.Collection");a.min=c(a,"min",function(a,d){for(var b=a.iterator(),c=b.next();b.hasNext();){var e=b.next();0<d.compare(c,e)&&(c=e)}return c},"java.util.Collection,java.util.Comparator");a.nCopies=c(a,"nCopies",function(a,d){return new java.util.Collections.CopiesList(a,d)},"~N,~O");
a.reverse=c(a,"reverse",function(a){var d=a.size(),b=a.listIterator();a=a.listIterator(d);for(var c=0;c<Math.floor(d/2);c++){var e=b.next(),j=a.previous();b.set(j);a.set(e)}},"java.util.List");a.reverseOrder=c(a,"reverseOrder",function(){return new java.util.Collections.ReverseComparator});a.reverseOrder=c(a,"reverseOrder",function(a){return null==a?java.util.Collections.reverseOrder():new java.util.Collections.ReverseComparatorWithComparator(a)},"java.util.Comparator");a.shuffle=c(a,"shuffle",function(a){java.util.Collections.shuffle(a,
new java.util.Random)},"java.util.List");a.shuffle=c(a,"shuffle",function(a,d){if(x(a,java.util.RandomAccess))for(c=a.size()-1;0<c;c--)e=d.nextInt()%(c+1),0>e&&(e=-e),a.set(e,a.set(c,a.get(e)));else{for(var b=a.toArray(),c=b.length-1;0<c;c--){var e=d.nextInt()%(c+1);0>e&&(e=-e);var j=b[c];b[c]=b[e];b[e]=j}c=0;for(e=a.listIterator();e.hasNext();)e.next(),e.set(b[c++])}},"java.util.List,java.util.Random");a.singleton=c(a,"singleton",function(a){return new java.util.Collections.SingletonSet(a)},"~O");
a.singletonList=c(a,"singletonList",function(a){return new java.util.Collections.SingletonList(a)},"~O");a.singletonMap=c(a,"singletonMap",function(a,d){return new java.util.Collections.SingletonMap(a,d)},"~O,~O");a.sort=c(a,"sort",function(a){var d=a.toArray();java.util.Arrays.sort(d);var b=0;for(a=a.listIterator();a.hasNext();)a.next(),a.set(d[b++])},"java.util.List");a.sort=c(a,"sort",function(a,d){var b=a.toArray(Array(a.size()));java.util.Arrays.sort(b,d);for(var c=0,e=a.listIterator();e.hasNext();)e.next(),
e.set(b[c++])},"java.util.List,java.util.Comparator");a.swap=c(a,"swap",function(a,d,b){if(null==a)throw new NullPointerException;d!=b&&a.set(b,a.set(d,a.get(b)))},"java.util.List,~N,~N");a.replaceAll=c(a,"replaceAll",function(a,d,b){for(var c,e=!1;-1<(c=a.indexOf(d));)e=!0,a.set(c,b);return e},"java.util.List,~O,~O");a.rotate=c(a,"rotate",function(a,d){var b=a.size();if(0!=b){var c;c=0<d?d%b:b- -1*(d%b);if(!(0==c||c==b))if(x(a,java.util.RandomAccess))for(var e=a.get(0),j=0,l=0,r=0;r<b;r++)j=(j+c)%
b,e=a.set(j,e),j==l&&(j=++l,e=a.get(l));else e=(b-c)%b,c=a.subList(0,e),b=a.subList(e,b),java.util.Collections.reverse(c),java.util.Collections.reverse(b),java.util.Collections.reverse(a)}},"java.util.List,~N");a.indexOfSubList=c(a,"indexOfSubList",function(a,d){var b=a.size(),c=d.size();if(c>b)return-1;if(0==c)return 0;var e=d.get(0),j=a.indexOf(e);if(-1==j)return-1;for(;j<b&&b-j>=c;){var l=a.listIterator(j);if(null==e?null==l.next():e.equals(l.next())){for(var r=d.listIterator(1),n=!1;r.hasNext();){var p=
r.next();if(!l.hasNext())return-1;if(null==p?null!=l.next():!p.equals(l.next())){n=!0;break}}if(!n)return j}j++}return-1},"java.util.List,java.util.List");a.lastIndexOfSubList=c(a,"lastIndexOfSubList",function(a,d){var b=d.size(),c=a.size();if(b>c)return-1;if(0==b)return c;for(var c=d.get(b-1),e=a.lastIndexOf(c);-1<e&&e+1>=b;){var j=a.listIterator(e+1);if(null==c?null==j.previous():c.equals(j.previous())){for(var l=d.listIterator(b-1),r=!1;l.hasPrevious();){var n=l.previous();if(!j.hasPrevious())return-1;
if(null==n?null!=j.previous():!n.equals(j.previous())){r=!0;break}}if(!r)return j.nextIndex()}e--}return-1},"java.util.List,java.util.List");a.list=c(a,"list",function(a){for(var d=new java.util.ArrayList;a.hasMoreElements();)d.add(a.nextElement());return d},"java.util.Enumeration");a.synchronizedCollection=c(a,"synchronizedCollection",function(a){if(null==a)throw new NullPointerException;return new java.util.Collections.SynchronizedCollection(a)},"java.util.Collection");a.synchronizedList=c(a,"synchronizedList",
function(a){if(null==a)throw new NullPointerException;return x(a,java.util.RandomAccess)?new java.util.Collections.SynchronizedRandomAccessList(a):new java.util.Collections.SynchronizedList(a)},"java.util.List");a.synchronizedMap=c(a,"synchronizedMap",function(a){if(null==a)throw new NullPointerException;return new java.util.Collections.SynchronizedMap(a)},"java.util.Map");a.synchronizedSet=c(a,"synchronizedSet",function(a){if(null==a)throw new NullPointerException;return new java.util.Collections.SynchronizedSet(a)},
"java.util.Set");a.synchronizedSortedMap=c(a,"synchronizedSortedMap",function(a){if(null==a)throw new NullPointerException;return new java.util.Collections.SynchronizedSortedMap(a)},"java.util.SortedMap");a.synchronizedSortedSet=c(a,"synchronizedSortedSet",function(a){if(null==a)throw new NullPointerException;return new java.util.Collections.SynchronizedSortedSet(a)},"java.util.SortedSet");a.unmodifiableCollection=c(a,"unmodifiableCollection",function(a){if(null==a)throw new NullPointerException;
return new java.util.Collections.UnmodifiableCollection(a)},"java.util.Collection");a.unmodifiableList=c(a,"unmodifiableList",function(a){if(null==a)throw new NullPointerException;return x(a,java.util.RandomAccess)?new java.util.Collections.UnmodifiableRandomAccessList(a):new java.util.Collections.UnmodifiableList(a)},"java.util.List");a.unmodifiableMap=c(a,"unmodifiableMap",function(a){if(null==a)throw new NullPointerException;return new java.util.Collections.UnmodifiableMap(a)},"java.util.Map");
a.unmodifiableSet=c(a,"unmodifiableSet",function(a){if(null==a)throw new NullPointerException;return new java.util.Collections.UnmodifiableSet(a)},"java.util.Set");a.unmodifiableSortedMap=c(a,"unmodifiableSortedMap",function(a){if(null==a)throw new NullPointerException;return new java.util.Collections.UnmodifiableSortedMap(a)},"java.util.SortedMap");a.unmodifiableSortedSet=c(a,"unmodifiableSortedSet",function(a){if(null==a)throw new NullPointerException;return new java.util.Collections.UnmodifiableSortedSet(a)},
"java.util.SortedSet");a.frequency=c(a,"frequency",function(a,d){if(null==a)throw new NullPointerException;if(a.isEmpty())return 0;for(var b=0,c=a.iterator();c.hasNext();){var e=c.next();(null==d?null==e:d.equals(e))&&b++}return b},"java.util.Collection,~O");a.emptyList=c(a,"emptyList",function(){return java.util.Collections.EMPTY_LIST});a.emptySet=c(a,"emptySet",function(){return java.util.Collections.EMPTY_SET});a.emptyMap=c(a,"emptyMap",function(){return java.util.Collections.EMPTY_MAP});a.checkedCollection=
c(a,"checkedCollection",function(a,d){return new java.util.Collections.CheckedCollection(a,d)},"java.util.Collection,Class");a.checkedMap=c(a,"checkedMap",function(a,d,b){return new java.util.Collections.CheckedMap(a,d,b)},"java.util.Map,Class,Class");a.checkedList=c(a,"checkedList",function(a,d){return x(a,java.util.RandomAccess)?new java.util.Collections.CheckedRandomAccessList(a,d):new java.util.Collections.CheckedList(a,d)},"java.util.List,Class");a.checkedSet=c(a,"checkedSet",function(a,d){return new java.util.Collections.CheckedSet(a,
d)},"java.util.Set,Class");a.checkedSortedMap=c(a,"checkedSortedMap",function(a,d,b){return new java.util.Collections.CheckedSortedMap(a,d,b)},"java.util.SortedMap,Class,Class");a.checkedSortedSet=c(a,"checkedSortedSet",function(a,d){return new java.util.Collections.CheckedSortedSet(a,d)},"java.util.SortedSet,Class");a.addAll=c(a,"addAll",function(a,d){for(var b=!1,c=0;c<d.length;c++)b=(new Boolean(b|a.add(d[c]))).valueOf();return b},"java.util.Collection,~A");a.disjoint=c(a,"disjoint",function(a,
d){if(x(a,java.util.Set)&&!x(d,java.util.Set)||d.size()>a.size()){var b=a;a=d;d=b}for(b=a.iterator();b.hasNext();)if(d.contains(b.next()))return!1;return!0},"java.util.Collection,java.util.Collection");a.checkType=c(a,"checkType",function(a,d){if(!d.isInstance(a))throw new ClassCastException("Attempt to insert "+a.getClass()+" element into collection with element type "+d);return a},"~O,Class");a.$Collections$1$=function(a){var d=q(function(){R(this,arguments);this.it=null;s(this,arguments)},java.util,
"Collections$1",null,java.util.Enumeration);H(d,function(){this.it=a.iterator()});c(d,"hasMoreElements",function(){return this.it.hasNext()});c(d,"nextElement",function(){return this.it.next()})};var d=q(function(){this.n=0;this.element=null;s(this,arguments)},java.util.Collections,"CopiesList",java.util.AbstractList,java.io.Serializable);p(d,function(a,d){B(this,java.util.Collections.CopiesList,[]);if(0>a)throw new IllegalArgumentException;this.n=a;this.element=d},"~N,~O");e(d,"contains",function(a){return null==
this.element?null==a:this.element.equals(a)},"~O");e(d,"size",function(){return this.n});e(d,"get",function(a){if(0<=a&&a<this.n)return this.element;throw new IndexOutOfBoundsException;},"~N");d=u(java.util.Collections,"EmptyList",java.util.AbstractList,java.io.Serializable);e(d,"contains",function(){return!1},"~O");e(d,"size",function(){return 0});e(d,"get",function(){throw new IndexOutOfBoundsException;},"~N");d=u(java.util.Collections,"EmptySet",java.util.AbstractSet,java.io.Serializable);e(d,
"contains",function(){return!1},"~O");e(d,"size",function(){return 0});e(d,"iterator",function(){return M("java.util.Collections$EmptySet$1")?0:java.util.Collections.EmptySet.$Collections$EmptySet$1$(),L(java.util.Collections$EmptySet$1,this,null)});d.$Collections$EmptySet$1$=function(){var a=Y(java.util,"Collections$EmptySet$1",null,java.util.Iterator);e(a,"hasNext",function(){return!1});e(a,"next",function(){throw new java.util.NoSuchElementException;});e(a,"remove",function(){throw new UnsupportedOperationException;
})};d=u(java.util.Collections,"EmptyMap",java.util.AbstractMap,java.io.Serializable);e(d,"containsKey",function(){return!1},"~O");e(d,"containsValue",function(){return!1},"~O");e(d,"entrySet",function(){return java.util.Collections.EMPTY_SET});e(d,"get",function(){return null},"~O");e(d,"keySet",function(){return java.util.Collections.EMPTY_SET});e(d,"values",function(){return java.util.Collections.EMPTY_LIST});d=u(java.util.Collections,"ReverseComparator",null,[java.util.Comparator,java.io.Serializable]);
e(d,"compare",function(a,d){return d.compareTo(a)},"~O,~O");d=q(function(){this.comparator=null;s(this,arguments)},java.util.Collections,"ReverseComparatorWithComparator",null,[java.util.Comparator,java.io.Serializable]);p(d,function(a){this.comparator=a},"java.util.Comparator");c(d,"compare",function(a,d){return this.comparator.compare(d,a)},"~O,~O");d=q(function(){this.element=null;s(this,arguments)},java.util.Collections,"SingletonSet",java.util.AbstractSet,java.io.Serializable);p(d,function(a){B(this,
java.util.Collections.SingletonSet,[]);this.element=a},"~O");e(d,"contains",function(a){return null==this.element?null==a:this.element.equals(a)},"~O");e(d,"size",function(){return 1});e(d,"iterator",function(){return M("java.util.Collections$SingletonSet$1")?0:java.util.Collections.SingletonSet.$Collections$SingletonSet$1$(),L(java.util.Collections$SingletonSet$1,this,null)});d.$Collections$SingletonSet$1$=function(){var a=q(function(){R(this,arguments);this.$hasNext=!0;s(this,arguments)},java.util,
"Collections$SingletonSet$1",null,java.util.Iterator);e(a,"hasNext",function(){return this.$hasNext});e(a,"next",function(){if(this.$hasNext)return this.$hasNext=!1,this.b$["java.util.Collections.SingletonSet"].element;throw new java.util.NoSuchElementException;});e(a,"remove",function(){throw new UnsupportedOperationException;})};d=q(function(){this.element=null;s(this,arguments)},java.util.Collections,"SingletonList",java.util.AbstractList,java.io.Serializable);p(d,function(a){B(this,java.util.Collections.SingletonList,
[]);this.element=a},"~O");e(d,"contains",function(a){return null==this.element?null==a:this.element.equals(a)},"~O");e(d,"get",function(a){if(0==a)return this.element;throw new IndexOutOfBoundsException;},"~N");e(d,"size",function(){return 1});d=q(function(){this.v=this.k=null;s(this,arguments)},java.util.Collections,"SingletonMap",java.util.AbstractMap,java.io.Serializable);p(d,function(a,d){B(this,java.util.Collections.SingletonMap,[]);this.k=a;this.v=d},"~O,~O");e(d,"containsKey",function(a){return null==
this.k?null==a:this.k.equals(a)},"~O");e(d,"containsValue",function(a){return null==this.v?null==a:this.v.equals(a)},"~O");e(d,"get",function(a){return this.containsKey(a)?this.v:null},"~O");e(d,"size",function(){return 1});e(d,"entrySet",function(){return M("java.util.Collections$SingletonMap$1")?0:java.util.Collections.SingletonMap.$Collections$SingletonMap$1$(),L(java.util.Collections$SingletonMap$1,this,null)});d.$Collections$SingletonMap$1$=function(){var a=Y(java.util,"Collections$SingletonMap$1",
java.util.AbstractSet);e(a,"contains",function(a){return x(a,java.util.Map.Entry)?this.b$["java.util.Collections.SingletonMap"].containsKey(a.getKey())&&this.b$["java.util.Collections.SingletonMap"].containsValue(a.getValue()):!1},"~O");e(a,"size",function(){return 1});e(a,"iterator",function(){return M("java.util.Collections$SingletonMap$1$1")?0:java.util.Collections.$Collections$SingletonMap$1$1$(),L(java.util.Collections$SingletonMap$1$1,this,null)})};d.$Collections$SingletonMap$1$1$=function(){var a=
q(function(){R(this,arguments);this.$hasNext=!0;s(this,arguments)},java.util,"Collections$SingletonMap$1$1",null,java.util.Iterator);e(a,"hasNext",function(){return this.$hasNext});e(a,"next",function(){if(this.$hasNext)return this.$hasNext=!1,M("java.util.Collections$SingletonMap$1$1$1")?0:java.util.Collections.$Collections$SingletonMap$1$1$1$(),L(java.util.Collections$SingletonMap$1$1$1,this,null);throw new java.util.NoSuchElementException;});e(a,"remove",function(){throw new UnsupportedOperationException;
})};d.$Collections$SingletonMap$1$1$1$=function(){var a=Y(java.util,"Collections$SingletonMap$1$1$1",null,java.util.Map.Entry);e(a,"equals",function(a){return this.b$["java.util.Collections$SingletonMap$1"].contains(a)},"~O");e(a,"getKey",function(){return this.b$["java.util.Collections.SingletonMap"].k});e(a,"getValue",function(){return this.b$["java.util.Collections.SingletonMap"].v});e(a,"hashCode",function(){return(null==this.b$["java.util.Collections.SingletonMap"].k?0:this.b$["java.util.Collections.SingletonMap"].k.hashCode())^
(null==this.b$["java.util.Collections.SingletonMap"].v?0:this.b$["java.util.Collections.SingletonMap"].v.hashCode())});e(a,"setValue",function(){throw new UnsupportedOperationException;},"~O")};d=q(function(){this.mutex=this.c=null;s(this,arguments)},java.util.Collections,"SynchronizedCollection",null,[java.util.Collection,java.io.Serializable]);p(d,function(a){this.c=a;this.mutex=this},"java.util.Collection");p(d,function(a,d){this.c=a;this.mutex=d},"java.util.Collection,~O");c(d,"add",function(a){return this.c.add(a)},
"~O");c(d,"addAll",function(a){return this.c.addAll(a)},"java.util.Collection");c(d,"clear",function(){this.c.clear()});c(d,"contains",function(a){return this.c.contains(a)},"~O");c(d,"containsAll",function(a){return this.c.containsAll(a)},"java.util.Collection");c(d,"isEmpty",function(){return this.c.isEmpty()});c(d,"iterator",function(){return this.c.iterator()});c(d,"remove",function(a){return this.c.remove(a)},"~O");c(d,"removeAll",function(a){return this.c.removeAll(a)},"java.util.Collection");
c(d,"retainAll",function(a){return this.c.retainAll(a)},"java.util.Collection");c(d,"size",function(){return this.c.size()});c(d,"toArray",function(){return this.c.toArray()});c(d,"toString",function(){return this.c.toString()});c(d,"toArray",function(a){return this.c.toArray(a)},"~A");d=q(function(){this.list=null;s(this,arguments)},java.util.Collections,"SynchronizedList",java.util.Collections.SynchronizedCollection,java.util.List);p(d,function(a){B(this,java.util.Collections.SynchronizedList,[a]);
this.list=a},"java.util.List");p(d,function(a,d){B(this,java.util.Collections.SynchronizedList,[a,d]);this.list=a},"java.util.List,~O");c(d,"add",function(a,d){this.list.add(a,d)},"~N,~O");c(d,"addAll",function(a,d){return this.list.addAll(a,d)},"~N,java.util.Collection");e(d,"equals",function(a){return this.list.equals(a)},"~O");c(d,"get",function(a){return this.list.get(a)},"~N");e(d,"hashCode",function(){return this.list.hashCode()});c(d,"indexOf",function(a){return this.list.indexOf(a)},"~O");
c(d,"lastIndexOf",function(a){return this.list.lastIndexOf(a)},"~O");c(d,"listIterator",function(a){a||(a=0);return this.list.listIterator(a)},"~N");c(d,"remove",function(a){return this.list.remove(a)},"~N");c(d,"set",function(a,d){return this.list.set(a,d)},"~N,~O");c(d,"subList",function(a,d){return new java.util.Collections.SynchronizedList(this.list.subList(a,d),this.mutex)},"~N,~N");d=u(java.util.Collections,"SynchronizedRandomAccessList",java.util.Collections.SynchronizedList,java.util.RandomAccess);
e(d,"subList",function(a,d){return new java.util.Collections.SynchronizedRandomAccessList(this.list.subList(a,d),this.mutex)},"~N,~N");d=q(function(){this.mutex=this.m=null;s(this,arguments)},java.util.Collections,"SynchronizedMap",null,[java.util.Map,java.io.Serializable]);p(d,function(a){this.m=a;this.mutex=this},"java.util.Map");p(d,function(a,d){this.m=a;this.mutex=d},"java.util.Map,~O");c(d,"clear",function(){this.m.clear()});c(d,"containsKey",function(a){return this.m.containsKey(a)},"~O");
c(d,"containsValue",function(a){return this.m.containsValue(a)},"~O");c(d,"entrySet",function(){return new java.util.Collections.SynchronizedSet(this.m.entrySet(),this.mutex)});e(d,"equals",function(a){return this.m.equals(a)},"~O");c(d,"get",function(a){return this.m.get(a)},"~O");e(d,"hashCode",function(){return this.m.hashCode()});c(d,"isEmpty",function(){return this.m.isEmpty()});c(d,"keySet",function(){return new java.util.Collections.SynchronizedSet(this.m.keySet(),this.mutex)});c(d,"put",function(a,
d){return this.m.put(a,d)},"~O,~O");c(d,"putAll",function(a){this.m.putAll(a)},"java.util.Map");c(d,"remove",function(a){return this.m.remove(a)},"~O");c(d,"size",function(){return this.m.size()});c(d,"values",function(){return new java.util.Collections.SynchronizedCollection(this.m.values(),this.mutex)});c(d,"toString",function(){return this.m.toString()});d=u(java.util.Collections,"SynchronizedSet",java.util.Collections.SynchronizedCollection,java.util.Set);e(d,"equals",function(a){return this.c.equals(a)},
"~O");e(d,"hashCode",function(){return this.c.hashCode()});d=q(function(){this.sm=null;s(this,arguments)},java.util.Collections,"SynchronizedSortedMap",java.util.Collections.SynchronizedMap,java.util.SortedMap);p(d,function(a){B(this,java.util.Collections.SynchronizedSortedMap,[a]);this.sm=a},"java.util.SortedMap");p(d,function(a,d){B(this,java.util.Collections.SynchronizedSortedMap,[a,d]);this.sm=a},"java.util.SortedMap,~O");c(d,"comparator",function(){return this.sm.comparator()});c(d,"firstKey",
function(){return this.sm.firstKey()});c(d,"headMap",function(a){return new java.util.Collections.SynchronizedSortedMap(this.sm.headMap(a),this.mutex)},"~O");c(d,"lastKey",function(){return this.sm.lastKey()});c(d,"subMap",function(a,d){return new java.util.Collections.SynchronizedSortedMap(this.sm.subMap(a,d),this.mutex)},"~O,~O");c(d,"tailMap",function(a){return new java.util.Collections.SynchronizedSortedMap(this.sm.tailMap(a),this.mutex)},"~O");d=q(function(){this.ss=null;s(this,arguments)},java.util.Collections,
"SynchronizedSortedSet",java.util.Collections.SynchronizedSet,java.util.SortedSet);p(d,function(a){B(this,java.util.Collections.SynchronizedSortedSet,[a]);this.ss=a},"java.util.SortedSet");p(d,function(a,d){B(this,java.util.Collections.SynchronizedSortedSet,[a,d]);this.ss=a},"java.util.SortedSet,~O");c(d,"comparator",function(){return this.ss.comparator()});c(d,"first",function(){return this.ss.first()});c(d,"headSet",function(a){return new java.util.Collections.SynchronizedSortedSet(this.ss.headSet(a),
this.mutex)},"~O");c(d,"last",function(){return this.ss.last()});c(d,"subSet",function(a,d){return new java.util.Collections.SynchronizedSortedSet(this.ss.subSet(a,d),this.mutex)},"~O,~O");c(d,"tailSet",function(a){return new java.util.Collections.SynchronizedSortedSet(this.ss.tailSet(a),this.mutex)},"~O");d=q(function(){this.c=null;s(this,arguments)},java.util.Collections,"UnmodifiableCollection",null,[java.util.Collection,java.io.Serializable]);p(d,function(a){this.c=a},"java.util.Collection");
e(d,"add",function(){throw new UnsupportedOperationException;},"~O");e(d,"addAll",function(){throw new UnsupportedOperationException;},"java.util.Collection");e(d,"clear",function(){throw new UnsupportedOperationException;});c(d,"contains",function(a){return this.c.contains(a)},"~O");c(d,"containsAll",function(a){return this.c.containsAll(a)},"java.util.Collection");c(d,"isEmpty",function(){return this.c.isEmpty()});c(d,"iterator",function(){return M("java.util.Collections$UnmodifiableCollection$1")?
0:java.util.Collections.UnmodifiableCollection.$Collections$UnmodifiableCollection$1$(),L(java.util.Collections$UnmodifiableCollection$1,this,null)});e(d,"remove",function(){throw new UnsupportedOperationException;},"~O");e(d,"removeAll",function(){throw new UnsupportedOperationException;},"java.util.Collection");e(d,"retainAll",function(){throw new UnsupportedOperationException;},"java.util.Collection");c(d,"size",function(){return this.c.size()});c(d,"toArray",function(){return this.c.toArray()});
c(d,"toArray",function(a){return this.c.toArray(a)},"~A");c(d,"toString",function(){return this.c.toString()});d.$Collections$UnmodifiableCollection$1$=function(){var a=q(function(){R(this,arguments);this.iterator=null;s(this,arguments)},java.util,"Collections$UnmodifiableCollection$1",null,java.util.Iterator);H(a,function(){this.iterator=this.b$["java.util.Collections.UnmodifiableCollection"].c.iterator()});c(a,"hasNext",function(){return this.iterator.hasNext()});c(a,"next",function(){return this.iterator.next()});
e(a,"remove",function(){throw new UnsupportedOperationException;})};d=q(function(){this.list=null;s(this,arguments)},java.util.Collections,"UnmodifiableList",java.util.Collections.UnmodifiableCollection,java.util.List);p(d,function(a){B(this,java.util.Collections.UnmodifiableList,[a]);this.list=a},"java.util.List");c(d,"add",function(){throw new UnsupportedOperationException;},"~N,~O");c(d,"addAll",function(){throw new UnsupportedOperationException;},"~N,java.util.Collection");e(d,"equals",function(a){return this.list.equals(a)},
"~O");c(d,"get",function(a){return this.list.get(a)},"~N");e(d,"hashcode",function(){return this.list.hashCode()});c(d,"indexOf",function(a){return this.list.indexOf(a)},"~O");c(d,"lastIndexOf",function(a){return this.list.lastIndexOf(a)},"~O");c(d,"listIterator",function(){return M("java.util.Collections$UnmodifiableList$1")?0:java.util.Collections.UnmodifiableList.$Collections$UnmodifiableList$1$(),L(java.util.Collections$UnmodifiableList$1,this,null)},"~N");c(d,"remove",function(){throw new UnsupportedOperationException;
},"~N");e(d,"set",function(){throw new UnsupportedOperationException;},"~N,~O");c(d,"subList",function(a,d){return new java.util.Collections.UnmodifiableList(this.list.subList(a,d))},"~N,~N");d.$Collections$UnmodifiableList$1$=function(){var a=q(function(){R(this,arguments);this.iterator=null;s(this,arguments)},java.util,"Collections$UnmodifiableList$1",null,java.util.ListIterator);H(a,function(){this.iterator=this.b$["java.util.Collections.UnmodifiableList"].list.listIterator(location)});e(a,"add",
function(){throw new UnsupportedOperationException;},"~O");c(a,"hasNext",function(){return this.iterator.hasNext()});c(a,"hasPrevious",function(){return this.iterator.hasPrevious()});c(a,"next",function(){return this.iterator.next()});c(a,"nextIndex",function(){return this.iterator.nextIndex()});c(a,"previous",function(){return this.iterator.previous()});c(a,"previousIndex",function(){return this.iterator.previousIndex()});e(a,"remove",function(){throw new UnsupportedOperationException;});e(a,"set",
function(){throw new UnsupportedOperationException;},"~O")};d=u(java.util.Collections,"UnmodifiableRandomAccessList",java.util.Collections.UnmodifiableList,java.util.RandomAccess);e(d,"subList",function(a,d){return new java.util.Collections.UnmodifiableRandomAccessList(this.list.subList(a,d))},"~N,~N");d=u(java.util.Collections,"UnmodifiableSet",java.util.Collections.UnmodifiableCollection,java.util.Set);e(d,"equals",function(a){return this.c.equals(a)},"~O");e(d,"hashCode",function(){return this.c.hashCode()});
d=q(function(){this.m=null;s(this,arguments)},java.util.Collections,"UnmodifiableMap",null,[java.util.Map,java.io.Serializable]);p(d,function(a){this.m=a},"java.util.Map");e(d,"clear",function(){throw new UnsupportedOperationException;});c(d,"containsKey",function(a){return this.m.containsKey(a)},"~O");c(d,"containsValue",function(a){return this.m.containsValue(a)},"~O");c(d,"entrySet",function(){return new java.util.Collections.UnmodifiableMap.UnmodifiableEntrySet(this.m.entrySet())});e(d,"equals",
function(a){return this.m.equals(a)},"~O");c(d,"get",function(a){return this.m.get(a)},"~O");e(d,"hashcode",function(){return this.m.hashCode()});c(d,"isEmpty",function(){return this.m.isEmpty()});c(d,"keySet",function(){return new java.util.Collections.UnmodifiableSet(this.m.keySet())});e(d,"put",function(){throw new UnsupportedOperationException;},"~O,~O");e(d,"putAll",function(){throw new UnsupportedOperationException;},"java.util.Map");e(d,"remove",function(){throw new UnsupportedOperationException;
},"~O");c(d,"size",function(){return this.m.size()});c(d,"values",function(){return new java.util.Collections.UnmodifiableCollection(this.m.values())});c(d,"toString",function(){return this.m.toString()});d=u(java.util.Collections.UnmodifiableMap,"UnmodifiableEntrySet",java.util.Collections.UnmodifiableSet);e(d,"iterator",function(){return M("java.util.Collections$UnmodifiableMap$UnmodifiableEntrySet$1")?0:java.util.Collections.UnmodifiableMap.UnmodifiableEntrySet.$Collections$UnmodifiableMap$UnmodifiableEntrySet$1$(),
L(java.util.Collections$UnmodifiableMap$UnmodifiableEntrySet$1,this,null)});c(d,"toArray",function(){for(var a=this.c.size(),d=Array(a),b=this.iterator();0<=--a;)d[a]=b.next();return d});c(d,"toArray",function(a){var d=this.c.size(),b=0,c=this.iterator();d>a.length&&(a=a.getClass().getComponentType(),a=java.lang.reflect.Array.newInstance(a,d));for(;b<d;)a[b++]=c.next();b<a.length&&(a[b]=null);return a},"~A");d.$Collections$UnmodifiableMap$UnmodifiableEntrySet$1$=function(){var a=q(function(){R(this,
arguments);this.iterator=null;s(this,arguments)},java.util,"Collections$UnmodifiableMap$UnmodifiableEntrySet$1",null,java.util.Iterator);H(a,function(){this.iterator=this.b$["java.util.Collections.UnmodifiableMap.UnmodifiableEntrySet"].c.iterator()});c(a,"hasNext",function(){return this.iterator.hasNext()});c(a,"next",function(){return new java.util.Collections.UnmodifiableMap.UnmodifiableEntrySet.UnmodifiableMapEntry(this.iterator.next())});e(a,"remove",function(){throw new UnsupportedOperationException;
})};d=q(function(){this.mapEntry=null;s(this,arguments)},java.util.Collections.UnmodifiableMap.UnmodifiableEntrySet,"UnmodifiableMapEntry",null,java.util.Map.Entry);p(d,function(a){this.mapEntry=a},"java.util.Map.Entry");e(d,"equals",function(a){return this.mapEntry.equals(a)},"~O");c(d,"getKey",function(){return this.mapEntry.getKey()});c(d,"getValue",function(){return this.mapEntry.getValue()});e(d,"hashcode",function(){return this.mapEntry.hashCode()});e(d,"setValue",function(){throw new UnsupportedOperationException;
},"~O");c(d,"toString",function(){return this.mapEntry.toString()});d=q(function(){this.sm=null;s(this,arguments)},java.util.Collections,"UnmodifiableSortedMap",java.util.Collections.UnmodifiableMap,java.util.SortedMap);p(d,function(a){B(this,java.util.Collections.UnmodifiableSortedMap,[a]);this.sm=a},"java.util.SortedMap");c(d,"comparator",function(){return this.sm.comparator()});c(d,"firstKey",function(){return this.sm.firstKey()});c(d,"headMap",function(a){return new java.util.Collections.UnmodifiableSortedMap(this.sm.headMap(a))},
"~O");c(d,"lastKey",function(){return this.sm.lastKey()});c(d,"subMap",function(a,d){return new java.util.Collections.UnmodifiableSortedMap(this.sm.subMap(a,d))},"~O,~O");c(d,"tailMap",function(a){return new java.util.Collections.UnmodifiableSortedMap(this.sm.tailMap(a))},"~O");d=q(function(){this.ss=null;s(this,arguments)},java.util.Collections,"UnmodifiableSortedSet",java.util.Collections.UnmodifiableSet,java.util.SortedSet);p(d,function(a){B(this,java.util.Collections.UnmodifiableSortedSet,[a]);
this.ss=a},"java.util.SortedSet");c(d,"comparator",function(){return this.ss.comparator()});c(d,"first",function(){return this.ss.first()});c(d,"headSet",function(a){return new java.util.Collections.UnmodifiableSortedSet(this.ss.headSet(a))},"~O");c(d,"last",function(){return this.ss.last()});c(d,"subSet",function(a,d){return new java.util.Collections.UnmodifiableSortedSet(this.ss.subSet(a,d))},"~O,~O");c(d,"tailSet",function(a){return new java.util.Collections.UnmodifiableSortedSet(this.ss.tailSet(a))},
"~O");d=q(function(){this.type=this.c=null;s(this,arguments)},java.util.Collections,"CheckedCollection",null,[java.util.Collection,java.io.Serializable]);p(d,function(a,d){if(null==a||null==d)throw new NullPointerException;this.c=a;this.type=d},"java.util.Collection,Class");c(d,"size",function(){return this.c.size()});c(d,"isEmpty",function(){return this.c.isEmpty()});c(d,"contains",function(a){return this.c.contains(a)},"~O");c(d,"iterator",function(){var a=this.c.iterator();x(a,java.util.ListIterator)&&
(a=new java.util.Collections.CheckedListIterator(a,this.type));return a});c(d,"toArray",function(){return this.c.toArray()});c(d,"toArray",function(a){return this.c.toArray(a)},"~A");c(d,"add",function(a){return this.c.add(java.util.Collections.checkType(a,this.type))},"~O");c(d,"remove",function(a){return this.c.remove(a)},"~O");c(d,"containsAll",function(a){return this.c.containsAll(a)},"java.util.Collection");e(d,"addAll",function(a){var d=a.size();if(0==d)return!1;var b=Array(d);a=a.iterator();
for(var c=0;c<d;c++)b[c]=java.util.Collections.checkType(a.next(),this.type);a=!1;for(c=0;c<d;c++)a=(new Boolean(a|this.c.add(b[c]))).valueOf();return a},"java.util.Collection");c(d,"removeAll",function(a){return this.c.removeAll(a)},"java.util.Collection");c(d,"retainAll",function(a){return this.c.retainAll(a)},"java.util.Collection");c(d,"clear",function(){this.c.clear()});c(d,"toString",function(){return this.c.toString()});d=q(function(){this.type=this.i=null;s(this,arguments)},java.util.Collections,
"CheckedListIterator",null,java.util.ListIterator);p(d,function(a,d){this.i=a;this.type=d},"java.util.ListIterator,Class");c(d,"hasNext",function(){return this.i.hasNext()});c(d,"next",function(){return this.i.next()});c(d,"remove",function(){this.i.remove()});c(d,"hasPrevious",function(){return this.i.hasPrevious()});c(d,"previous",function(){return this.i.previous()});c(d,"nextIndex",function(){return this.i.nextIndex()});c(d,"previousIndex",function(){return this.i.previousIndex()});c(d,"set",
function(a){this.i.set(java.util.Collections.checkType(a,this.type))},"~O");c(d,"add",function(a){this.i.add(java.util.Collections.checkType(a,this.type))},"~O");d=q(function(){this.l=null;s(this,arguments)},java.util.Collections,"CheckedList",java.util.Collections.CheckedCollection,java.util.List);p(d,function(a,d){B(this,java.util.Collections.CheckedList,[a,d]);this.l=a},"java.util.List,Class");c(d,"addAll",function(a,d){var b=d.size();if(0==b)return!1;for(var c=Array(b),e=d.iterator(),j=0;j<b;j++)c[j]=
java.util.Collections.checkType(e.next(),this.type);return this.l.addAll(a,java.util.Arrays.asList(c))},"~N,java.util.Collection");c(d,"get",function(a){return this.l.get(a)},"~N");c(d,"set",function(a,d){return this.l.set(a,java.util.Collections.checkType(d,this.type))},"~N,~O");c(d,"add",function(a,d){this.l.add(a,java.util.Collections.checkType(d,this.type))},"~N,~O");c(d,"remove",function(a){return this.l.remove(a)},"~N");c(d,"indexOf",function(a){return this.l.indexOf(a)},"~O");c(d,"lastIndexOf",
function(a){return this.l.lastIndexOf(a)},"~O");c(d,"listIterator",function(a){a||(a=0);return new java.util.Collections.CheckedListIterator(this.l.listIterator(a),this.type)},"~N");c(d,"subList",function(a,d){return java.util.Collections.checkedList(this.l.subList(a,d),this.type)},"~N,~N");e(d,"equals",function(a){return this.l.equals(a)},"~O");e(d,"hashcode",function(){return this.l.hashCode()});u(java.util.Collections,"CheckedRandomAccessList",java.util.Collections.CheckedList,java.util.RandomAccess);
d=u(java.util.Collections,"CheckedSet",java.util.Collections.CheckedCollection,java.util.Set);e(d,"equals",function(a){return this.c.equals(a)},"~O");e(d,"hashCode",function(){return this.c.hashCode()});d=q(function(){this.valueType=this.keyType=this.m=null;s(this,arguments)},java.util.Collections,"CheckedMap",null,[java.util.Map,java.io.Serializable]);p(d,(b=function(a,d,b){if(null==a||null==d||null==b)throw new NullPointerException;this.m=a;this.keyType=d;this.valueType=b},b.isPrivate=!0,b),"java.util.Map,Class,Class");
c(d,"size",function(){return this.m.size()});c(d,"isEmpty",function(){return this.m.isEmpty()});c(d,"containsKey",function(a){return this.m.containsKey(a)},"~O");c(d,"containsValue",function(a){return this.m.containsValue(a)},"~O");c(d,"get",function(a){return this.m.get(a)},"~O");c(d,"put",function(a,d){return this.m.put(java.util.Collections.checkType(a,this.keyType),java.util.Collections.checkType(d,this.valueType))},"~O,~O");c(d,"remove",function(a){return this.m.remove(a)},"~O");e(d,"putAll",
function(a){var d=a.size();if(0!=d){var b=Array(d);a=a.entrySet().iterator();for(var c=0;c<d;c++){var e=a.next();java.util.Collections.checkType(e.getKey(),this.keyType);java.util.Collections.checkType(e.getValue(),this.valueType);b[c]=e}for(e=0;e<d;e++)this.m.put(b[e].getKey(),b[e].getValue())}},"java.util.Map");c(d,"clear",function(){this.m.clear()});c(d,"keySet",function(){return this.m.keySet()});c(d,"values",function(){return this.m.values()});c(d,"entrySet",function(){return new java.util.Collections.CheckedMap.CheckedEntrySet(this.m.entrySet(),
this.valueType)});e(d,"equals",function(a){return this.m.equals(a)},"~O");e(d,"hashcode",function(){return this.m.hashCode()});c(d,"toString",function(){return this.m.toString()});b=q(function(){this.valueType=this.e=null;s(this,arguments)},java.util.Collections.CheckedMap,"CheckedEntry",null,java.util.Map.Entry);p(b,function(a,d){if(null==a)throw new NullPointerException;this.e=a;this.valueType=d},"java.util.Map.Entry,Class");c(b,"getKey",function(){return this.e.getKey()});c(b,"getValue",function(){return this.e.getValue()});
c(b,"setValue",function(a){return this.e.setValue(java.util.Collections.checkType(a,this.valueType))},"~O");e(b,"equals",function(a){return this.e.equals(a)},"~O");e(b,"hashcode",function(){return this.e.hashCode()});b=q(function(){this.valueType=this.s=null;s(this,arguments)},java.util.Collections.CheckedMap,"CheckedEntrySet",null,java.util.Set);p(b,function(a,d){this.s=a;this.valueType=d},"java.util.Set,Class");c(b,"iterator",function(){return new java.util.Collections.CheckedMap.CheckedEntrySet.CheckedEntryIterator(this.s.iterator(),
this.valueType)});c(b,"toArray",function(){for(var a=this.size(),d=Array(a),b=this.iterator(),c=0;c<a;c++)d[c]=b.next();return d});c(b,"toArray",function(a){var d=this.size();if(a.length<d){var b=a.getClass().getComponentType();a=java.lang.reflect.Array.newInstance(b,d)}for(var b=this.iterator(),c=0;c<d;c++)a[c]=b.next();d<a.length&&(a[d]=null);return a},"~A");c(b,"retainAll",function(a){return this.s.retainAll(a)},"java.util.Collection");c(b,"removeAll",function(a){return this.s.removeAll(a)},"java.util.Collection");
c(b,"containsAll",function(a){return this.s.containsAll(a)},"java.util.Collection");e(b,"addAll",function(){throw new UnsupportedOperationException;},"java.util.Collection");c(b,"remove",function(a){return this.s.remove(a)},"~O");c(b,"contains",function(a){return this.s.contains(a)},"~O");e(b,"add",function(){throw new UnsupportedOperationException;},"java.util.Map.Entry");c(b,"isEmpty",function(){return this.s.isEmpty()});c(b,"clear",function(){this.s.clear()});c(b,"size",function(){return this.s.size()});
e(b,"hashcode",function(){return this.s.hashCode()});e(b,"equals",function(a){return this.s.equals(a)},"~O");b=q(function(){this.valueType=this.i=null;s(this,arguments)},java.util.Collections.CheckedMap.CheckedEntrySet,"CheckedEntryIterator",null,java.util.Iterator);p(b,function(a,d){this.i=a;this.valueType=d},"java.util.Iterator,Class");c(b,"hasNext",function(){return this.i.hasNext()});c(b,"remove",function(){this.i.remove()});c(b,"next",function(){return new java.util.Collections.CheckedMap.CheckedEntry(this.i.next(),
this.valueType)});b=q(function(){this.ss=null;s(this,arguments)},java.util.Collections,"CheckedSortedSet",java.util.Collections.CheckedSet,java.util.SortedSet);p(b,function(a,d){B(this,java.util.Collections.CheckedSortedSet,[a,d]);this.ss=a},"java.util.SortedSet,Class");c(b,"comparator",function(){return this.ss.comparator()});c(b,"subSet",function(a,d){return new java.util.Collections.CheckedSortedSet(this.ss.subSet(a,d),this.type)},"~O,~O");c(b,"headSet",function(a){return new java.util.Collections.CheckedSortedSet(this.ss.headSet(a),
this.type)},"~O");c(b,"tailSet",function(a){return new java.util.Collections.CheckedSortedSet(this.ss.tailSet(a),this.type)},"~O");c(b,"first",function(){return this.ss.first()});c(b,"last",function(){return this.ss.last()});b=q(function(){this.sm=null;s(this,arguments)},java.util.Collections,"CheckedSortedMap",java.util.Collections.CheckedMap,java.util.SortedMap);p(b,function(a,d,b){B(this,java.util.Collections.CheckedSortedMap,[a,d,b]);this.sm=a},"java.util.SortedMap,Class,Class");c(b,"comparator",
function(){return this.sm.comparator()});c(b,"subMap",function(a,d){return new java.util.Collections.CheckedSortedMap(this.sm.subMap(a,d),this.keyType,this.valueType)},"~O,~O");c(b,"headMap",function(a){return new java.util.Collections.CheckedSortedMap(this.sm.headMap(a),this.keyType,this.valueType)},"~O");c(b,"tailMap",function(a){return new java.util.Collections.CheckedSortedMap(this.sm.tailMap(a),this.keyType,this.valueType)},"~O");c(b,"firstKey",function(){return this.sm.firstKey()});c(b,"lastKey",
function(){return this.sm.lastKey()});a.EMPTY_LIST=a.prototype.EMPTY_LIST=new java.util.Collections.EmptyList;a.EMPTY_SET=a.prototype.EMPTY_SET=new java.util.Collections.EmptySet;a.EMPTY_MAP=a.prototype.EMPTY_MAP=new java.util.Collections.EmptyMap});n=u(java.util,"Dictionary");p(n,function(){});v([],"java.util.HashtableIterator",[],function(){var b=q(function(){this.expectedModCount=this.position=0;this.lastEntry=this.type=null;this.lastPosition=0;this.canRemove=!1;s(this,arguments)},java.util,"HashtableIterator",
null,java.util.Iterator);p(b,function(a){this.type=a;this.h$=a.h$;this.position=this.h$.lastSlot;this.expectedModCount=this.h$.modCount},"java.util.AbstractSet");e(b,"hasNext",function(){if(this.lastEntry&&this.lastEntry.next)return!0;for(;this.position>=this.h$.firstSlot;)if(null==this.h$.elementData[this.position])this.position--;else return!0;return!1});e(b,"next",function(){if(this.expectedModCount==this.h$.modCount){this.lastEntry&&(this.lastEntry=this.lastEntry.next);if(null==this.lastEntry){for(;this.position>=
this.h$.firstSlot&&null==(this.lastEntry=this.h$.elementData[this.position]);)this.position--;this.lastEntry&&(this.lastPosition=this.position,this.position--)}if(this.lastEntry)return this.canRemove=!0,this.type.get(this.lastEntry);throw new java.util.NoSuchElementException;}throw new java.util.ConcurrentModificationException;});e(b,"remove",function(){if(this.expectedModCount==this.h$.modCount)if(this.canRemove){var a=this.canRemove=!1,d=this.h$.elementData[this.lastPosition];if(d===this.lastEntry)this.h$.elementData[this.lastPosition]=
d.next,a=!0;else{for(;d&&d.next!==this.lastEntry;)d=d.next;d&&(d.next=this.lastEntry.next,a=!0)}if(a){this.h$.modCount++;this.h$.elementCount--;this.expectedModCount++;return}}else throw new IllegalStateException;throw new java.util.ConcurrentModificationException;})});v([],"java.util.HashtableEnumerator",[],function(){n=q(function(){this.key=!1;this.start=0;this.entry=null;s(this,arguments)},java.util,"HashtableEnumerator",null,java.util.Enumeration);p(n,function(b,a){this.key=b;if(this.h$=a)this.start=
this.h$.lastSlot+1},"~B,java.util.Hashtable");e(n,"hasMoreElements",function(){if(!this.h$)return!1;if(this.entry)return!0;for(;--this.start>=this.h$.firstSlot;)if(this.h$.elementData[this.start])return this.entry=this.h$.elementData[this.start],!0;return!1});e(n,"nextElement",function(){if(this.hasMoreElements()){var b=this.key?this.entry.key:this.entry.value;this.entry=this.entry.next;return b}throw new java.util.NoSuchElementException;})});v(["java.util.AbstractSet"],"java.util.HashtableEntrySet",
[],function(){n=q(function(){s(this,arguments)},java.util,"HashtableEntrySet",java.util.AbstractSet,null);p(n,function(b){this.h$=b},"java.util.Hashtable");e(n,"size",function(){return this.h$.elementCount});e(n,"clear",function(){this.h$.clear()});e(n,"remove",function(b){return this.contains(b)?(this.h$.remove(b.getKey()),!0):!1},"~O");c(n,"contains",function(b){var a=this.h$.getEntry(b.getKey());return b.equals(a)},"~O");e(n,"get",function(b){return b},"java.util.MapEntry");c(n,"iterator",function(){return new java.util.HashtableIterator(this)})});
v(["java.util.AbstractSet"],"java.util.HashtableKeySet",[],function(){n=q(function(){s(this,arguments)},java.util,"HashtableKeySet",java.util.AbstractSet,null);p(n,function(b){this.h$=b},"java.util.Hashtable");e(n,"contains",function(b){return this.h$.containsKey(b)},"~O");e(n,"size",function(){return this.h$.elementCount});e(n,"clear",function(){this.h$.clear()});e(n,"remove",function(b){return this.h$.containsKey(b)?(this.h$.remove(b),!0):!1},"~O");e(n,"get",function(b){return b.key},"java.util.MapEntry");
e(n,"iterator",function(){return new java.util.HashtableIterator(this)})});v(["java.util.AbstractCollection"],"java.util.HashtableValueCollection",[],function(){n=q(function(){s(this,arguments)},java.util,"HashtableValueCollection",java.util.AbstractCollection,null);p(n,function(b){this.h$=b},"java.util.Hashtable");e(n,"contains",function(b){return this.h$.contains(b)},"~O");e(n,"size",function(){return this.h$.elementCount});e(n,"clear",function(){this.h$.clear()});e(n,"get",function(b){return b.value},
"java.util.MapEntry");e(n,"iterator",function(){return new java.util.HashtableIterator(this)})});v(["java.util.MapEntry"],"java.util.HashtableEntry",[],function(){n=q(function(){this.next=null;this.hashcode=0;s(this,arguments)},java.util,"HashtableEntry",java.util.MapEntry);S(n,function(b,a){this.key=b;this.value=a;this.hashcode=b.hashCode()});c(n,"clone",function(){var b=T(this,java.util.HashtableEntry,"clone",[]);null!=this.next&&(b.next=this.next.clone());return b});e(n,"setValue",function(b){if(null==
b)throw new NullPointerException;var a=this.value;this.value=b;return a},"~O");c(n,"getKeyHash",function(){return this.key.hashCode()});c(n,"equalsKey",function(b){return this.hashcode==(!b.hashCode||b.hashCode())&&this.key.equals(b)},"~O,~N");e(n,"toString",function(){return this.key+"="+this.value})});v("java.util.Dictionary $.Enumeration $.HashtableEnumerator $.Iterator $.Map $.MapEntry $.NoSuchElementException".split(" "),"java.util.Hashtable","java.lang.IllegalArgumentException $.IllegalStateException $.NullPointerException java.util.AbstractCollection $.AbstractSet $.Arrays $.Collections $.ConcurrentModificationException java.util.MapEntry.Type java.util.HashtableEntry".split(" "),
function(){n=q(function(){this.elementCount=0;this.elementData=null;this.firstSlot=this.threshold=this.loadFactor=0;this.lastSlot=-1;this.modCount=0;s(this,arguments)},java.util,"Hashtable",java.util.Dictionary,[java.util.Map,Cloneable,java.io.Serializable]);n.newEntry=c(n,"newEntry",($fz=function(b,a){return new java.util.HashtableEntry(b,a)},$fz.isPrivate=!0,$fz),"~O,~O,~N");S(n,function(){this.elementCount=0;this.elementData=this.newElementArray(11);this.firstSlot=this.elementData.length;this.loadFactor=
0.75;this.computeMaxSize()});c(n,"newElementArray",($fz=function(b){return Array(b)},$fz.isPrivate=!0,$fz),"~N");e(n,"clear",function(){this.elementCount=0;for(var b=this.elementData.length;0<=--b;)this.elementData[b]=null;this.modCount++});c(n,"clone",function(){try{var b=T(this,java.util.Hashtable,"clone",[]);b.elementData=Array(this.elementData.length);for(var a=this.elementData.length;0<=--a;)null!=this.elementData[a]&&(b.elementData[a]=this.elementData[a].clone());return b}catch(d){if(x(d,CloneNotSupportedException))return null;
throw d;}});c(n,"computeMaxSize",($fz=function(){this.threshold=Math.round(this.elementData.length*this.loadFactor)},$fz.isPrivate=!0,$fz));c(n,"contains",function(b){if(null==b)throw new NullPointerException;for(var a=this.elementData.length;0<=--a;)for(var d=this.elementData[a];d;){if(b.equals(d.value))return!0;d=d.next}return!1},"~O");e(n,"containsKey",function(b){b.hashCode||(b.hashCode=function(){return 1},b.equals||(b.equals=function(a){return this==a}));return null!=this.getEntry(b)},"~O");
e(n,"containsValue",function(b){return this.contains(b)},"~O");e(n,"elements",function(){return 0==this.elementCount?java.util.Hashtable.EMPTY_ENUMERATION:new java.util.HashtableEnumerator(!1,this)});e(n,"entrySet",function(){return new java.util.HashtableEntrySet(this)});e(n,"equals",function(b){if(this===b)return!0;if(x(b,java.util.Map)){if(this.size()!=b.size())return!1;var a=this.entrySet(),d;for(b=b.entrySet().iterator();b.hasNext()&&((d=b.next())||1);)if(!a.contains(d))return!1;return!0}return!1},
"~O");e(n,"get",function(b){b.hashCode||(b.hashCode=function(){return 1},b.equals||(b.equals=function(a){return this==a}));for(var a=b.hashCode(),d=this.elementData[(a&2147483647)%this.elementData.length];d;){if(d.equalsKey(b,a))return d.value;d=d.next}return null},"~O");c(n,"getEntry",function(b){for(var a=b.hashCode(),d=this.elementData[(a&2147483647)%this.elementData.length];d;){if(d.equalsKey(b,a))return d;d=d.next}return null},"~O");e(n,"hashCode",function(){for(var b=0,a=this.entrySet().iterator();a.hasNext();)var d=
a.next(),g=d.getKey(),d=d.getValue(),g=(g!==this?g.hashCode():0)^(d!==this?null!=d?d.hashCode():0:0),b=b+g;return b});e(n,"isEmpty",function(){return 0==this.elementCount});e(n,"keys",function(){return 0==this.elementCount?java.util.Hashtable.EMPTY_ENUMERATION:new java.util.HashtableEnumerator(!0,this)});e(n,"keySet",function(){return new java.util.HashtableKeySet(this)});e(n,"put",function(b,a){if(null!=b&&null!=a){b.hashCode||(b.hashCode=function(){return 1},b.equals||(b.equals=function(a){return this==
a}));for(var d=b.hashCode(),g=(d&2147483647)%this.elementData.length,c=this.elementData[g];null!=c&&!c.equalsKey(b,d);)c=c.next;if(null==c)return this.modCount++,++this.elementCount>this.threshold&&(this.rehash(),g=(d&2147483647)%this.elementData.length),g<this.firstSlot&&(this.firstSlot=g),g>this.lastSlot&&(this.lastSlot=g),c=java.util.Hashtable.newEntry(b,a,d),c.next=this.elementData[g],this.elementData[g]=c,null;d=c.value;c.value=a;return d}throw new NullPointerException;},"~O,~O");e(n,"putAll",
function(b){var a;for(b=b.entrySet().iterator();b.hasNext()&&((a=b.next())||1);)this.put(a.getKey(),a.getValue())},"java.util.Map");c(n,"rehash",function(){var b=(this.elementData.length<<1)+1;0==b&&(b=1);for(var a=b,d=-1,g=this.newElementArray(b),c=this.lastSlot+1;--c>=this.firstSlot;)for(var f=this.elementData[c];null!=f;){var h=(f.getKeyHash()&2147483647)%b;h<a&&(a=h);h>d&&(d=h);var e=f.next;f.next=g[h];g[h]=f;f=e}this.firstSlot=a;this.lastSlot=d;this.elementData=g;this.computeMaxSize()});e(n,
"remove",function(b){for(var a=b.hashCode(),d=(a&2147483647)%this.elementData.length,g=null,c=this.elementData[d];null!=c&&!c.equalsKey(b,a);)g=c,c=c.next;return null!=c?(this.modCount++,null==g?this.elementData[d]=c.next:g.next=c.next,this.elementCount--,b=c.value,c.value=null,b):null},"~O");e(n,"size",function(){return this.elementCount});e(n,"toString",function(){if(this.isEmpty())return"{}";for(var b="{",a="",d=this.lastSlot;d>=this.firstSlot;d--)for(var g=this.elementData[d];null!=g;)b+=a,b=
g.key!==this?b+g.key:b+"(this Map)",b+="=",b=g.value!==this?b+g.value:b+"(this Map)",a=", ",g=g.next;return b+"}"});e(n,"values",function(){return new java.util.HashtableValueCollection(this)});java.util.Hashtable.EMPTY_ENUMERATION=new java.util.HashtableEnumerator});v(["java.util.Map"],"java.util.MapEntry",null,function(){var b=q(function(){this.value=this.key=null;s(this,arguments)},java.util,"MapEntry",null,[java.util.Map.Entry,Cloneable]);p(b,function(a){this.key=a},"~O");p(b,function(a,d){this.key=
a;this.value=d},"~O,~O");c(b,"clone",function(){try{return T(this,java.util.MapEntry,"clone",[])}catch(a){if(z(a,"CloneNotSupportedException"))return null;throw a;}});e(b,"equals",function(a){return this===a?!0:x(a,"java.util.Map.Entry")?(null==this.key?null==a.getKey():this.key.equals(a.getKey()))&&(null==this.value?null==a.getValue():this.value.equals(a.getValue())):!1},"~O");e(b,"getKey",function(){return this.key});e(b,"getValue",function(){return this.value});e(b,"hashCode",function(){return(null==
this.key?0:this.key.hashCode())^(null==this.value?0:this.value.hashCode())});e(b,"setValue",function(a){var d=this.value;this.value=a;return d},"~O");e(b,"toString",function(){return this.key+"="+this.value});C(java.util.MapEntry,"Type")});v(["java.util.Hashtable"],"java.util.Properties",["java.lang.NullPointerException"],function(){var b=q(function(){this.defaults=this.builder=null;s(this,arguments)},java.util,"Properties",java.util.Hashtable);p(b,function(a){B(this,java.util.Properties,[]);this.defaults=
a},"java.util.Properties");c(b,"dumpString",function(a,d,b){var c=0;!b&&(c<d.length&&" "==d.charAt(c))&&(a+="\\ ",c++);for(;c<d.length;c++){var f=d.charAt(c);switch(f.charCodeAt(0)){case 9:a+="\\t";break;case 10:a+="\\n";break;case 12:a+="\\f";break;case 13:a+="\\r";break;default:if(0<="\\#!=:".indexOf(f)||b&&" "==f)a+="\\";if(!(" "<=f&&"~">=f)){f=Integer.toHexString(f.charCodeAt(0));a+="\\u";for(var h=0;h<4-f.length;h++)a+="0"}a+=f}}return a},"~S,~S,~B");c(b,"getProperty",function(a){var d=this.get(a),
d="string"==typeof d?d:null;null==d&&null!=this.defaults&&(d=this.defaults.getProperty(a));return d},"~S");c(b,"getProperty",function(a,d){var b=this.get(a),b="string"==typeof b?b:null;null==b&&null!=this.defaults&&(b=this.defaults.getProperty(a));return null==b?d:b},"~S,~S");c(b,"list",function(a){if(null==a)throw new NullPointerException;for(var d="",b=this.propertyNames();b.hasMoreElements();){for(var c=b.nextElement(),d=d+c,d=d+"=",f=this.get(c),h=this.defaults;null==f;)f=h.get(c),h=h.defaults;
40<f.length?(d+=f.substring(0,37),d+="..."):d+=f;a.println(d.toString());d=""}},"java.io.PrintStream");c(b,"list",function(a){if(null==a)throw new NullPointerException;for(var d="",b=this.propertyNames();b.hasMoreElements();){for(var c=b.nextElement(),d=d+c,d=d+"=",f=this.get(c),h=this.defaults;null==f;)f=h.get(c),h=h.defaults;40<f.length?(d+=f.substring(0,37),d+="..."):d+=f;a.println(d.toString());d=""}},"java.io.PrintWriter");c(b,"load",function(){},"java.io.InputStream");c(b,"propertyNames",function(){if(null==
this.defaults)return this.keys();for(var a=new java.util.Hashtable(this.defaults.size()+this.size()),d=this.defaults.propertyNames();d.hasMoreElements();)a.put(d.nextElement(),a);for(d=this.keys();d.hasMoreElements();)a.put(d.nextElement(),a);return a.keys()});c(b,"save",function(a,d){try{this.store(a,d)}catch(b){if(!z(b,"java.io.IOException"))throw b;}},"java.io.OutputStream,~S");c(b,"setProperty",function(a,d){return this.put(a,d)},"~S,~S");c(b,"store",function(){},"java.io.OutputStream,~S");c(b,
"loadFromXML",function(){},"java.io.InputStream");c(b,"storeToXML",function(){},"java.io.OutputStream,~S");c(b,"storeToXML",function(){},"java.io.OutputStream,~S,~S");c(b,"substitutePredefinedEntries",function(a){return a.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll("'","&apos;").replaceAll('"',"&quot;")},"~S");E(b,"lineSeparator",null)});v(["java.util.Map"],"java.util.SortedMap",null,function(){C(java.util,"SortedMap",java.util.Map)});v(["java.util.Set"],"java.util.SortedSet",
null,function(){C(java.util,"SortedSet",java.util.Set)});v(["java.util.Enumeration"],"java.util.StringTokenizer",["java.lang.NullPointerException","java.util.NoSuchElementException"],function(){var b=q(function(){this.delimiters=this.string=null;this.returnDelimiters=!1;this.position=0;s(this,arguments)},java.util,"StringTokenizer",null,java.util.Enumeration);p(b,function(a){this.construct(a," \t\n\r\f",!1)},"~S");p(b,function(a,d){this.construct(a,d,!1)},"~S,~S");p(b,function(a,d,b){if(null!=a)this.string=
a,this.delimiters=d,this.returnDelimiters=b,this.position=0;else throw new NullPointerException;},"~S,~S,~B");c(b,"countTokens",function(){for(var a=0,d=!1,b=this.position,c=this.string.length;b<c;b++)0<=this.delimiters.indexOf(this.string.charAt(b),0)?(this.returnDelimiters&&a++,d&&(a++,d=!1)):d=!0;d&&a++;return a});e(b,"hasMoreElements",function(){return this.hasMoreTokens()});c(b,"hasMoreTokens",function(){var a=this.string.length;if(this.position<a){if(this.returnDelimiters)return!0;for(var d=
this.position;d<a;d++)if(-1==this.delimiters.indexOf(this.string.charAt(d),0))return!0}return!1});e(b,"nextElement",function(){return this.nextToken()});c(b,"nextToken",function(){var a=this.position,d=this.string.length;if(a<d){if(this.returnDelimiters){if(0<=this.delimiters.indexOf(this.string.charAt(this.position),0))return String.valueOf(this.string.charAt(this.position++));for(this.position++;this.position<d;this.position++)if(0<=this.delimiters.indexOf(this.string.charAt(this.position),0))return this.string.substring(a,
this.position);return this.string.substring(a)}for(;a<d&&0<=this.delimiters.indexOf(this.string.charAt(a),0);)a++;this.position=a;if(a<d){for(this.position++;this.position<d;this.position++)if(0<=this.delimiters.indexOf(this.string.charAt(this.position),0))return this.string.substring(a,this.position);return this.string.substring(a)}}throw new java.util.NoSuchElementException;});c(b,"nextToken",function(a){this.delimiters=a;return this.nextToken()},"~S")});t("javajs.api");C(javajs.api,"BytePoster");
t("javajs.api");C(javajs.api,"GenericColor");t("J.api");C(J.api,"GenericFileInterface");t("javajs.api");C(javajs.api,"GenericOutputChannel");t("javajs.api");C(javajs.api,"JSInterface");t("javajs.api");C(javajs.api,"JSONEncodable");t("javajs.api");C(javajs.api,"ZInputStream");t("javajs.api.js");C(javajs.api.js,"J2SObjectInterface");t("J.api");C(J.api,"GenericMouseInterface");t("J.api");v(["J.api.FontManager"],"J.api.GenericPlatform",null,function(){C(J.api,"GenericPlatform",J.api.FontManager)});t("J.api");
C(J.api,"PlatformViewer");t("J.api");C(J.api,"EventManager");t("J.api");C(J.api,"FontManager");t("JU");v(null,"JU.Font",["JU.AU"],function(){var b=q(function(){this.fid=0;this.fontStyle=this.fontFace=null;this.fontSize=this.idFontStyle=this.idFontFace=this.fontSizeNominal=0;this.manager=this.fontMetrics=this.font=null;this.descent=this.ascent=0;this.isItalic=this.isBold=!1;s(this,arguments)},JU,"Font");p(b,function(a,d,b,c,f,h,e){this.manager=a;this.fid=d;this.fontFace=JU.Font.fontFaces[b];this.fontStyle=
JU.Font.fontStyles[c];this.idFontFace=b;this.idFontStyle=c;this.fontSize=f;this.isBold=1==(c&1);this.isItalic=2==(c&2);this.fontSizeNominal=h;this.font=a.newFont(JU.Font.fontFaces[b],this.isBold,this.isItalic,f);this.fontMetrics=a.getFontMetrics(this,e);this.descent=a.getFontDescent(this.fontMetrics);this.ascent=a.getFontAscent(this.fontMetrics)},"J.api.FontManager,~N,~N,~N,~N,~N,~O");b.getFont3D=c(b,"getFont3D",function(a){return JU.Font.font3ds[a]},"~N");b.createFont3D=c(b,"createFont3D",function(a,
d,b,c,f,h){255<b&&(b=255);for(var e=I(b)<<4,e=a&3|(d&3)<<2|e<<4,j=JU.Font.fontkeyCount;0<--j;)if(e==JU.Font.fontkeys[j]&&JU.Font.font3ds[j].fontSizeNominal==c)return JU.Font.font3ds[j];j=JU.Font.fontkeyCount++;j==JU.Font.fontkeys.length&&(JU.Font.fontkeys=JU.AU.arrayCopyI(JU.Font.fontkeys,j+8),JU.Font.font3ds=JU.AU.arrayCopyObject(JU.Font.font3ds,j+8));a=new JU.Font(f,j,a,d,b,c,h);JU.Font.font3ds[j]=a;JU.Font.fontkeys[j]=e;return a},"~N,~N,~N,~N,J.api.FontManager,~O");b.getFontFaceID=c(b,"getFontFaceID",
function(a){return"Monospaced".equalsIgnoreCase(a)?2:"Serif".equalsIgnoreCase(a)?1:0},"~S");b.getFontStyleID=c(b,"getFontStyleID",function(a){for(var d=4;0<=--d;)if(JU.Font.fontStyles[d].equalsIgnoreCase(a))return d;return-1},"~S");c(b,"getAscent",function(){return this.ascent});c(b,"getDescent",function(){return this.descent});c(b,"getHeight",function(){return this.getAscent()+this.getDescent()});c(b,"getFontMetrics",function(){return this.fontMetrics});c(b,"stringWidth",function(a){return this.manager.fontStringWidth(this,
a)},"~S");c(b,"getInfo",function(){return this.fontSizeNominal+" "+this.fontFace+" "+this.fontStyle});e(b,"toString",function(){return"["+this.getInfo()+"]"});E(b,"fontkeyCount",1,"fontkeys",D(8,0));b.font3ds=b.prototype.font3ds=Array(8);E(b,"fontFaces",y(-1,["SansSerif","Serif","Monospaced",""]),"fontStyles",y(-1,["Plain","Bold","Italic","BoldItalic"]))});t("JS");v(["javajs.api.GenericColor"],"JS.Color",null,function(){var b=q(function(){this.argb=0;s(this,arguments)},JS,"Color",null,javajs.api.GenericColor);
e(b,"getRGB",function(){return this.argb&16777215});e(b,"getOpacity255",function(){return this.argb>>24&255});e(b,"setOpacity255",function(a){this.argb=this.argb&16777215|(a&255)<<24},"~N");b.get1=c(b,"get1",function(a){var d=new JS.Color;d.argb=a|4278190080;return d},"~N");b.get3=c(b,"get3",function(a,d,b){return(new JS.Color).set4(a,d,b,255)},"~N,~N,~N");b.get4=c(b,"get4",function(a,d,b,c){return(new JS.Color).set4(a,d,b,c)},"~N,~N,~N,~N");c(b,"set4",function(a,d,b,c){this.argb=(c<<24|a<<16|d<<
8|b)&4294967295;return this},"~N,~N,~N,~N");e(b,"toString",function(){var a="00000000"+Integer.toHexString(this.argb);return"[0x"+a.substring(a.length-8,a.length)+"]"})});t("JS");n=q(function(){this.height=this.width=0;s(this,arguments)},JS,"Dimension");p(n,function(b,a){this.set(b,a)},"~N,~N");c(n,"set",function(b,a){this.width=b;this.height=a;return this},"~N,~N");t("J.awtjs");n=u(J.awtjs,"Event");t("J.api");C(J.api,"GenericMenuInterface");t("JU");v(["javajs.api.JSONEncodable"],"JU.A4",["JU.T3"],
function(){var b=q(function(){this.angle=this.z=this.y=this.x=0;s(this,arguments)},JU,"A4",null,[javajs.api.JSONEncodable,java.io.Serializable]);p(b,function(){this.z=1});b.new4=c(b,"new4",function(a,d,b,c){var f=new JU.A4;f.set4(a,d,b,c);return f},"~N,~N,~N,~N");b.newAA=c(b,"newAA",function(a){var d=new JU.A4;d.set4(a.x,a.y,a.z,a.angle);return d},"JU.A4");b.newVA=c(b,"newVA",function(a,d){var b=new JU.A4;b.setVA(a,d);return b},"JU.V3,~N");c(b,"setVA",function(a,d){this.x=a.x;this.y=a.y;this.z=a.z;
this.angle=d},"JU.V3,~N");c(b,"set4",function(a,d,b,c){this.x=a;this.y=d;this.z=b;this.angle=c},"~N,~N,~N,~N");c(b,"setAA",function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.angle=a.angle},"JU.A4");c(b,"setM",function(a){this.setFromMat(a.m00,a.m01,a.m02,a.m10,a.m11,a.m12,a.m20,a.m21,a.m22)},"JU.M3");c(b,"setFromMat",function(a,d,b,c,f,h,e,j,l){a=0.5*(a+f+l-1);this.x=j-h;this.y=b-e;this.z=c-d;d=0.5*Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0==d&&1==a?(this.x=this.y=0,this.z=1,this.angle=
0):this.angle=Math.atan2(d,a)},"~N,~N,~N,~N,~N,~N,~N,~N,~N");e(b,"hashCode",function(){return JU.T3.floatToIntBits(this.x)^JU.T3.floatToIntBits(this.y)^JU.T3.floatToIntBits(this.z)^JU.T3.floatToIntBits(this.angle)});e(b,"equals",function(a){return!x(a,"JU.A4")?!1:this.x==a.x&&this.y==a.y&&this.z==a.z&&this.angle==a.angle},"~O");e(b,"toString",function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.angle+")"});e(b,"toJSON",function(){return"["+this.x+","+this.y+","+this.z+","+180*this.angle/
3.141592653589793+"]"})});t("JU");v(["java.net.URLConnection"],"JU.AjaxURLConnection",["JU.AU","$.Rdr"],function(){var b=q(function(){this.bytesOut=null;this.postOut="";s(this,arguments)},JU,"AjaxURLConnection",java.net.URLConnection);c(b,"doAjax",function(){var a=null,a=Jmol;return a.doAjax(this.url,this.postOut,this.bytesOut,!1)});e(b,"connect",function(){});c(b,"outputBytes",function(a){this.bytesOut=a},"~A");c(b,"outputString",function(a){this.postOut=a},"~S");e(b,"getInputStream",function(){var a=
null,d=this.doAjax();JU.AU.isAB(d)?a=JU.Rdr.getBIS(d):x(d,"JU.SB")?a=JU.Rdr.getBIS(JU.Rdr.getBytesFromSB(d)):"string"==typeof d&&(a=JU.Rdr.getBIS(d.getBytes()));return a});c(b,"getContents",function(){return this.doAjax()})});t("JU");v(["java.net.URLStreamHandler"],"JU.AjaxURLStreamHandler",["JU.AjaxURLConnection","$.SB"],function(){var b=q(function(){this.protocol=null;s(this,arguments)},JU,"AjaxURLStreamHandler",java.net.URLStreamHandler);p(b,function(a){B(this,JU.AjaxURLStreamHandler,[]);this.protocol=
a},"~S");c(b,"openConnection",function(a){return new JU.AjaxURLConnection(a)},"java.net.URL");e(b,"toExternalForm",function(a){var d=new JU.SB;d.append(a.getProtocol());d.append(":");null!=a.getAuthority()&&0<a.getAuthority().length&&(d.append("//"),d.append(a.getAuthority()));null!=a.getPath()&&d.append(a.getPath());null!=a.getQuery()&&(d.append("?"),d.append(a.getQuery()));null!=a.getRef()&&(d.append("#"),d.append(a.getRef()));return d.toString()},"java.net.URL")});t("JU");v(["java.net.URLStreamHandlerFactory",
"java.util.Hashtable"],"JU.AjaxURLStreamHandlerFactory",["JU.AjaxURLStreamHandler"],function(){var b=q(function(){this.htFactories=null;s(this,arguments)},JU,"AjaxURLStreamHandlerFactory",null,java.net.URLStreamHandlerFactory);H(b,function(){this.htFactories=new java.util.Hashtable});e(b,"createURLStreamHandler",function(a){var d=this.htFactories.get(a);null==d&&this.htFactories.put(a,d=new JU.AjaxURLStreamHandler(a));return null==d.protocol?null:d},"~S")});t("JU");v(null,"JU.AU",["java.lang.reflect.Array",
"java.util.Arrays","JU.Lst"],function(){var b=u(JU,"AU");b.ensureLength=c(b,"ensureLength",function(a,d){return null!=a&&JU.AU.getLength(a)>=d?a:JU.AU.arrayCopyObject(a,d)},"~O,~N");b.ensureLengthS=c(b,"ensureLengthS",function(a,d){return null!=a&&a.length>=d?a:JU.AU.arrayCopyS(a,d)},"~A,~N");b.ensureLengthA=c(b,"ensureLengthA",function(a,d){return null!=a&&a.length>=d?a:JU.AU.arrayCopyF(a,d)},"~A,~N");b.ensureLengthI=c(b,"ensureLengthI",function(a,d){return null!=a&&a.length>=d?a:JU.AU.arrayCopyI(a,
d)},"~A,~N");b.ensureLengthShort=c(b,"ensureLengthShort",function(a,d){return null!=a&&a.length>=d?a:JU.AU.arrayCopyShort(a,d)},"~A,~N");b.ensureLengthByte=c(b,"ensureLengthByte",function(a,d){return null!=a&&a.length>=d?a:JU.AU.arrayCopyByte(a,d)},"~A,~N");b.doubleLength=c(b,"doubleLength",function(a){return JU.AU.arrayCopyObject(a,null==a?16:2*JU.AU.getLength(a))},"~O");b.doubleLengthS=c(b,"doubleLengthS",function(a){return JU.AU.arrayCopyS(a,null==a?16:2*a.length)},"~A");b.doubleLengthF=c(b,"doubleLengthF",
function(a){return JU.AU.arrayCopyF(a,null==a?16:2*a.length)},"~A");b.doubleLengthI=c(b,"doubleLengthI",function(a){return JU.AU.arrayCopyI(a,null==a?16:2*a.length)},"~A");b.doubleLengthShort=c(b,"doubleLengthShort",function(a){return JU.AU.arrayCopyShort(a,null==a?16:2*a.length)},"~A");b.doubleLengthByte=c(b,"doubleLengthByte",function(a){return JU.AU.arrayCopyByte(a,null==a?16:2*a.length)},"~A");b.doubleLengthBool=c(b,"doubleLengthBool",function(a){return JU.AU.arrayCopyBool(a,null==a?16:2*a.length)},
"~A");b.deleteElements=c(b,"deleteElements",function(a,d,b){if(0==b||null==a)return a;var c=JU.AU.getLength(a);if(d>=c)return a;c-=d+b;0>c&&(c=0);var f=JU.AU.newInstanceO(a,d+c);0<d&&System.arraycopy(a,0,f,0,d);0<c&&System.arraycopy(a,d+b,f,d,c);return f},"~O,~N,~N");b.arrayCopyObject=c(b,"arrayCopyObject",function(a,d){var b=null==a?-1:JU.AU.getLength(a);0>d&&(d=b);if(d==b)return a;if(d<b)return y(-1,a,0,d);var c=JU.AU.newInstanceO(a,d);0<b&&System.arraycopy(a,0,c,0,b<d?b:d);return c},"~O,~N");b.newInstanceO=
c(b,"newInstanceO",function(a,d){return JU.AU.isAI(a)?D(d,0):!a.getClass||!a.getClass().getComponentType?Array(d):java.lang.reflect.Array.newInstance(a.getClass().getComponentType(),d)},"~O,~N");b.getLength=c(b,"getLength",function(a){return a.length},"~O");b.arrayCopyS=c(b,"arrayCopyS",function(a,d){var b=null==a?-1:a.length;0>d&&(d=b);if(d<b)return y(-1,a,0,d);var c=Array(d);null!=a&&System.arraycopy(a,0,c,0,b<d?b:d);return c},"~A,~N");b.arrayCopyII=c(b,"arrayCopyII",function(a,d){var b=JU.AU.newInt2(d);
if(null!=a){var c=a.length;System.arraycopy(a,0,b,0,c<d?c:d)}return b},"~A,~N");b.arrayCopyPt=c(b,"arrayCopyPt",function(a,d){0>d&&(d=a.length);var b=Array(d);if(null!=a){var c=a.length;System.arraycopy(a,0,b,0,c<d?c:d)}return b},"~A,~N");b.arrayCopyF=c(b,"arrayCopyF",function(a,d){var b=null==a?-1:a.length;0>d&&(d=b);if(d<b)return y(-1,a,0,d);var c=V(d,0);null!=a&&System.arraycopy(a,0,c,0,b<d?b:d);return c},"~A,~N");b.arrayCopyI=c(b,"arrayCopyI",function(a,d){var b=null==a?-1:a.length;0>d&&(d=b);
if(d<b)return y(-1,a,0,d);var c=D(d,0);null!=a&&System.arraycopy(a,0,c,0,b<d?b:d);return c},"~A,~N");b.arrayCopyRangeI=c(b,"arrayCopyRangeI",function(a,d,b){if(null==a)return null;var c=a.length;-1==b&&(b=c);-2==b&&(b=w(c/2));return y(-1,a,d,b)},"~A,~N,~N");b.arrayCopyRangeRevI=c(b,"arrayCopyRangeRevI",function(a,d,b){return null==a?null:y(-1,a,d,b).reverse()},"~A,~N,~N");b.arrayCopyShort=c(b,"arrayCopyShort",function(a,d){var b=null==a?-1:a.length;0>d&&(d=b);if(d<b)return y(-1,a,0,d);var c=ra(d,
0);null!=a&&System.arraycopy(a,0,c,0,b<d?b:d);return c},"~A,~N");b.arrayCopyByte=c(b,"arrayCopyByte",function(a,d){var b=null==a?-1:a.length;0>d&&(d=b);if(d<b)return y(-1,a,0,d);var c=K(d,0);null!=a&&System.arraycopy(a,0,c,0,b<d?b:d);return c},"~A,~N");b.arrayCopyBool=c(b,"arrayCopyBool",function(a,d){var b=null==a?-1:a.length;0>d&&(d=b);if(d<b)return y(-1,a,0,d);var c=fa(d,!1);null!=a&&System.arraycopy(a,0,c,0,b<d?b:d);return c},"~A,~N");b.swapInt=c(b,"swapInt",function(a,d,b){var c=a[d];a[d]=a[b];
a[b]=c},"~A,~N,~N");b.dumpArray=c(b,"dumpArray",function(a,d,b,c,f,h){a="dumpArray: "+a+"\n";for(var e=b;e<=c;e++)a+="\t*"+e+"*";for(;h>=f;h--){a+="\n*"+h+"*";for(e=b;e<=c;e++)a+="\t"+(e<d.length&&h<d[e].length?d[e][h]:NaN)}return a},"~S,~A,~N,~N,~N,~N");b.dumpIntArray=c(b,"dumpIntArray",function(a,d){for(var b="",c=0;c<d;c++)b+=" "+a[c];return b},"~A,~N");b.sortedItem=c(b,"sortedItem",function(a,d){if(0==a.size())return null;if(1==a.size())return a.get(0);var b=a.toArray(Array(a.size()));java.util.Arrays.sort(b);
return b[d%b.length]},"JU.Lst,~N");b.createArrayOfArrayList=c(b,"createArrayOfArrayList",function(a){return Array(a)},"~N");b.createArrayOfHashtable=c(b,"createArrayOfHashtable",function(a){return Array(a)},"~N");b.swap=c(b,"swap",function(a,d,b){var c=a[d];a[d]=a[b];a[b]=c},"~A,~N,~N");b.newFloat2=c(b,"newFloat2",function(a){return y(a,null)},"~N");b.newInt2=c(b,"newInt2",function(a){return y(a,null)},"~N");b.newInt3=c(b,"newInt3",function(a){return y(a,null)},"~N,~N");b.newFloat3=c(b,"newFloat3",
function(a){return y(a,null)},"~N,~N");b.newInt4=c(b,"newInt4",function(a){return y(a,null)},"~N");b.newShort2=c(b,"newShort2",function(a){return y(a,null)},"~N");b.newByte2=c(b,"newByte2",function(a){return y(a,null)},"~N");b.newDouble2=c(b,"newDouble2",function(a){return y(a,null)},"~N");b.newDouble3n=c(b,"newDouble3n",function(a){return N(a,0)},"~N");b.removeMapKeys=c(b,"removeMapKeys",function(a,d){for(var b=new JU.Lst,c,f=a.keySet().iterator();f.hasNext()&&((c=f.next())||1);)c.startsWith(d)&&
b.addLast(c);for(c=b.size();0<=--c;)a.remove(b.get(c));return b.size()},"java.util.Map,~S");b.isAS=c(b,"isAS",function(a){return wa(a)},"~O");b.isASS=c(b,"isASS",function(a){return xa(a)},"~O");b.isAP=c(b,"isAP",function(a){return ya(a)},"~O");b.isAF=c(b,"isAF",function(a){return ha(a)},"~O");b.isAFloat=c(b,"isAFloat",function(a){return za(a)},"~O");b.isAD=c(b,"isAD",function(a){return ha(a)},"~O");b.isADD=c(b,"isADD",function(a){return ia(a)},"~O");b.isADDD=c(b,"isADDD",function(a){return ja(a)},
"~O");b.isAB=c(b,"isAB",function(a){return ua(a)},"~O");b.isAI=c(b,"isAI",function(a){return va(a)},"~O");b.isAII=c(b,"isAII",function(a){return Aa(a)},"~O");b.isAFF=c(b,"isAFF",function(a){return ia(a)},"~O");b.isAFFF=c(b,"isAFFF",function(a){return ja(a)},"~O");b.ensureSignedBytes=c(b,"ensureSignedBytes",function(a){if(null!=a)for(var d=a.length;0<=--d;){var b=a[d]&255;128<=b&&(b-=256);a[d]=b}return a},"~A")});t("JU");v(null,"JU.Base64",["JU.SB"],function(){var b=u(JU,"Base64");b.getBytes64=c(b,
"getBytes64",function(a){return JU.Base64.getBase64(a).toBytes(0,-1)},"~A");b.getBase64=c(b,"getBase64",function(a){var d=a.length,b=new JU.SB;if(0==d)return b;for(var c=0,f=0;c<d&&0==f;){0==c%75&&0!=c&&b.append("\r\n");var f=c+2==d?1:c+1==d?2:0,h=a[c++]<<16&16711680|(2==f?0:a[c++]<<8)&65280|(1<=f?0:a[c++])&255;b.appendC(JU.Base64.base64.charAt(h>>18&63));b.appendC(JU.Base64.base64.charAt(h>>12&63));b.appendC(2==f?"=":JU.Base64.base64.charAt(h>>6&63));b.appendC(1<=f?"=":JU.Base64.base64.charAt(h&
63))}return b},"~A");b.decodeBase64=c(b,"decodeBase64",function(a){var d=0,b,c=a.indexOf(";base64,")+1;0<c&&(c+=7);a=a.toCharArray();var f=a.length;if(0==f)return K(0,0);for(var h=f;--h>=c;)d+=65==(b=a[h].charCodeAt(0)&127)||0<JU.Base64.decode64[b]?3:0;for(var d=d>>2,e=K(d,0),j=18,h=c,l=c=0;h<f;h++)if(0<JU.Base64.decode64[b=a[h].charCodeAt(0)&127]||65==b||61==b)l|=JU.Base64.decode64[b]<<j,j-=6,0>j&&(e[c++]=(l&16711680)>>16,c<d&&(e[c++]=(l&65280)>>8),c<d&&(e[c++]=l&255),j=18,l=0);return e},"~S");E(b,
"base64","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/","decode64",D(-1,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,62,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,63,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,0,0,0,0,0]))});t("JU");v(["javajs.api.JSONEncodable"],"JU.BS",["java.lang.IndexOutOfBoundsException","$.NegativeArraySizeException",
"JU.PT","$.SB"],function(){var b=q(function(){this.words=null;this.wordsInUse=0;this.sizeIsSticky=!1;s(this,arguments)},JU,"BS",null,[Cloneable,javajs.api.JSONEncodable]);b.wordIndex=c(b,"wordIndex",function(a){return a>>5},"~N");c(b,"recalculateWordsInUse",function(){var a;for(a=this.wordsInUse-1;0<=a&&0==this.words[a];a--);this.wordsInUse=a+1});p(b,function(){this.initWords(32);this.sizeIsSticky=!1});b.newN=c(b,"newN",function(a){var d=new JU.BS;d.init(a);return d},"~N");c(b,"init",function(a){if(0>
a)throw new NegativeArraySizeException("nbits < 0: "+a);this.initWords(a);this.sizeIsSticky=!0},"~N");c(b,"initWords",function(a){this.words=D(JU.BS.wordIndex(a-1)+1,0)},"~N");c(b,"ensureCapacity",function(a){this.words.length<a&&(a=Math.max(2*this.words.length,a),this.setLength(a),this.sizeIsSticky=!1)},"~N");c(b,"expandTo",function(a){a+=1;this.wordsInUse<a&&(this.ensureCapacity(a),this.wordsInUse=a)},"~N");c(b,"set",function(a){if(0>a)throw new IndexOutOfBoundsException("bitIndex < 0: "+a);var d=
JU.BS.wordIndex(a);this.expandTo(d);this.words[d]|=1<<a},"~N");c(b,"setBitTo",function(a,d){d?this.set(a):this.clear(a)},"~N,~B");c(b,"setBits",function(a,d){if(a!=d){var b=JU.BS.wordIndex(a),c=JU.BS.wordIndex(d-1);this.expandTo(c);var f=-1<<a,h=-1>>>-d;if(b==c)this.words[b]|=f&h;else{this.words[b]|=f;for(b+=1;b<c;b++)this.words[b]=-1;this.words[c]|=h}}},"~N,~N");c(b,"clear",function(a){if(0>a)throw new IndexOutOfBoundsException("bitIndex < 0: "+a);var d=JU.BS.wordIndex(a);d>=this.wordsInUse||(this.words[d]&=
~(1<<a),this.recalculateWordsInUse())},"~N");c(b,"clearBits",function(a,d){if(a!=d){var b=JU.BS.wordIndex(a);if(!(b>=this.wordsInUse)){var c=JU.BS.wordIndex(d-1);c>=this.wordsInUse&&(d=this.length(),c=this.wordsInUse-1);var f=-1<<a,h=-1>>>-d;if(b==c)this.words[b]&=~(f&h);else{this.words[b]&=~f;for(b+=1;b<c;b++)this.words[b]=0;this.words[c]&=~h}this.recalculateWordsInUse()}}},"~N,~N");c(b,"clearAll",function(){for(;0<this.wordsInUse;)this.words[--this.wordsInUse]=0});c(b,"get",function(a){if(0>a)throw new IndexOutOfBoundsException("bitIndex < 0: "+
a);var d=JU.BS.wordIndex(a);return d<this.wordsInUse&&0!=(this.words[d]&1<<a)},"~N");c(b,"nextSetBit",function(a){if(0>a)throw new IndexOutOfBoundsException("fromIndex < 0: "+a);var d=JU.BS.wordIndex(a);if(d>=this.wordsInUse)return-1;for(a=this.words[d]&-1<<a;;){if(0!=a)return 32*d+Integer.numberOfTrailingZeros(a);if(++d==this.wordsInUse)return-1;a=this.words[d]}},"~N");c(b,"nextClearBit",function(a){if(0>a)throw new IndexOutOfBoundsException("fromIndex < 0: "+a);var d=JU.BS.wordIndex(a);if(d>=this.wordsInUse)return a;
for(a=~this.words[d]&-1<<a;;){if(0!=a)return 32*d+Integer.numberOfTrailingZeros(a);if(++d==this.wordsInUse)return 32*this.wordsInUse;a=~this.words[d]}},"~N");c(b,"length",function(){return 0==this.wordsInUse?0:32*(this.wordsInUse-1)+(32-Integer.numberOfLeadingZeros(this.words[this.wordsInUse-1]))});c(b,"isEmpty",function(){return 0==this.wordsInUse});c(b,"intersects",function(a){for(var d=Math.min(this.wordsInUse,a.wordsInUse)-1;0<=d;d--)if(0!=(this.words[d]&a.words[d]))return!0;return!1},"JU.BS");
c(b,"cardinality",function(){for(var a=0,d=0;d<this.wordsInUse;d++)a+=Integer.bitCount(this.words[d]);return a});c(b,"and",function(a){if(this!==a){for(;this.wordsInUse>a.wordsInUse;)this.words[--this.wordsInUse]=0;for(var d=0;d<this.wordsInUse;d++)this.words[d]&=a.words[d];this.recalculateWordsInUse()}},"JU.BS");c(b,"or",function(a){if(this!==a){var d=Math.min(this.wordsInUse,a.wordsInUse);this.wordsInUse<a.wordsInUse&&(this.ensureCapacity(a.wordsInUse),this.wordsInUse=a.wordsInUse);for(var b=0;b<
d;b++)this.words[b]|=a.words[b];d<a.wordsInUse&&System.arraycopy(a.words,d,this.words,d,this.wordsInUse-d)}},"JU.BS");c(b,"xor",function(a){var d=Math.min(this.wordsInUse,a.wordsInUse);this.wordsInUse<a.wordsInUse&&(this.ensureCapacity(a.wordsInUse),this.wordsInUse=a.wordsInUse);for(var b=0;b<d;b++)this.words[b]^=a.words[b];d<a.wordsInUse&&System.arraycopy(a.words,d,this.words,d,a.wordsInUse-d);this.recalculateWordsInUse()},"JU.BS");c(b,"andNot",function(a){for(var d=Math.min(this.wordsInUse,a.wordsInUse)-
1;0<=d;d--)this.words[d]&=~a.words[d];this.recalculateWordsInUse()},"JU.BS");e(b,"hashCode",function(){for(var a=1234,d=this.wordsInUse;0<=--d;)a^=this.words[d]*(d+1);return a>>32^a});c(b,"size",function(){return 32*this.words.length});e(b,"equals",function(a){if(!x(a,"JU.BS"))return!1;if(this===a)return!0;if(this.wordsInUse!=a.wordsInUse)return!1;for(var d=0;d<this.wordsInUse;d++)if(this.words[d]!=a.words[d])return!1;return!0},"~O");e(b,"clone",function(){!this.sizeIsSticky&&this.wordsInUse!=this.words.length&&
this.setLength(this.wordsInUse);return JU.BS.copy(this)});c(b,"setLength",function(a){a!=this.words.length&&(a==this.wordsInUse?this.words=y(-1,this.words,0,a):(a=D(a,0),System.arraycopy(this.words,0,a,0,this.wordsInUse),this.words=a))},"~N");e(b,"toString",function(){return JU.BS.escape(this,"(",")")});b.copy=c(b,"copy",function(a){var d;d=ga(a);var b=a.wordsInUse;d.words=0==b?JU.BS.emptyBitmap:y(-1,a.words,0,d.wordsInUse=b);return d},"JU.BS");c(b,"cardinalityN",function(a){for(var d=this.cardinality(),
b=this.length();--b>=a;)this.get(b)&&d--;return d},"~N");e(b,"toJSON",function(){var a=128<this.wordsInUse?this.cardinality():32*this.wordsInUse,a=JU.SB.newN(6*a+2);a.appendC("[");var d=this.nextSetBit(0);if(-1!=d){a.appendI(d);for(d=this.nextSetBit(d+1);0<=d;d=this.nextSetBit(d+1)){var b=this.nextClearBit(d);do a.append(", ").appendI(d);while(++d<b)}}a.appendC("]");return a.toString()});b.escape=c(b,"escape",function(a,d,b){if(null==a)return d+"{}"+b;var c=new JU.SB;c.append(d+"{");d=a.length();
for(var f=-1,h=-2,e=-1;++e<=d;){var j=a.get(e);if(e==d||0<=f&&!j){0<=f&&h!=f&&c.append((h==f-1?" ":":")+f);if(e==d)break;f=-1}a.get(e)&&(0>f&&(c.append((-2==h?"":" ")+e),h=e),f=e)}c.append("}").appendC(b);return c.toString()},"JU.BS,~S,~S");b.unescape=c(b,"unescape",function(a){var d,b;if(null==a||4>(b=(a=a.trim()).length)||a.equalsIgnoreCase("({null})")||"("!=(d=a.charAt(0))&&"["!=d||a.charAt(b-1)!=("("==d?")":"]")||"{"!=a.charAt(1)||a.indexOf("}")!=b-2)return null;for(var c=b-=2;2<=--c;)if(!JU.PT.isDigit(d=
a.charAt(c))&&" "!=d&&"\t"!=d&&":"!=d)return null;for(var f=b;JU.PT.isDigit(a.charAt(--f)););if(++f==b)f=0;else try{f=Integer.parseInt(a.substring(f,b))}catch(h){if(z(h,"NumberFormatException"))return null;throw h;}for(var e=JU.BS.newN(f),j=f=-1,l=-2,c=2;c<=b;c++)switch((d=a.charAt(c)).charCodeAt(0)){case 9:case 32:case 125:if(0>l)break;if(l<f)return null;f=l;0>j&&(j=l);e.setBits(j,l+1);j=-1;l=-2;break;case 58:j=f=l;l=-2;break;default:JU.PT.isDigit(d)&&(0>l&&(l=0),l=10*l+(d.charCodeAt(0)-48))}return 0<=
j?null:e},"~S");E(b,"emptyBitmap",D(0,0))});t("JU");v(["java.util.Hashtable"],"JU.CU",["JU.P3","$.PT"],function(){var b=u(JU,"CU");b.toRGBHexString=c(b,"toRGBHexString",function(a){var d=a.getRGB();if(0==d)return"000000";a="00"+Integer.toHexString(d>>16&255);a=a.substring(a.length-2);var b="00"+Integer.toHexString(d>>8&255),b=b.substring(b.length-2),d="00"+Integer.toHexString(d&255),d=d.substring(d.length-2);return a+b+d},"javajs.api.GenericColor");b.toCSSString=c(b,"toCSSString",function(a){var d=
a.getOpacity255();if(255==d)return"#"+JU.CU.toRGBHexString(a);a=a.getRGB();return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+d/255+")"},"javajs.api.GenericColor");b.getArgbFromString=c(b,"getArgbFromString",function(a){var d=0;if(null==a||0==(d=a.length))return 0;a=a.toLowerCase();if("["==a.charAt(0)&&"]"==a.charAt(d-1)){var b;if(0<=a.indexOf(",")){b=JU.PT.split(a.substring(1,a.length-1),",");if(3!=b.length)return 0;a=JU.PT.parseFloat(b[0]);d=JU.PT.parseFloat(b[1]);b=JU.PT.parseFloat(b[2]);
return JU.CU.colorTriadToFFRGB(a,d,b)}switch(d){case 9:b="x";break;case 10:b="0x";break;default:return 0}if(1!=a.indexOf(b))return 0;a="#"+a.substring(d-7,d-1);d=7}if(7==d&&"#"==a.charAt(0))try{return JU.PT.parseIntRadix(a.substring(1,7),16)|4278190080}catch(c){if(z(c,Exception))return 0;throw c;}a=JU.CU.mapJavaScriptColors.get(a);return null==a?0:a.intValue()},"~S");b.colorTriadToFFRGB=c(b,"colorTriadToFFRGB",function(a,d,b){1>=a&&(1>=d&&1>=b)&&(0<a&&(a=256*a-1),0<d&&(d=256*d-1),0<b&&(b=256*b-1));
return JU.CU.rgb(I(a),I(d),I(b))},"~N,~N,~N");b.rgb=c(b,"rgb",function(a,d,b){return 4278190080|a<<16|d<<8|b},"~N,~N,~N");b.colorPtFromString=c(b,"colorPtFromString",function(a){return JU.CU.colorPtFromInt(JU.CU.getArgbFromString(a),null)},"~S");b.colorPtFromInt=c(b,"colorPtFromInt",function(a,d){null==d&&(d=new JU.P3);d.set(a>>16&255,a>>8&255,a&255);return d},"~N,JU.P3");b.colorPtToFFRGB=c(b,"colorPtToFFRGB",function(a){return JU.CU.colorTriadToFFRGB(a.x,a.y,a.z)},"JU.T3");b.toRGB3f=c(b,"toRGB3f",
function(a,d){d[0]=(a>>16&255)/255;d[1]=(a>>8&255)/255;d[2]=(a&255)/255},"~N,~A");b.toFFGGGfromRGB=c(b,"toFFGGGfromRGB",function(a){a=w((2989*(a>>16&255)+5870*(a>>8&255)+1140*(a&255)+5E3)/1E4)&16777215;return JU.CU.rgb(a,a,a)},"~N");b.rgbToHSL=c(b,"rgbToHSL",function(a,d){var b=a.x/255,c=a.y/255,f=a.z/255,h=Math.min(b,Math.min(c,f)),e=Math.max(b,Math.max(c,f)),j=e+h,h=e-h,b=60*(0==h?0:e==b?(c-f)/h+6:e==c?(f-b)/h+2:(b-c)/h+4)%360,c=h/(0==h?1:1>=j?j:2-j);return d?JU.P3.new3(Math.round(10*b)/10,Math.round(1E3*
c)/10,Math.round(500*j)/10):JU.P3.new3(b,100*c,50*j)},"JU.P3,~B");b.hslToRGB=c(b,"hslToRGB",function(a){var d=Math.max(0,Math.min(360,a.x))/60,b=Math.max(0,Math.min(100,a.y))/100;a=Math.max(0,Math.min(100,a.z))/100;var b=a-(0.5>a?a:1-a)*b,c=2*(a-b);a=JU.CU.toRGB(b,c,d+2);var f=JU.CU.toRGB(b,c,d),d=JU.CU.toRGB(b,c,d-2);return JU.P3.new3(Math.round(255*a),Math.round(255*f),Math.round(255*d))},"JU.P3");b.toRGB=c(b,"toRGB",function(a,d,b){return 1>(b+=0>b?6:6<b?-6:0)?a+d*b:3>b?a+d:4>b?a+d*(4-b):a},"~N,~N,~N");
E(b,"colorNames",y(-1,"black pewhite pecyan pepurple pegreen peblue peviolet pebrown pepink peyellow pedarkgreen peorange pelightblue pedarkcyan pedarkgray aliceblue antiquewhite aqua aquamarine azure beige bisque blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkturquoise darkviolet deeppink deepskyblue dimgray dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgreen lightgrey lightgray lightpink lightsalmon lightseagreen lightskyblue lightslategray lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen bluetint greenblue greentint grey gray pinktint redorange yellowtint".split(" ")),
"colorArgbs",D(-1,[4278190080,4294967295,4278255615,4291830015,4278255360,4284506367,4294934720,4288946216,4294957272,4294967040,4278239232,4294946816,4289769727,4278231200,4284506208,4293982463,4294634455,4278255615,4286578644,4293984255,4294309340,4294960324,4294962125,4278190335,4287245282,4289014314,4292786311,4284456608,4286578432,4291979550,4294934352,4284782061,4294965468,4292613180,4278255615,4278190219,4278225803,4290283019,4289309097,4278215680,4290623339,4287299723,4283788079,4294937600,
4288230092,4287299584,4293498490,4287609999,4282924427,4281290575,4278243025,4287889619,4294907027,4278239231,4285098345,4280193279,4289864226,4294966E3,4280453922,4294902015,4292664540,4294506751,4294956800,4292519200,4286611584,4278222848,4289593135,4293984240,4294928820,4291648604,4283105410,4294967280,4293977740,4293322490,4294963445,4286381056,4294965965,4289583334,4293951616,4292935679,4294638290,4287688336,4292072403,4292072403,4294948545,4294942842,4280332970,4287090426,4286023833,4289774814,
4294967264,4278255360,4281519410,4294635750,4294902015,4286578688,4284927402,4278190285,4290401747,4287852763,4282168177,4286277870,4278254234,4282962380,4291237253,4279834992,4294311930,4294960353,4294960309,4294958765,4278190208,4294833638,4286611456,4285238819,4294944E3,4294919424,4292505814,4293847210,4288215960,4289720046,4292571283,4294963157,4294957753,4291659071,4294951115,4292714717,4289781990,4286578816,4294901760,4290547599,4282477025,4287317267,4294606962,4294222944,4281240407,4294964718,
4288696877,4290822336,4287090411,4285160141,4285563024,4294966010,4278255487,4282811060,4291998860,4278222976,4292394968,4294927175,4282441936,4293821166,4294303411,4294967295,4294309365,4294967040,4288335154,4289714175,4281240407,4288217011,4286611584,4286611584,4294945723,4294919424,4294375029]));b.mapJavaScriptColors=b.prototype.mapJavaScriptColors=new java.util.Hashtable;for(b=JU.CU.colorNames.length;0<=--b;)JU.CU.mapJavaScriptColors.put(JU.CU.colorNames[b],Integer.$valueOf(JU.CU.colorArgbs[b]))});
t("JU");v(["java.lang.Boolean"],"JU.DF",["java.lang.Double","JU.PT","$.SB"],function(){var b=u(JU,"DF");b.setUseNumberLocalization=c(b,"setUseNumberLocalization",function(a){JU.DF.useNumberLocalization[0]=a?Boolean.TRUE:Boolean.FALSE},"~B");b.formatDecimalDbl=c(b,"formatDecimalDbl",function(a,d){return 2147483647==d||-Infinity==a||Infinity==a||Double.isNaN(a)?""+a:JU.DF.formatDecimal(a,d)},"~N,~N");b.formatDecimal=c(b,"formatDecimal",function(a,d){if(-Infinity==a||(Infinity==a||Double.isNaN(a))||
2147483647==d)return""+a;var b=0>a;b&&(a=-a);var c;if(0>d){d=-d;d>JU.DF.formattingStrings.length&&(d=JU.DF.formattingStrings.length);if(0==a)return JU.DF.formattingStrings[d-1]+"E+0";var f;1>Math.abs(a)?(c=100,f=1E-100*a):(c=-100,f=1E100*a);f=(""+f).toUpperCase();var h=f.indexOf("E");0>h?f=""+a:(c=JU.PT.parseInt(f.substring(h+(f.indexOf("E+")==h?2:1)))+c,f=JU.PT.parseFloat(f.substring(0,h)),f=JU.DF.formatDecimal(f,d-1),f.startsWith("10.")&&(f=JU.DF.formatDecimal(1,d-1),c++));return(b?"-":"")+f+"E"+
(0<=c?"+":"")+c}d>=JU.DF.formattingStrings.length&&(d=JU.DF.formattingStrings.length-1);f=(""+a).toUpperCase();c=f.indexOf(".");if(0>c)return(b?"-":"")+f+JU.DF.formattingStrings[d].substring(1);h=f.indexOf("E-");0<h&&(c=JU.PT.parseInt(f.substring(h+1)),f="0."+"0000000000000000000000000000000000000000".substring(0,-c-1)+f.substring(0,1)+f.substring(2,h),c=1);h=f.indexOf("E");0<h&&(c=JU.PT.parseInt(f.substring(h+1)),f=f.substring(0,1)+f.substring(2,h)+"0000000000000000000000000000000000000000",f=f.substring(0,
c+1)+"."+f.substring(c+1),c=f.indexOf("."));var h=f.length,e=d+c+1;if(e<h&&"5"<=f.charAt(e))return JU.DF.formatDecimal((b?-1:1)*(a+JU.DF.formatAdds[d]),d);var j=f.substring(0,0==d?c:++c),e=JU.SB.newS(j);b&&(j.equals("0.")&&d+2<=h&&f.substring(2,2+d).equals("0000000000000000000000000000000000000000".substring(0,d)))&&(b=!1);for(j=0;j<d;j++,c++)c<h?e.appendC(f.charAt(c)):e.appendC("0");f=(b?"-":"")+e;return Boolean.TRUE.equals(JU.DF.useNumberLocalization[0])?f:f.$replace(",",".")},"~N,~N");b.formatDecimalTrimmed=
c(b,"formatDecimalTrimmed",function(a,d){for(var b=JU.DF.formatDecimalDbl(a,d),c=b.length-1;0<=c&&"0"==b.charAt(c);)c--;return b.substring(0,c+1)},"~N,~N");b.formatDecimalTrimmed0=c(b,"formatDecimalTrimmed0",function(a,d){for(var b=JU.DF.formatDecimalDbl(a,d),c=b.length-1,f=b.indexOf(".")+1;c>f&&"0"==b.charAt(c);)c--;return b.substring(0,c+1)},"~N,~N");E(b,"formattingStrings",y(-1,"0 0.0 0.00 0.000 0.0000 0.00000 0.000000 0.0000000 0.00000000 0.000000000 0.0000000000 0.00000000000 0.000000000000".split(" ")),
"formatAdds",N(-1,[0.5,0.05,0.005,5E-4,5E-5,5E-6,5E-7,5E-8,5E-9,5E-10,5E-11,5E-12,5E-13]));b.useNumberLocalization=b.prototype.useNumberLocalization=y(-1,[Boolean.TRUE])});t("JU");v(["java.lang.Enum"],"JU.Encoding",null,function(){var b=u(JU,"Encoding",Enum);m(b,"NONE",0,[]);m(b,"UTF8",1,[]);m(b,"UTF_16BE",2,[]);m(b,"UTF_16LE",3,[]);m(b,"UTF_32BE",4,[]);m(b,"UTF_32LE",5,[])});t("JU");v(["java.util.ArrayList"],"JU.Lst",null,function(){var b=u(JU,"Lst",java.util.ArrayList);c(b,"addLast",function(a){return this.add1(a)},
"~O");c(b,"removeItemAt",function(a){return this._removeItemAt(a)},"~N");c(b,"removeObj",function(a){return this._removeObject(a)},"~O")});t("JU");v(null,"JU.M34",["java.lang.ArrayIndexOutOfBoundsException"],function(){var b=q(function(){this.m22=this.m21=this.m20=this.m12=this.m11=this.m10=this.m02=this.m01=this.m00=0;s(this,arguments)},JU,"M34");c(b,"setAA33",function(a){var d=a.x,b=a.y,c=a.z;a=a.angle;var f=Math.sqrt(d*d+b*b+c*c),f=1/f,d=d*f,b=b*f,c=c*f,h=Math.cos(a);a=Math.sin(a);f=1-h;this.m00=
h+d*d*f;this.m11=h+b*b*f;this.m22=h+c*c*f;var h=d*b*f,e=c*a;this.m01=h-e;this.m10=h+e;h=d*c*f;e=b*a;this.m02=h+e;this.m20=h-e;h=b*c*f;e=d*a;this.m12=h-e;this.m21=h+e},"JU.A4");c(b,"rotate",function(a){this.rotate2(a,a)},"JU.T3");c(b,"rotate2",function(a,d){d.set(this.m00*a.x+this.m01*a.y+this.m02*a.z,this.m10*a.x+this.m11*a.y+this.m12*a.z,this.m20*a.x+this.m21*a.y+this.m22*a.z)},"JU.T3,JU.T3");c(b,"setM33",function(a){this.m00=a.m00;this.m01=a.m01;this.m02=a.m02;this.m10=a.m10;this.m11=a.m11;this.m12=
a.m12;this.m20=a.m20;this.m21=a.m21;this.m22=a.m22},"JU.M34");c(b,"clear33",function(){this.m00=this.m01=this.m02=this.m10=this.m11=this.m12=this.m20=this.m21=this.m22=0});c(b,"set33",function(a,d,b){switch(a){case 0:switch(d){case 0:this.m00=b;return;case 1:this.m01=b;return;case 2:this.m02=b;return}break;case 1:switch(d){case 0:this.m10=b;return;case 1:this.m11=b;return;case 2:this.m12=b;return}break;case 2:switch(d){case 0:this.m20=b;return;case 1:this.m21=b;return;case 2:this.m22=b;return}}this.err()},
"~N,~N,~N");c(b,"get33",function(a,d){switch(a){case 0:switch(d){case 0:return this.m00;case 1:return this.m01;case 2:return this.m02}break;case 1:switch(d){case 0:return this.m10;case 1:return this.m11;case 2:return this.m12}break;case 2:switch(d){case 0:return this.m20;case 1:return this.m21;case 2:return this.m22}}this.err();return 0},"~N,~N");c(b,"setRow33",function(a,d){switch(a){case 0:this.m00=d[0];this.m01=d[1];this.m02=d[2];break;case 1:this.m10=d[0];this.m11=d[1];this.m12=d[2];break;case 2:this.m20=
d[0];this.m21=d[1];this.m22=d[2];break;default:this.err()}},"~N,~A");c(b,"getRow33",function(a,d){switch(a){case 0:d[0]=this.m00;d[1]=this.m01;d[2]=this.m02;return;case 1:d[0]=this.m10;d[1]=this.m11;d[2]=this.m12;return;case 2:d[0]=this.m20;d[1]=this.m21;d[2]=this.m22;return}this.err()},"~N,~A");c(b,"setColumn33",function(a,d){switch(a){case 0:this.m00=d[0];this.m10=d[1];this.m20=d[2];break;case 1:this.m01=d[0];this.m11=d[1];this.m21=d[2];break;case 2:this.m02=d[0];this.m12=d[1];this.m22=d[2];break;
default:this.err()}},"~N,~A");c(b,"getColumn33",function(a,d){switch(a){case 0:d[0]=this.m00;d[1]=this.m10;d[2]=this.m20;break;case 1:d[0]=this.m01;d[1]=this.m11;d[2]=this.m21;break;case 2:d[0]=this.m02;d[1]=this.m12;d[2]=this.m22;break;default:this.err()}},"~N,~A");c(b,"add33",function(a){this.m00+=a.m00;this.m01+=a.m01;this.m02+=a.m02;this.m10+=a.m10;this.m11+=a.m11;this.m12+=a.m12;this.m20+=a.m20;this.m21+=a.m21;this.m22+=a.m22},"JU.M34");c(b,"sub33",function(a){this.m00-=a.m00;this.m01-=a.m01;
this.m02-=a.m02;this.m10-=a.m10;this.m11-=a.m11;this.m12-=a.m12;this.m20-=a.m20;this.m21-=a.m21;this.m22-=a.m22},"JU.M34");c(b,"mul33",function(a){this.m00*=a;this.m01*=a;this.m02*=a;this.m10*=a;this.m11*=a;this.m12*=a;this.m20*=a;this.m21*=a;this.m22*=a},"~N");c(b,"transpose33",function(){var a=this.m01;this.m01=this.m10;this.m10=a;a=this.m02;this.m02=this.m20;this.m20=a;a=this.m12;this.m12=this.m21;this.m21=a});c(b,"setXRot",function(a){var d=Math.cos(a);a=Math.sin(a);this.m00=1;this.m10=this.m02=
this.m01=0;this.m11=d;this.m12=-a;this.m20=0;this.m21=a;this.m22=d},"~N");c(b,"setYRot",function(a){var d=Math.cos(a);a=Math.sin(a);this.m00=d;this.m01=0;this.m02=a;this.m10=0;this.m11=1;this.m12=0;this.m20=-a;this.m21=0;this.m22=d},"~N");c(b,"setZRot",function(a){var d=Math.cos(a);a=Math.sin(a);this.m00=d;this.m01=-a;this.m02=0;this.m10=a;this.m11=d;this.m21=this.m20=this.m12=0;this.m22=1},"~N");c(b,"determinant3",function(){return this.m00*(this.m11*this.m22-this.m21*this.m12)-this.m01*(this.m10*
this.m22-this.m20*this.m12)+this.m02*(this.m10*this.m21-this.m20*this.m11)});c(b,"err",function(){throw new ArrayIndexOutOfBoundsException("matrix column/row out of bounds");})});t("JU");v(["JU.M34"],"JU.M3",["JU.T3"],function(){var b=u(JU,"M3",JU.M34,java.io.Serializable);b.newA9=c(b,"newA9",function(a){var d=new JU.M3;d.setA(a);return d},"~A");b.newM3=c(b,"newM3",function(a){var d=new JU.M3;if(null==a)return d.setScale(1),d;d.m00=a.m00;d.m01=a.m01;d.m02=a.m02;d.m10=a.m10;d.m11=a.m11;d.m12=a.m12;
d.m20=a.m20;d.m21=a.m21;d.m22=a.m22;return d},"JU.M3");c(b,"setScale",function(a){this.clear33();this.m00=this.m11=this.m22=a},"~N");c(b,"setM3",function(a){this.setM33(a)},"JU.M34");c(b,"setA",function(a){this.m00=a[0];this.m01=a[1];this.m02=a[2];this.m10=a[3];this.m11=a[4];this.m12=a[5];this.m20=a[6];this.m21=a[7];this.m22=a[8]},"~A");c(b,"setElement",function(a,d,b){this.set33(a,d,b)},"~N,~N,~N");c(b,"getElement",function(a,d){return this.get33(a,d)},"~N,~N");c(b,"setRow",function(a,d,b,c){switch(a){case 0:this.m00=
d;this.m01=b;this.m02=c;break;case 1:this.m10=d;this.m11=b;this.m12=c;break;case 2:this.m20=d;this.m21=b;this.m22=c;break;default:this.err()}},"~N,~N,~N,~N");c(b,"setRowV",function(a,d){switch(a){case 0:this.m00=d.x;this.m01=d.y;this.m02=d.z;break;case 1:this.m10=d.x;this.m11=d.y;this.m12=d.z;break;case 2:this.m20=d.x;this.m21=d.y;this.m22=d.z;break;default:this.err()}},"~N,JU.T3");c(b,"setRowA",function(a,d){this.setRow33(a,d)},"~N,~A");e(b,"getRow",function(a,d){this.getRow33(a,d)},"~N,~A");c(b,
"setColumn3",function(a,d,b,c){switch(a){case 0:this.m00=d;this.m10=b;this.m20=c;break;case 1:this.m01=d;this.m11=b;this.m21=c;break;case 2:this.m02=d;this.m12=b;this.m22=c;break;default:this.err()}},"~N,~N,~N,~N");c(b,"setColumnV",function(a,d){switch(a){case 0:this.m00=d.x;this.m10=d.y;this.m20=d.z;break;case 1:this.m01=d.x;this.m11=d.y;this.m21=d.z;break;case 2:this.m02=d.x;this.m12=d.y;this.m22=d.z;break;default:this.err()}},"~N,JU.T3");c(b,"getColumnV",function(a,d){switch(a){case 0:d.x=this.m00;
d.y=this.m10;d.z=this.m20;break;case 1:d.x=this.m01;d.y=this.m11;d.z=this.m21;break;case 2:d.x=this.m02;d.y=this.m12;d.z=this.m22;break;default:this.err()}},"~N,JU.T3");c(b,"setColumnA",function(a,d){this.setColumn33(a,d)},"~N,~A");c(b,"getColumn",function(a,d){this.getColumn33(a,d)},"~N,~A");c(b,"add",function(a){this.add33(a)},"JU.M3");c(b,"sub",function(a){this.sub33(a)},"JU.M3");c(b,"transpose",function(){this.transpose33()});c(b,"transposeM",function(a){this.setM33(a);this.transpose33()},"JU.M3");
c(b,"invertM",function(a){this.setM33(a);this.invert()},"JU.M3");c(b,"invert",function(){var a=this.determinant3();0!=a&&(a=1/a,this.set9(this.m11*this.m22-this.m12*this.m21,this.m02*this.m21-this.m01*this.m22,this.m01*this.m12-this.m02*this.m11,this.m12*this.m20-this.m10*this.m22,this.m00*this.m22-this.m02*this.m20,this.m02*this.m10-this.m00*this.m12,this.m10*this.m21-this.m11*this.m20,this.m01*this.m20-this.m00*this.m21,this.m00*this.m11-this.m01*this.m10),this.scale(a))});c(b,"setAsXRotation",
function(a){this.setXRot(a);return this},"~N");c(b,"setAsYRotation",function(a){this.setYRot(a);return this},"~N");c(b,"setAsZRotation",function(a){this.setZRot(a);return this},"~N");c(b,"scale",function(a){this.mul33(a)},"~N");c(b,"mul",function(a){this.mul2(this,a)},"JU.M3");c(b,"mul2",function(a,d){this.set9(a.m00*d.m00+a.m01*d.m10+a.m02*d.m20,a.m00*d.m01+a.m01*d.m11+a.m02*d.m21,a.m00*d.m02+a.m01*d.m12+a.m02*d.m22,a.m10*d.m00+a.m11*d.m10+a.m12*d.m20,a.m10*d.m01+a.m11*d.m11+a.m12*d.m21,a.m10*d.m02+
a.m11*d.m12+a.m12*d.m22,a.m20*d.m00+a.m21*d.m10+a.m22*d.m20,a.m20*d.m01+a.m21*d.m11+a.m22*d.m21,a.m20*d.m02+a.m21*d.m12+a.m22*d.m22)},"JU.M3,JU.M3");e(b,"equals",function(a){return!x(a,"JU.M3")?!1:this.m00==a.m00&&this.m01==a.m01&&this.m02==a.m02&&this.m10==a.m10&&this.m11==a.m11&&this.m12==a.m12&&this.m20==a.m20&&this.m21==a.m21&&this.m22==a.m22},"~O");e(b,"hashCode",function(){return JU.T3.floatToIntBits(this.m00)^JU.T3.floatToIntBits(this.m01)^JU.T3.floatToIntBits(this.m02)^JU.T3.floatToIntBits(this.m10)^
JU.T3.floatToIntBits(this.m11)^JU.T3.floatToIntBits(this.m12)^JU.T3.floatToIntBits(this.m20)^JU.T3.floatToIntBits(this.m21)^JU.T3.floatToIntBits(this.m22)});c(b,"setZero",function(){this.clear33()});c(b,"set9",function(a,d,b,c,f,h,e,j,l){this.m00=a;this.m01=d;this.m02=b;this.m10=c;this.m11=f;this.m12=h;this.m20=e;this.m21=j;this.m22=l},"~N,~N,~N,~N,~N,~N,~N,~N,~N");e(b,"toString",function(){return"[\n  ["+this.m00+"\t"+this.m01+"\t"+this.m02+"]\n  ["+this.m10+"\t"+this.m11+"\t"+this.m12+"]\n  ["+
this.m20+"\t"+this.m21+"\t"+this.m22+"] ]"});c(b,"setAA",function(a){this.setAA33(a);return this},"JU.A4");c(b,"setAsBallRotation",function(a,d,b){var c=Math.sqrt(d*d+b*b),f=c*a;if(0==f)return this.setScale(1),!1;a=Math.cos(f);f=Math.sin(f);b=-b/c;d/=c;c=a-1;this.m00=1+c*b*b;this.m01=this.m10=c*b*d;this.m20=-(this.m02=f*b);this.m11=1+c*d*d;this.m21=-(this.m12=f*d);this.m22=a;return!0},"~N,~N,~N");c(b,"isRotation",function(){return 0.001>Math.abs(this.determinant3()-1)})});t("JU");v(["JU.M34"],"JU.M4",
["JU.T3"],function(){var b=q(function(){this.m33=this.m32=this.m31=this.m30=this.m23=this.m13=this.m03=0;s(this,arguments)},JU,"M4",JU.M34);b.newA16=c(b,"newA16",function(a){var d=new JU.M4;d.m00=a[0];d.m01=a[1];d.m02=a[2];d.m03=a[3];d.m10=a[4];d.m11=a[5];d.m12=a[6];d.m13=a[7];d.m20=a[8];d.m21=a[9];d.m22=a[10];d.m23=a[11];d.m30=a[12];d.m31=a[13];d.m32=a[14];d.m33=a[15];return d},"~A");b.newM4=c(b,"newM4",function(a){var d=new JU.M4;if(null==a)return d.setIdentity(),d;d.setToM3(a);d.m03=a.m03;d.m13=
a.m13;d.m23=a.m23;d.m30=a.m30;d.m31=a.m31;d.m32=a.m32;d.m33=a.m33;return d},"JU.M4");b.newMV=c(b,"newMV",function(a,d){var b=new JU.M4;b.setMV(a,d);return b},"JU.M3,JU.T3");c(b,"setZero",function(){this.clear33();this.m03=this.m13=this.m23=this.m30=this.m31=this.m32=this.m33=0});c(b,"setIdentity",function(){this.setZero();this.m00=this.m11=this.m22=this.m33=1});c(b,"setM4",function(a){this.setM33(a);this.m03=a.m03;this.m13=a.m13;this.m23=a.m23;this.m30=a.m30;this.m31=a.m31;this.m32=a.m32;this.m33=
a.m33;return this},"JU.M4");c(b,"setMV",function(a,d){this.setM33(a);this.setTranslation(d);this.m33=1},"JU.M3,JU.T3");c(b,"setToM3",function(a){this.setM33(a);this.m03=this.m13=this.m23=this.m30=this.m31=this.m32=0;this.m33=1},"JU.M34");c(b,"setToAA",function(a){this.setIdentity();this.setAA33(a)},"JU.A4");c(b,"setA",function(a){this.m00=a[0];this.m01=a[1];this.m02=a[2];this.m03=a[3];this.m10=a[4];this.m11=a[5];this.m12=a[6];this.m13=a[7];this.m20=a[8];this.m21=a[9];this.m22=a[10];this.m23=a[11];
this.m30=a[12];this.m31=a[13];this.m32=a[14];this.m33=a[15]},"~A");c(b,"setTranslation",function(a){this.m03=a.x;this.m13=a.y;this.m23=a.z},"JU.T3");c(b,"setElement",function(a,d,b){if(3>a&&3>d)this.set33(a,d,b);else{(3<a||3<d)&&this.err();switch(a){case 0:this.m03=b;return;case 1:this.m13=b;return;case 2:this.m23=b;return}switch(d){case 0:this.m30=b;break;case 1:this.m31=b;break;case 2:this.m32=b;break;case 3:this.m33=b}}},"~N,~N,~N");c(b,"getElement",function(a,d){if(3>a&&3>d)return this.get33(a,
d);if(3<a||3<d)return this.err(),0;switch(a){case 0:return this.m03;case 1:return this.m13;case 2:return this.m23;default:switch(d){case 0:return this.m30;case 1:return this.m31;case 2:return this.m32;default:return this.m33}}},"~N,~N");c(b,"getTranslation",function(a){a.x=this.m03;a.y=this.m13;a.z=this.m23},"JU.T3");c(b,"getRotationScale",function(a){a.m00=this.m00;a.m01=this.m01;a.m02=this.m02;a.m10=this.m10;a.m11=this.m11;a.m12=this.m12;a.m20=this.m20;a.m21=this.m21;a.m22=this.m22},"JU.M3");c(b,
"setRotationScale",function(a){this.m00=a.m00;this.m01=a.m01;this.m02=a.m02;this.m10=a.m10;this.m11=a.m11;this.m12=a.m12;this.m20=a.m20;this.m21=a.m21;this.m22=a.m22},"JU.M3");c(b,"setRowA",function(a,d){3>a&&this.setRow33(a,d);switch(a){case 0:this.m03=d[3];return;case 1:this.m13=d[3];return;case 2:this.m23=d[3];return;case 3:this.m30=d[0];this.m31=d[1];this.m32=d[2];this.m33=d[3];return}this.err()},"~N,~A");e(b,"getRow",function(a,d){3>a&&this.getRow33(a,d);switch(a){case 0:d[3]=this.m03;return;
case 1:d[3]=this.m13;return;case 2:d[3]=this.m23;return;case 3:d[0]=this.m30;d[1]=this.m31;d[2]=this.m32;d[3]=this.m33;return}this.err()},"~N,~A");c(b,"setColumn4",function(a,d,b,c,f){0==a?(this.m00=d,this.m10=b,this.m20=c,this.m30=f):1==a?(this.m01=d,this.m11=b,this.m21=c,this.m31=f):2==a?(this.m02=d,this.m12=b,this.m22=c,this.m32=f):3==a?(this.m03=d,this.m13=b,this.m23=c,this.m33=f):this.err()},"~N,~N,~N,~N,~N");c(b,"setColumnA",function(a,d){3>a&&this.setColumn33(a,d);switch(a){case 0:this.m30=
d[3];break;case 1:this.m31=d[3];break;case 2:this.m32=d[3];break;case 3:this.m03=d[0];this.m13=d[1];this.m23=d[2];this.m33=d[3];break;default:this.err()}},"~N,~A");c(b,"getColumn",function(a,d){3>a&&this.getColumn33(a,d);switch(a){case 0:d[3]=this.m30;break;case 1:d[3]=this.m31;break;case 2:d[3]=this.m32;break;case 3:d[0]=this.m03;d[1]=this.m13;d[2]=this.m23;d[3]=this.m33;break;default:this.err()}},"~N,~A");c(b,"sub",function(a){this.sub33(a);this.m03-=a.m03;this.m13-=a.m13;this.m23-=a.m23;this.m30-=
a.m30;this.m31-=a.m31;this.m32-=a.m32;this.m33-=a.m33},"JU.M4");c(b,"add",function(a){this.m03+=a.x;this.m13+=a.y;this.m23+=a.z},"JU.T3");c(b,"transpose",function(){this.transpose33();var a=this.m03;this.m03=this.m30;this.m30=a;a=this.m13;this.m13=this.m31;this.m31=a;a=this.m23;this.m23=this.m32;this.m32=a});c(b,"invert",function(){var a=this.determinant4();if(0==a)return this;a=1/a;this.set(this.m11*(this.m22*this.m33-this.m23*this.m32)+this.m12*(this.m23*this.m31-this.m21*this.m33)+this.m13*(this.m21*
this.m32-this.m22*this.m31),this.m21*(this.m02*this.m33-this.m03*this.m32)+this.m22*(this.m03*this.m31-this.m01*this.m33)+this.m23*(this.m01*this.m32-this.m02*this.m31),this.m31*(this.m02*this.m13-this.m03*this.m12)+this.m32*(this.m03*this.m11-this.m01*this.m13)+this.m33*(this.m01*this.m12-this.m02*this.m11),this.m01*(this.m13*this.m22-this.m12*this.m23)+this.m02*(this.m11*this.m23-this.m13*this.m21)+this.m03*(this.m12*this.m21-this.m11*this.m22),this.m12*(this.m20*this.m33-this.m23*this.m30)+this.m13*
(this.m22*this.m30-this.m20*this.m32)+this.m10*(this.m23*this.m32-this.m22*this.m33),this.m22*(this.m00*this.m33-this.m03*this.m30)+this.m23*(this.m02*this.m30-this.m00*this.m32)+this.m20*(this.m03*this.m32-this.m02*this.m33),this.m32*(this.m00*this.m13-this.m03*this.m10)+this.m33*(this.m02*this.m10-this.m00*this.m12)+this.m30*(this.m03*this.m12-this.m02*this.m13),this.m02*(this.m13*this.m20-this.m10*this.m23)+this.m03*(this.m10*this.m22-this.m12*this.m20)+this.m00*(this.m12*this.m23-this.m13*this.m22),
this.m13*(this.m20*this.m31-this.m21*this.m30)+this.m10*(this.m21*this.m33-this.m23*this.m31)+this.m11*(this.m23*this.m30-this.m20*this.m33),this.m23*(this.m00*this.m31-this.m01*this.m30)+this.m20*(this.m01*this.m33-this.m03*this.m31)+this.m21*(this.m03*this.m30-this.m00*this.m33),this.m33*(this.m00*this.m11-this.m01*this.m10)+this.m30*(this.m01*this.m13-this.m03*this.m11)+this.m31*(this.m03*this.m10-this.m00*this.m13),this.m03*(this.m11*this.m20-this.m10*this.m21)+this.m00*(this.m13*this.m21-this.m11*
this.m23)+this.m01*(this.m10*this.m23-this.m13*this.m20),this.m10*(this.m22*this.m31-this.m21*this.m32)+this.m11*(this.m20*this.m32-this.m22*this.m30)+this.m12*(this.m21*this.m30-this.m20*this.m31),this.m20*(this.m02*this.m31-this.m01*this.m32)+this.m21*(this.m00*this.m32-this.m02*this.m30)+this.m22*(this.m01*this.m30-this.m00*this.m31),this.m30*(this.m02*this.m11-this.m01*this.m12)+this.m31*(this.m00*this.m12-this.m02*this.m10)+this.m32*(this.m01*this.m10-this.m00*this.m11),this.m00*(this.m11*this.m22-
this.m12*this.m21)+this.m01*(this.m12*this.m20-this.m10*this.m22)+this.m02*(this.m10*this.m21-this.m11*this.m20));this.scale(a);return this});c(b,"set",function(a,d,b,c,f,h,e,j,l,r,n,p,q,m,s,t){this.m00=a;this.m01=d;this.m02=b;this.m03=c;this.m10=f;this.m11=h;this.m12=e;this.m13=j;this.m20=l;this.m21=r;this.m22=n;this.m23=p;this.m30=q;this.m31=m;this.m32=s;this.m33=t},"~N,~N,~N,~N,~N,~N,~N,~N,~N,~N,~N,~N,~N,~N,~N,~N");c(b,"determinant4",function(){return(this.m00*this.m11-this.m01*this.m10)*(this.m22*
this.m33-this.m23*this.m32)-(this.m00*this.m12-this.m02*this.m10)*(this.m21*this.m33-this.m23*this.m31)+(this.m00*this.m13-this.m03*this.m10)*(this.m21*this.m32-this.m22*this.m31)+(this.m01*this.m12-this.m02*this.m11)*(this.m20*this.m33-this.m23*this.m30)-(this.m01*this.m13-this.m03*this.m11)*(this.m20*this.m32-this.m22*this.m30)+(this.m02*this.m13-this.m03*this.m12)*(this.m20*this.m31-this.m21*this.m30)});c(b,"scale",function(a){this.mul33(a);this.m03*=a;this.m13*=a;this.m23*=a;this.m30*=a;this.m31*=
a;this.m32*=a;this.m33*=a},"~N");c(b,"mul",function(a){this.mul2(this,a)},"JU.M4");c(b,"mul2",function(a,d){this.set(a.m00*d.m00+a.m01*d.m10+a.m02*d.m20+a.m03*d.m30,a.m00*d.m01+a.m01*d.m11+a.m02*d.m21+a.m03*d.m31,a.m00*d.m02+a.m01*d.m12+a.m02*d.m22+a.m03*d.m32,a.m00*d.m03+a.m01*d.m13+a.m02*d.m23+a.m03*d.m33,a.m10*d.m00+a.m11*d.m10+a.m12*d.m20+a.m13*d.m30,a.m10*d.m01+a.m11*d.m11+a.m12*d.m21+a.m13*d.m31,a.m10*d.m02+a.m11*d.m12+a.m12*d.m22+a.m13*d.m32,a.m10*d.m03+a.m11*d.m13+a.m12*d.m23+a.m13*d.m33,
a.m20*d.m00+a.m21*d.m10+a.m22*d.m20+a.m23*d.m30,a.m20*d.m01+a.m21*d.m11+a.m22*d.m21+a.m23*d.m31,a.m20*d.m02+a.m21*d.m12+a.m22*d.m22+a.m23*d.m32,a.m20*d.m03+a.m21*d.m13+a.m22*d.m23+a.m23*d.m33,a.m30*d.m00+a.m31*d.m10+a.m32*d.m20+a.m33*d.m30,a.m30*d.m01+a.m31*d.m11+a.m32*d.m21+a.m33*d.m31,a.m30*d.m02+a.m31*d.m12+a.m32*d.m22+a.m33*d.m32,a.m30*d.m03+a.m31*d.m13+a.m32*d.m23+a.m33*d.m33)},"JU.M4,JU.M4");c(b,"transform",function(a){this.transform2(a,a)},"JU.T4");c(b,"transform2",function(a,d){d.set4(this.m00*
a.x+this.m01*a.y+this.m02*a.z+this.m03*a.w,this.m10*a.x+this.m11*a.y+this.m12*a.z+this.m13*a.w,this.m20*a.x+this.m21*a.y+this.m22*a.z+this.m23*a.w,this.m30*a.x+this.m31*a.y+this.m32*a.z+this.m33*a.w)},"JU.T4,JU.T4");c(b,"rotTrans",function(a){this.rotTrans2(a,a)},"JU.T3");c(b,"rotTrans2",function(a,d){d.set(this.m00*a.x+this.m01*a.y+this.m02*a.z+this.m03,this.m10*a.x+this.m11*a.y+this.m12*a.z+this.m13,this.m20*a.x+this.m21*a.y+this.m22*a.z+this.m23);return d},"JU.T3,JU.T3");c(b,"setAsXYRotation",
function(a){this.setIdentity();var d=Math.cos(a);a=Math.sin(a);this.m22=d;this.m23=-a;this.m32=a;this.m33=d;return this},"~N");c(b,"setAsYZRotation",function(a){this.setIdentity();var d=Math.cos(a);a=Math.sin(a);this.m00=d;this.m03=-a;this.m30=a;this.m33=d;return this},"~N");c(b,"setAsXZRotation",function(a){this.setIdentity();var d=Math.cos(a);a=Math.sin(a);this.m11=d;this.m13=-a;this.m31=a;this.m33=d;return this},"~N");e(b,"equals",function(a){return!x(a,"JU.M4")?!1:this.m00==a.m00&&this.m01==a.m01&&
this.m02==a.m02&&this.m03==a.m03&&this.m10==a.m10&&this.m11==a.m11&&this.m12==a.m12&&this.m13==a.m13&&this.m20==a.m20&&this.m21==a.m21&&this.m22==a.m22&&this.m23==a.m23&&this.m30==a.m30&&this.m31==a.m31&&this.m32==a.m32&&this.m33==a.m33},"~O");e(b,"hashCode",function(){return JU.T3.floatToIntBits(this.m00)^JU.T3.floatToIntBits(this.m01)^JU.T3.floatToIntBits(this.m02)^JU.T3.floatToIntBits(this.m03)^JU.T3.floatToIntBits(this.m10)^JU.T3.floatToIntBits(this.m11)^JU.T3.floatToIntBits(this.m12)^JU.T3.floatToIntBits(this.m13)^
JU.T3.floatToIntBits(this.m20)^JU.T3.floatToIntBits(this.m21)^JU.T3.floatToIntBits(this.m22)^JU.T3.floatToIntBits(this.m23)^JU.T3.floatToIntBits(this.m30)^JU.T3.floatToIntBits(this.m31)^JU.T3.floatToIntBits(this.m32)^JU.T3.floatToIntBits(this.m33)});e(b,"toString",function(){return"[\n  ["+this.m00+"\t"+this.m01+"\t"+this.m02+"\t"+this.m03+"]\n  ["+this.m10+"\t"+this.m11+"\t"+this.m12+"\t"+this.m13+"]\n  ["+this.m20+"\t"+this.m21+"\t"+this.m22+"\t"+this.m23+"]\n  ["+this.m30+"\t"+this.m31+"\t"+this.m32+
"\t"+this.m33+"] ]"});c(b,"round",function(a){this.m00=this.rnd(this.m00,a);this.m01=this.rnd(this.m01,a);this.m02=this.rnd(this.m02,a);this.m03=this.rnd(this.m03,a);this.m10=this.rnd(this.m10,a);this.m11=this.rnd(this.m11,a);this.m12=this.rnd(this.m12,a);this.m13=this.rnd(this.m13,a);this.m20=this.rnd(this.m20,a);this.m21=this.rnd(this.m21,a);this.m22=this.rnd(this.m22,a);this.m23=this.rnd(this.m23,a);this.m30=this.rnd(this.m30,a);this.m31=this.rnd(this.m31,a);this.m32=this.rnd(this.m32,a);this.m33=
this.rnd(this.m33,a);return this},"~N");c(b,"rnd",function(a,d){return Math.abs(a)<d?0:a},"~N,~N")});t("JU");v(["java.io.OutputStream","javajs.api.GenericOutputChannel"],"JU.OC","java.io.BufferedWriter $.ByteArrayOutputStream $.OutputStreamWriter java.lang.Float JU.Base64 $.SB".split(" "),function(){var b=q(function(){this.bw=this.fileName=this.bytePoster=null;this.isLocalFile=!1;this.byteCount=0;this.closed=this.isCanceled=!1;this.type=this.sb=this.os=null;this.$isBase64=!1;this.bytes=this.os0=null;
this.bigEndian=!0;s(this,arguments)},JU,"OC",java.io.OutputStream,javajs.api.GenericOutputChannel);p(b,function(){B(this,JU.OC,[])});p(b,function(a){B(this,JU.OC,[]);this.setParams(null,a,!1,null)},"~S");c(b,"setParams",function(a,d,b,c){this.bytePoster=a;if(this.$isBase64=";base64,".equals(d))d=null,this.os0=c,c=null;this.fileName=d;this.os=c;this.isLocalFile=null!=d&&!JU.OC.isRemote(d);b&&(!this.$isBase64&&null!=c)&&(this.bw=new java.io.BufferedWriter(new java.io.OutputStreamWriter(c)));return this},
"javajs.api.BytePoster,~S,~B,java.io.OutputStream");e(b,"isBigEndian",function(){return this.bigEndian});c(b,"setBigEndian",function(a){this.bigEndian=a},"~B");c(b,"setBytes",function(a){this.bytes=a;return this},"~A");c(b,"getFileName",function(){return this.fileName});c(b,"getName",function(){return null==this.fileName?null:this.fileName.substring(this.fileName.lastIndexOf("/")+1)});c(b,"getByteCount",function(){return this.byteCount});c(b,"setType",function(a){this.type=a},"~S");c(b,"getType",
function(){return this.type});c(b,"append",function(a){try{if(null!=this.bw)this.bw.write(a);else if(null==this.os)null==this.sb&&(this.sb=new JU.SB),this.sb.append(a);else{var d=a.getBytes();this.os.write(d,0,d.length);this.byteCount+=d.length;return this}}catch(b){if(!z(b,"java.io.IOException"))throw b;}this.byteCount+=a.length;return this},"~S");e(b,"reset",function(){this.sb=null;this.initOS()});c(b,"initOS",function(){if(null!=this.sb){var a=this.sb.toString();this.reset();this.append(a)}else{try{this.os=
null,null==this.os&&(this.os=new java.io.ByteArrayOutputStream),null!=this.bw&&(this.bw.close(),this.bw=new java.io.BufferedWriter(new java.io.OutputStreamWriter(this.os)))}catch(d){if(z(d,Exception))System.out.println(d.toString());else throw d;}this.byteCount=0}});e(b,"writeByteAsInt",function(a){null==this.os&&this.initOS();this.os.writeByteAsInt(a);this.byteCount++},"~N");e(b,"write",function(a,d,b){null==this.os&&this.initOS();0>b&&(b=a.length-d);try{this.os.write(a,d,b)}catch(c){if(!z(c,"java.io.IOException"))throw c;
}this.byteCount+=b},"~A,~N,~N");e(b,"writeShort",function(a){this.isBigEndian()?(this.writeByteAsInt(a>>8),this.writeByteAsInt(a)):(this.writeByteAsInt(a),this.writeByteAsInt(a>>8))},"~N");e(b,"writeLong",function(a){this.isBigEndian()?(this.writeInt(a>>32&4294967295),this.writeInt(a&4294967295)):(this.writeByteAsInt(a>>56),this.writeByteAsInt(a>>48),this.writeByteAsInt(a>>40),this.writeByteAsInt(a>>32),this.writeByteAsInt(a>>24),this.writeByteAsInt(a>>16),this.writeByteAsInt(a>>8),this.writeByteAsInt(a))},
"~N");c(b,"cancel",function(){this.isCanceled=!0;this.closeChannel()});e(b,"closeChannel",function(){if(this.closed)return null;try{null!=this.bw?(this.bw.flush(),this.bw.close()):null!=this.os&&(this.os.flush(),this.os.close()),null!=this.os0&&this.isCanceled&&(this.os0.flush(),this.os0.close())}catch(a){if(!z(a,Exception))throw a;}if(this.isCanceled)return this.closed=!0,null;if(null==this.fileName){if(this.$isBase64){var d=this.getBase64();null!=this.os0&&(this.os=this.os0,this.append(d));this.sb=
new JU.SB;this.sb.append(d);this.$isBase64=!1;return this.closeChannel()}return null==this.sb?null:this.sb.toString()}this.closed=!0;if(!this.isLocalFile){d=this.postByteArray();if(null==d||d.startsWith("java.net"))this.byteCount=-1;return d}var b=d=null,d=self.J2S||Jmol,b="function"==typeof this.fileName?this.fileName:null;if(null!=d){var c=null==this.sb?this.toByteArray():this.sb.toString();null==b?d.doAjax(this.fileName,null,c,null==this.sb):d.applyFunc(this.fileName,c)}return null});c(b,"isBase64",
function(){return this.$isBase64});c(b,"getBase64",function(){return JU.Base64.getBase64(this.toByteArray()).toString()});c(b,"toByteArray",function(){return null!=this.bytes?this.bytes:x(this.os,"java.io.ByteArrayOutputStream")?this.os.toByteArray():null});c(b,"close",function(){this.closeChannel()});e(b,"toString",function(){if(null!=this.bw)try{this.bw.flush()}catch(a){if(!z(a,"java.io.IOException"))throw a;}return null!=this.sb?this.closeChannel():this.byteCount+" bytes"});c(b,"postByteArray",
function(){var a=null==this.sb?this.toByteArray():this.sb.toString().getBytes();return this.bytePoster.postByteArray(this.fileName,a)});b.isRemote=c(b,"isRemote",function(a){if(null==a)return!1;a=JU.OC.urlTypeIndex(a);return 0<=a&&4>a},"~S");b.isLocal=c(b,"isLocal",function(a){return null!=a&&!JU.OC.isRemote(a)},"~S");b.urlTypeIndex=c(b,"urlTypeIndex",function(a){if(null==a)return-2;for(var d=0;d<JU.OC.urlPrefixes.length;++d)if(a.startsWith(JU.OC.urlPrefixes[d]))return d;return-1},"~S");e(b,"writeInt",
function(a){this.bigEndian?(this.writeByteAsInt(a>>24),this.writeByteAsInt(a>>16),this.writeByteAsInt(a>>8),this.writeByteAsInt(a)):(this.writeByteAsInt(a),this.writeByteAsInt(a>>8),this.writeByteAsInt(a>>16),this.writeByteAsInt(a>>24))},"~N");c(b,"writeFloat",function(a){this.writeInt(0==a?0:Float.floatToIntBits(a))},"~N");E(b,"urlPrefixes",y(-1,"http: https: sftp: ftp: file: cache:".split(" ")))});t("JU");v(["JU.T3"],"JU.P3",null,function(){var b=u(JU,"P3",JU.T3);b.newP=c(b,"newP",function(a){var d=
new JU.P3;d.x=a.x;d.y=a.y;d.z=a.z;return d},"JU.T3");b.getUnlikely=c(b,"getUnlikely",function(){return null==JU.P3.unlikely?JU.P3.unlikely=JU.P3.new3(3.141592653589793,2.718281828459045,8.539734222673566):JU.P3.unlikely});b.new3=c(b,"new3",function(a,d,b){var c=new JU.P3;c.x=a;c.y=d;c.z=b;return c},"~N,~N,~N");b.newA=c(b,"newA",function(a){return JU.P3.new3(a[0],a[1],a[2])},"~A");E(b,"unlikely",null)});t("JU");v(["JU.T3i"],"JU.P3i",null,function(){var b=u(JU,"P3i",JU.T3i);b.new3=c(b,"new3",function(a,
d,b){var c=new JU.P3i;c.x=a;c.y=d;c.z=b;return c},"~N,~N,~N")});t("JU");v(["JU.T4"],"JU.P4",null,function(){var b=u(JU,"P4",JU.T4);b.new4=c(b,"new4",function(a,d,b,c){var f=new JU.P4;f.set4(a,d,b,c);return f},"~N,~N,~N,~N");b.newPt=c(b,"newPt",function(a){var d=new JU.P4;d.set4(a.x,a.y,a.z,a.w);return d},"JU.P4");c(b,"distance4",function(a){var d=this.x-a.x,b=this.y-a.y,c=this.z-a.z;a=this.w-a.w;return Math.sqrt(d*d+b*b+c*c+a*a)},"JU.P4")});t("JU");v(null,"JU.PT","java.lang.Double $.Float java.util.Arrays JU.AU $.DF $.SB".split(" "),
function(){var b=u(JU,"PT");b.parseInt=c(b,"parseInt",function(a){return JU.PT.parseIntNext(a,D(-1,[0]))},"~S");b.parseIntNext=c(b,"parseIntNext",function(a,d){var b=a.length;return 0>d[0]||d[0]>=b?-2147483648:JU.PT.parseIntChecked(a,b,d)},"~S,~A");b.parseIntChecked=c(b,"parseIntChecked",function(a,d,b){var c=!1,f=0,h=b[0];if(0>h)return-2147483648;for(var e;h<d&&JU.PT.isWhiteSpace(a,h);)++h;var j=!1;h<d&&45==a.charCodeAt(h)&&(j=!0,++h);for(;h<d&&48<=(e=a.charCodeAt(h))&&57>=e;)f=10*f+(e-48),c=!0,
++h;c?j&&(f=-f):f=-2147483648;b[0]=h;return f},"~S,~N,~A");b.isWhiteSpace=c(b,"isWhiteSpace",function(a,d){var b;return 0<=d&&(" "==(b=a.charAt(d))||"\t"==b||"\n"==b)},"~S,~N");b.parseFloatChecked=c(b,"parseFloatChecked",function(a,d,b,c){var f=!1,h=b[0];if(c&&a.indexOf("\n")!=a.lastIndexOf("\n"))return NaN;for(;h<d&&JU.PT.isWhiteSpace(a,h);)++h;var e=!1;h<d&&"-"==a.charAt(h)&&(++h,e=!0);for(var j=0,l=0,r=0;h<d&&48<=(j=a.charCodeAt(h))&&57>=j;)l=10*l+1*(j-48),++h,f=!0;var n=!1,p=0,q=0==l?-1:0;if(46==
j)for(n=!0;++h<d&&48<=(j=a.charCodeAt(h))&&57>=j;){f=!0;if(0>q){if(48==j){q--;continue}q=-q}p<JU.PT.decimalScale.length&&(r=10*r+1*(j-48),p++)}f?0<r?(f=r*JU.PT.decimalScale[p-1],f=1<q?q-2<JU.PT.decimalScale.length?f*JU.PT.decimalScale[q-2]:f*Math.pow(10,1-q):f+l):f=l:f=NaN;l=!1;if(h<d&&(69==j||101==j||68==j)){l=!0;if(++h>=d)return NaN;j=a.charCodeAt(h);if(43==j&&++h>=d)return NaN;b[0]=h;h=JU.PT.parseIntChecked(a,d,b);if(-2147483648==h)return NaN;0<h&&h<=JU.PT.tensScale.length?f*=JU.PT.tensScale[h-
1]:0>h&&-h<=JU.PT.decimalScale.length?f*=JU.PT.decimalScale[-h-1]:0!=h&&(f*=Math.pow(10,h))}else b[0]=h;e&&(f=-f);Infinity==f&&(f=3.4028235E38);return!c||(!l||n)&&JU.PT.checkTrailingText(a,b[0],d)?f:NaN},"~S,~N,~A,~B");b.checkTrailingText=c(b,"checkTrailingText",function(a,d,b){for(var c;d<b&&(JU.PT.isWhitespace(c=a.charAt(d))||";"==c);)++d;return d==b},"~S,~N,~N");b.parseFloatArray=c(b,"parseFloatArray",function(a){return JU.PT.parseFloatArrayNext(a,D(1,0),null,null,null)},"~S");b.parseFloatArrayInfested=
c(b,"parseFloatArrayInfested",function(a,d){for(var b=d.length,c=a.length,f=0,h=0,e=0;0<=e&&e<b&&f<c;e++){for(var j;Float.isNaN(j=JU.PT.parseFloat(a[f++]))&&f<c;);Float.isNaN(j)||(d[h=e]=j);if(f==c)break}return h+1},"~A,~A");b.parseFloatArrayNext=c(b,"parseFloatArrayNext",function(a,d,b,c,f){var h=0,e=d[0];0<=e&&(null!=c&&(h=a.indexOf(c,e),0<=h&&(d[0]=h+c.length)),a=a.substring(d[0]),e=null==f?-1:a.indexOf(f),0>e?e=a.length:a=a.substring(0,e),d[0]+=e+1,a=JU.PT.getTokens(a),null==b&&(b=V(a.length,
0)),h=JU.PT.parseFloatArrayInfested(a,b));if(null==b)return V(0,0);for(a=h;a<b.length;a++)b[a]=NaN;return b},"~S,~A,~A,~S,~S");b.parseFloatRange=c(b,"parseFloatRange",function(a,d,b){var c=a.length;d>c&&(d=c);return 0>b[0]||b[0]>=d?NaN:JU.PT.parseFloatChecked(a,d,b,!1)},"~S,~N,~A");b.parseFloatNext=c(b,"parseFloatNext",function(a,d){var b=null==a?-1:a.length;return 0>d[0]||d[0]>=b?NaN:JU.PT.parseFloatChecked(a,b,d,!1)},"~S,~A");b.parseFloatStrict=c(b,"parseFloatStrict",function(a){var d=a.length;
return 0==d?NaN:JU.PT.parseFloatChecked(a,d,D(-1,[0]),!0)},"~S");b.parseFloat=c(b,"parseFloat",function(a){return JU.PT.parseFloatNext(a,D(-1,[0]))},"~S");b.parseIntRadix=c(b,"parseIntRadix",function(a,d){return Integer.parseIntRadix(a,d)},"~S,~N");b.getTokens=c(b,"getTokens",function(a){return JU.PT.getTokensAt(a,0)},"~S");b.parseToken=c(b,"parseToken",function(a){return JU.PT.parseTokenNext(a,D(-1,[0]))},"~S");b.parseTrimmed=c(b,"parseTrimmed",function(a){return JU.PT.parseTrimmedRange(a,0,a.length)},
"~S");b.parseTrimmedAt=c(b,"parseTrimmedAt",function(a,d){return JU.PT.parseTrimmedRange(a,d,a.length)},"~S,~N");b.parseTrimmedRange=c(b,"parseTrimmedRange",function(a,d,b){var c=a.length;b<c&&(c=b);return c<d?"":JU.PT.parseTrimmedChecked(a,d,c)},"~S,~N,~N");b.getTokensAt=c(b,"getTokensAt",function(a,d){if(null==a)return null;var b=a.length;if(0>d||d>b)return null;var c=JU.PT.countTokens(a,d),f=Array(c),h=D(1,0);h[0]=d;for(var e=0;e<c;++e)f[e]=JU.PT.parseTokenChecked(a,b,h);return f},"~S,~N");b.countChar=
c(b,"countChar",function(a,d){for(var b=0,c=a.lastIndexOf(d)+1;0<=--c;)a.charAt(c)==d&&b++;return b},"~S,~S");b.countTokens=c(b,"countTokens",function(a,d){var b=0;if(null!=a)for(var c=a.length;;){for(;d<c&&JU.PT.isWhiteSpace(a,d);)++d;if(d==c)break;++b;do++d;while(d<c&&!JU.PT.isWhiteSpace(a,d))}return b},"~S,~N");b.parseTokenNext=c(b,"parseTokenNext",function(a,d){var b=a.length;return 0>d[0]||d[0]>=b?null:JU.PT.parseTokenChecked(a,b,d)},"~S,~A");b.parseTokenRange=c(b,"parseTokenRange",function(a,
d,b){var c=a.length;d>c&&(d=c);return 0>b[0]||b[0]>=d?null:JU.PT.parseTokenChecked(a,d,b)},"~S,~N,~A");b.parseTokenChecked=c(b,"parseTokenChecked",function(a,d,b){for(var c=b[0];c<d&&JU.PT.isWhiteSpace(a,c);)++c;for(var f=c;c<d&&!JU.PT.isWhiteSpace(a,c);)++c;b[0]=c;return f==c?null:a.substring(f,c)},"~S,~N,~A");b.parseTrimmedChecked=c(b,"parseTrimmedChecked",function(a,d,b){for(;d<b&&JU.PT.isWhiteSpace(a,d);)++d;for(b-=1;b>=d&&JU.PT.isWhiteSpace(a,b);)--b;return b<d?"":a.substring(d,b+1)},"~S,~N,~N");
b.dVal=c(b,"dVal",function(a){if(null==a)throw new NumberFormatException("null");var d=parseFloat(a);if(isNaN(d))throw new NumberFormatException("Not a Number : "+a);return d},"~S");b.fVal=c(b,"fVal",function(a){return this.dVal(a)},"~S");b.parseIntRange=c(b,"parseIntRange",function(a,d,b){var c=a.length;d>c&&(d=c);return 0>b[0]||b[0]>=d?-2147483648:JU.PT.parseIntChecked(a,d,b)},"~S,~N,~A");b.parseFloatArrayData=c(b,"parseFloatArrayData",function(a,d){JU.PT.parseFloatArrayDataN(a,d,d.length)},"~A,~A");
b.parseFloatArrayDataN=c(b,"parseFloatArrayDataN",function(a,d,b){for(;0<=--b;)d[b]=b>=a.length?NaN:JU.PT.parseFloat(a[b])},"~A,~A,~N");b.split=c(b,"split",function(a,d){if(0==a.length)return[];var b=1,c=a.indexOf(d),f,h=d.length;if(0>c||0==h)return f=Array(1),f[0]=a,f;for(var e=a.length-h;0<=c&&c<e;b++)c=a.indexOf(d,c+h);f=Array(b);for(var j=c=0,l=0;0<=(j=a.indexOf(d,c))&&l+1<b;)f[l++]=a.substring(c,j),c=j+h;a.indexOf(d,e)!=e&&(e+=h);f[l]=a.substring(c,e);return f},"~S,~S");b.getQuotedStringAt=c(b,
"getQuotedStringAt",function(a,d){var b=D(-1,[d]);return JU.PT.getQuotedStringNext(a,b)},"~S,~N");b.getQuotedStringNext=c(b,"getQuotedStringNext",function(a,d){var b=d[0];if(0>b||0>(b=a.indexOf('"',b)))return"";for(var c=b+1,f=a.length;++b<f&&'"'!=a.charAt(b);)"\\"==a.charAt(b)&&b++;d[0]=b+1;return a.substring(c,b)},"~S,~A");b.getQuotedOrUnquotedAttribute=c(b,"getQuotedOrUnquotedAttribute",function(a,d){if(null==a||null==d)return null;var b=a.toLowerCase().indexOf(d.toLowerCase()+"=");if(0>b||(b=
b+d.length+1)>=a.length)return"";var c=a.charAt(b);switch(c.charCodeAt(0)){case 39:case 34:b++;break;default:c=" ",a+=" "}c=a.indexOf(c,b);return 0>c?null:a.substring(b,c)},"~S,~S");b.getCSVString=c(b,"getCSVString",function(a,d){var b=d[1];if(0>b||0>(b=a.indexOf('"',b)))return null;for(var c=d[0]=b,f=a.length,h=!1,e=!1;++b<f&&('"'!=a.charAt(b)||(h=b+1<f&&'"'==a.charAt(b+1)));)h&&(h=!1,e=!0,b++);if(b>=f)return d[1]=-1,null;d[1]=b+1;b=a.substring(c+1,b);return e?JU.PT.rep(JU.PT.rep(b,'""',"\x00"),
"\x00",'"'):b},"~S,~A");b.isOneOf=c(b,"isOneOf",function(a,d){if(0==d.length)return!1;";"!=d.charAt(0)&&(d=";"+d+";");return 0>a.indexOf(";")&&0<=d.indexOf(";"+a+";")},"~S,~S");b.getQuotedAttribute=c(b,"getQuotedAttribute",function(a,d){var b=a.indexOf(d+"=");return 0>b?null:JU.PT.getQuotedStringAt(a,b)},"~S,~S");b.approx=c(b,"approx",function(a,d){return Math.round(a*d)/d},"~N,~N");b.rep=c(b,"rep",function(a,d,b){if(null==a||0==d.length||0>a.indexOf(d))return a;var c=0<=b.indexOf(d);do a=a.$replace(d,
b);while(!c&&0<=a.indexOf(d));return a},"~S,~S,~S");b.formatF=c(b,"formatF",function(a,d,b,c,f){return JU.PT.formatS(JU.DF.formatDecimal(a,b),d,0,c,f)},"~N,~N,~N,~B,~B");b.formatD=c(b,"formatD",function(a,d,b,c,f){return JU.PT.formatS(JU.DF.formatDecimal(a,-1-b),d,0,c,f)},"~N,~N,~N,~B,~B,~B");b.formatS=c(b,"formatS",function(a,d,b,c,f){if(null==a)return"";var h=a.length;2147483647!=b&&0<b&&b<h?a=a.substring(0,b):0>b&&0<=h+b&&(a=a.substring(h+b+1));b=d-a.length;if(0>=b)return a;d=f&&!c&&"-"==a.charAt(0);
f=f?"0":" ";var e=d?"-":f,h=new JU.SB;c&&h.append(a);for(h.appendC(e);0<--b;)h.appendC(f);c||h.append(d?f+a.substring(1):a);return h.toString()},"~S,~N,~N,~B,~B");b.replaceWithCharacter=c(b,"replaceWithCharacter",function(a,d,b){if(null==a)return null;for(var c=d.length;0<=--c;)a=a.$replace(d.charAt(c),b);return a},"~S,~S,~S");b.replaceAllCharacters=c(b,"replaceAllCharacters",function(a,d,b){for(var c=d.length;0<=--c;){var f=d.substring(c,c+1);a=JU.PT.rep(a,f,b)}return a},"~S,~S,~S");b.trim=c(b,"trim",
function(a,d){if(null==a||0==a.length)return a;if(0==d.length)return a.trim();for(var b=a.length,c=0;c<b&&0<=d.indexOf(a.charAt(c));)c++;for(b=a.length-1;b>c&&0<=d.indexOf(a.charAt(b));)b--;return a.substring(c,b+1)},"~S,~S");b.trimQuotes=c(b,"trimQuotes",function(a){return null!=a&&1<a.length&&a.startsWith('"')&&a.endsWith('"')?a.substring(1,a.length-1):a},"~S");b.isNonStringPrimitive=c(b,"isNonStringPrimitive",function(a){return"number"==typeof a||"boolean"==typeof a?!0:x(a,Number)||x(a,Boolean)},
"~O");b.toJSON=c(b,"toJSON",function(a,d){if(null==d)return JU.PT.packageJSON(a,null);if(JU.PT.isNonStringPrimitive(d))return JU.PT.packageJSON(a,d.toString());for(var b=null,c=null;;){if("string"==typeof d){b=d;"undefined"==typeof b&&(b="null");0!=b.indexOf('{"')&&(b=JU.PT.esc(b));break}if(x(d,"javajs.api.JSONEncodable")){if(null==(b=d.toJSON()))b="null";break}c=new JU.SB;if(x(d,"java.util.Map")){c.append("{ ");var f="",e=d.keySet(),k=e.toArray(Array(e.size()));java.util.Arrays.sort(k);for(var e=
0,j=k.length;e<j;e++){var l=k[e];null==l&&(l="null");c.append(f).append(JU.PT.packageJSON(l,JU.PT.toJSON(null,d.get(l))));f=","}c.append(" }");break}if(x(d,"JU.Lst")){c.append("[ ");j=d.size();for(e=0;e<j;e++)0<e&&c.appendC(","),c.append(JU.PT.toJSON(null,d.get(e)));c.append(" ]");break}if(x(d,"JU.M34")){f=x(d,"JU.M4")?4:3;j=V(f,0);k=d;c.appendC("[");for(e=0;e<f;e++)0<e&&c.appendC(","),k.getRow(e,j),c.append(JU.PT.toJSON(null,j));c.appendC("]");break}b=JU.PT.nonArrayString(d);if(null==b){c.append("[");
j=JU.AU.getLength(d);e=null;e=d[0];"number"!=typeof e&&(e=null);if(null!=e)c.appendO(d);else for(e=0;e<j;e++)0<e&&c.appendC(","),c.append(JU.PT.toJSON(null,JU.PT.arrayGet(d,e)));c.append("]");break}d=d.toString()}return JU.PT.packageJSON(a,null==b?c.toString():b)},"~S,~O");b.arrayGet=c(b,"arrayGet",function(a,d){return a[d]},"~O,~N");b.nonArrayString=c(b,"nonArrayString",function(a){return a.constructor==Array||a.BYTES_PER_ELEMENT?null:a.toString()},"~O");b.byteArrayToJSON=c(b,"byteArrayToJSON",function(a){var d=
new JU.SB;d.append("[");for(var b=a.length,c=0;c<b;c++)0<c&&d.appendC(","),d.appendI(a[c]&255);d.append("]");return d.toString()},"~A");b.packageJSON=c(b,"packageJSON",function(a,d){return null==a?d:'"'+a+'": '+d},"~S,~S");b.escapeUrl=c(b,"escapeUrl",function(a){a=JU.PT.rep(a,"\n","");a=JU.PT.rep(a,"%","%25");a=JU.PT.rep(a,"#","%23");a=JU.PT.rep(a,"[","%5B");a=JU.PT.rep(a,"\\","%5C");a=JU.PT.rep(a,"]","%5D");return a=JU.PT.rep(a," ","%20")},"~S");b.esc=c(b,"esc",function(a){if(null==a||0==a.length)return'""';
for(var d=!1,b=0;10>b;b+=2)if(0<=a.indexOf('\\\\\tt\rr\nn""'.charAt(b))){d=!0;break}if(d)for(;10>b;){for(var d=-1,c='\\\\\tt\rr\nn""'.charAt(b++),f='\\\\\tt\rr\nn""'.charAt(b++),e=new JU.SB,k=0;0<=(d=a.indexOf(c,d+1));)e.append(a.substring(k,d)).appendC("\\").appendC(f),k=d+1;e.append(a.substring(k,a.length));a=e.toString()}return'"'+JU.PT.escUnicode(a)+'"'},"~S");b.escUnicode=c(b,"escUnicode",function(a){for(var d=a.length;0<=--d;)if(127<a.charCodeAt(d)){var b="0000"+Integer.toHexString(a.charCodeAt(d));
a=a.substring(0,d)+"\\u"+b.substring(b.length-4)+a.substring(d+1)}return a},"~S");b.escF=c(b,"escF",function(a){a=""+a;0>a.indexOf(".")&&(0>a.indexOf("e")&&0>a.indexOf("N")&&0>a.indexOf("n"))&&(a+=".0");return a},"~N");b.join=c(b,"join",function(a,d,b){if(a.length<b)return null;var c=new JU.SB;for(c.append(a[b++]);b<a.length;b++)c.appendC(d).append(a[b]);return c.toString()},"~A,~S,~N");b.isLike=c(b,"isLike",function(a,d){var b=a.equals(d);if(b)return!0;var c=d.startsWith("*"),f=d.endsWith("*");return!c&&
!f?b:c&&f?1==d.length||a.contains(d.substring(1,d.length-1)):c?a.endsWith(d.substring(1)):a.startsWith(d.substring(0,d.length-1))},"~S,~S");b.getMapValueNoCase=c(b,"getMapValueNoCase",function(a,d){if("this".equals(d))return a;var b=a.get(d);if(null==b)for(var c,f=a.entrySet().iterator();f.hasNext()&&((c=f.next())||1);)if(c.getKey().equalsIgnoreCase(d))return c.getValue();return b},"java.util.Map,~S");b.clean=c(b,"clean",function(a){return JU.PT.rep(JU.PT.replaceAllCharacters(a," \t\n\r"," "),"  ",
" ").trim()},"~S");b.fdup=c(b,"fdup",function(a,d,b){for(var c,f=0,e=d;1<=--e;)if(!JU.PT.isDigit(c=a.charAt(e)))switch(c.charCodeAt(0)){case 46:if(0!=f++)return a;continue;case 45:if(1!=e&&"."!=a.charAt(e-1))return a;continue;default:return a}c=a.substring(0,d+1);f=new JU.SB;for(e=0;e<b;e++)f.append(c);f.append(a.substring(d+1));return f.toString()},"~S,~N,~N");b.formatString=c(b,"formatString",function(a,d,b,c,f,e){if(null==a)return null;if("".equals(a))return"";var k=d.length;if(0>a.indexOf("%")||
0==k||0>a.indexOf(d))return a;var j="",l,r,n;for(l=0;0<=(r=a.indexOf("%",l))&&0<=(n=a.indexOf(d,r+1));)if(l!=r&&(j+=a.substring(l,r)),l=r+1,n>r+6)j+="%";else try{var p=!1;"-"==a.charAt(l)&&(p=!0,++l);var q=!1;"0"==a.charAt(l)&&(q=!0,++l);for(var m,s=0;"0"<=(m=a.charAt(l))&&"9">=m;)s=10*s+(m.charCodeAt(0)-48),++l;var t=2147483647,v=!1;if("."==a.charAt(l)){++l;if("-"==(m=a.charAt(l)))v=!0,++l;if("0"<=(m=a.charAt(l))&&"9">=m)if(t=m.charCodeAt(0)-48,++l,"0"<=(m=a.charAt(l))&&"9">=m)t=10*t+(m.charCodeAt(0)-
48),++l;v&&(t=-t)}if(a.substring(l,l+k).equals(d)){if(l+=k,Float.isNaN(c)?null!=b?j+=JU.PT.formatS(b,s,0>t?t-1:t,p,q):Double.isNaN(f)||(j+=JU.PT.formatD(f,s,t-1,p,q,!0)):j+=JU.PT.formatF(c,s,t,p,q),e)break}else l=r+1,j+="%"}catch(u){if(z(u,"IndexOutOfBoundsException")){l=r;break}else throw u;}return j+=a.substring(l)},"~S,~S,~S,~N,~N,~B");b.formatStringS=c(b,"formatStringS",function(a,d,b){return JU.PT.formatString(a,d,b,NaN,NaN,!1)},"~S,~S,~S");b.formatStringF=c(b,"formatStringF",function(a,d,b){return JU.PT.formatString(a,
d,null,b,NaN,!1)},"~S,~S,~N");b.formatStringI=c(b,"formatStringI",function(a,d,b){return JU.PT.formatString(a,d,""+b,NaN,NaN,!1)},"~S,~S,~N");b.sprintf=c(b,"sprintf",function(a,d,b){if(null==b)return a;var c=d.length;if(c==b.length)try{for(var f=0;f<c;f++)if(null!=b[f])switch(d.charAt(f).charCodeAt(0)){case 115:a=JU.PT.formatString(a,"s",b[f],NaN,NaN,!0);break;case 102:a=JU.PT.formatString(a,"f",null,b[f].floatValue(),NaN,!0);break;case 105:a=JU.PT.formatString(a,"d",""+b[f],NaN,NaN,!0);a=JU.PT.formatString(a,
"i",""+b[f],NaN,NaN,!0);break;case 100:a=JU.PT.formatString(a,"e",null,NaN,b[f].doubleValue(),!0);break;case 112:var e=b[f];a=JU.PT.formatString(a,"p",null,e.x,NaN,!0);a=JU.PT.formatString(a,"p",null,e.y,NaN,!0);a=JU.PT.formatString(a,"p",null,e.z,NaN,!0);break;case 113:var k=b[f];a=JU.PT.formatString(a,"q",null,k.x,NaN,!0);a=JU.PT.formatString(a,"q",null,k.y,NaN,!0);a=JU.PT.formatString(a,"q",null,k.z,NaN,!0);a=JU.PT.formatString(a,"q",null,k.w,NaN,!0);break;case 83:for(var j=b[f],l=0;l<j.length;l++)a=
JU.PT.formatString(a,"s",j[l],NaN,NaN,!0);break;case 70:for(var r=b[f],l=0;l<r.length;l++)a=JU.PT.formatString(a,"f",null,r[l],NaN,!0);break;case 73:for(var n=b[f],l=0;l<n.length;l++)a=JU.PT.formatString(a,"d",""+n[l],NaN,NaN,!0);for(l=0;l<n.length;l++)a=JU.PT.formatString(a,"i",""+n[l],NaN,NaN,!0);break;case 68:for(var p=b[f],l=0;l<p.length;l++)a=JU.PT.formatString(a,"e",null,NaN,p[l],!0)}return JU.PT.rep(a,"%%","%")}catch(q){if(!z(q,Exception))throw q;}System.out.println("TextFormat.sprintf error "+
d+" "+a);return JU.PT.rep(a,"%","?")},"~S,~S,~A");b.formatCheck=c(b,"formatCheck",function(a){if(null==a||0>a.indexOf("p")&&0>a.indexOf("q"))return a;a=JU.PT.rep(a,"%%","\u0001");a=JU.PT.rep(a,"%p","%6.2p");a=JU.PT.rep(a,"%q","%6.2q");a=JU.PT.split(a,"%");var d=new JU.SB;d.append(a[0]);for(var b=1;b<a.length;b++){var c="%"+a[b],f;if(3<=c.length){if(0<=(f=c.indexOf("p")))c=JU.PT.fdup(c,f,3);if(0<=(f=c.indexOf("q")))c=JU.PT.fdup(c,f,4)}d.append(c)}return d.toString().$replace("\u0001","%")},"~S");b.leftJustify=
c(b,"leftJustify",function(a,d,b){a.append(b);b=d.length-b.length;0<b&&a.append(d.substring(0,b))},"JU.SB,~S,~S");b.rightJustify=c(b,"rightJustify",function(a,d,b){var c=d.length-b.length;0<c&&a.append(d.substring(0,c));a.append(b)},"JU.SB,~S,~S");b.safeTruncate=c(b,"safeTruncate",function(a,d){-0.001<a&&0.001>a&&(a=0);return(a+"         ").substring(0,d)},"~N,~N");b.isWild=c(b,"isWild",function(a){return null!=a&&(0<=a.indexOf("*")||0<=a.indexOf("?"))},"~S");b.isMatch=c(b,"isMatch",function(a,d,
b,c){if(a.equals(d))return!0;var f=d.length;if(0==f)return!1;var e=b&&c?"*"==d.charAt(0):!1;if(1==f&&e)return!0;var k=b&&d.endsWith("*");if(!(0<=d.indexOf("?"))){if(e)return k?3>f||0<=a.indexOf(d.substring(1,f-1)):a.endsWith(d.substring(1));if(k)return a.startsWith(d.substring(0,f-1))}for(var j=a.length,l="????",r=4;r<j;)l+=l,r+=4;b&&(e&&(d=l+d.substring(1),f+=r-1),k&&(d=d.substring(0,f-1)+l,f+=r-1));if(f<j)return!1;for(b=0;f>j;){if(c&&"?"==d.charAt(b))++b;else if("?"!=d.charAt(b+f-1))return!1;--f}for(c=
j;0<=--c;)if(f=d.charAt(b+c),"?"!=f&&(j=a.charAt(c),f!=j&&("\u0001"!=f||"?"!=j)))return!1;return!0},"~S,~S,~B,~B");b.replaceQuotedStrings=c(b,"replaceQuotedStrings",function(a,d,b){for(var c=d.size(),f=0;f<c;f++){var e=d.get(f),k=b.get(f);k.equals(e)||(a=JU.PT.rep(a,'"'+e+'"','"'+k+'"'))}return a},"~S,JU.Lst,JU.Lst");b.replaceStrings=c(b,"replaceStrings",function(a,d,b){for(var c=d.size(),f=0;f<c;f++){var e=d.get(f),k=b.get(f);k.equals(e)||(a=JU.PT.rep(a,e,k))}return a},"~S,JU.Lst,JU.Lst");b.isDigit=
c(b,"isDigit",function(a){a=a.charCodeAt(0);return 48<=a&&57>=a},"~S");b.isUpperCase=c(b,"isUpperCase",function(a){a=a.charCodeAt(0);return 65<=a&&90>=a},"~S");b.isLowerCase=c(b,"isLowerCase",function(a){a=a.charCodeAt(0);return 97<=a&&122>=a},"~S");b.isLetter=c(b,"isLetter",function(a){a=a.charCodeAt(0);return 65<=a&&90>=a||97<=a&&122>=a},"~S");b.isLetterOrDigit=c(b,"isLetterOrDigit",function(a){a=a.charCodeAt(0);return 65<=a&&90>=a||97<=a&&122>=a||48<=a&&57>=a},"~S");b.isWhitespace=c(b,"isWhitespace",
function(a){a=a.charCodeAt(0);return 28<=a&&32>=a||9<=a&&13>=a},"~S");b.fixPtFloats=c(b,"fixPtFloats",function(a,d){a.x=Math.round(a.x*d)/d;a.y=Math.round(a.y*d)/d;a.z=Math.round(a.z*d)/d},"JU.T3,~N");b.fixDouble=c(b,"fixDouble",function(a,d){return Math.round(a*d)/d},"~N,~N");b.parseFloatFraction=c(b,"parseFloatFraction",function(a){var d=a.indexOf("/");return 0>d?JU.PT.parseFloat(a):JU.PT.parseFloat(a.substring(0,d))/JU.PT.parseFloat(a.substring(d+1))},"~S");E(b,"tensScale",V(-1,[10,100,1E3,1E4,
1E5,1E6]),"decimalScale",V(-1,[0.1,0.01,0.001,1E-4,1E-5,1E-6,1E-7,1E-8,1E-9,1E-10,1E-11,1E-12,1E-13,1E-14,1E-15]))});t("JU");n=q(function(){this.s=this.sb=null;s(this,arguments)},JU,"SB");p(n,function(){this.s=""});n.newN=c(n,"newN",function(){return new JU.SB},"~N");n.newS=c(n,"newS",function(b){var a=new JU.SB;a.s=b;return a},"~S");c(n,"append",function(b){this.s+=b;return this},"~S");c(n,"appendC",function(b){this.s+=b;return this},"~S");c(n,"appendI",function(b){this.s+=b;return this},"~N");c(n,
"appendB",function(b){this.s+=b;return this},"~B");c(n,"appendF",function(b){b=""+b;0>b.indexOf(".")&&0>b.indexOf("e")&&(b+=".0");this.s+=b;return this},"~N");c(n,"appendD",function(b){b=""+b;0>b.indexOf(".")&&0>b.indexOf("e")&&(b+=".0");this.s+=b;return this},"~N");c(n,"appendSB",function(b){this.s+=b.s;return this},"JU.SB");c(n,"appendO",function(b){null!=b&&(this.s+=b.toString());return this},"~O");c(n,"appendCB",function(b,a,d){this.s+=b.slice(a,a+d).join("")},"~A,~N,~N");e(n,"toString",function(){return this.s});
c(n,"length",function(){return this.s.length});c(n,"indexOf",function(b){return this.s.indexOf(b)},"~S");c(n,"charAt",function(b){return this.s.charAt(b)},"~N");c(n,"charCodeAt",function(b){return this.s.charCodeAt(b)},"~N");c(n,"setLength",function(b){this.s=this.s.substring(0,b)},"~N");c(n,"lastIndexOf",function(b){return this.s.lastIndexOf(b)},"~S");c(n,"indexOf2",function(b,a){return this.s.indexOf(b,a)},"~S,~N");c(n,"substring",function(b){return this.s.substring(b)},"~N");c(n,"substring2",function(b,
a){return this.s.substring(b,a)},"~N,~N");c(n,"toBytes",function(b,a){return 0==a?K(0,0):(0<a?this.substring2(b,b+a):0==b?this.toString():this.substring2(b,this.length()-b)).getBytes("UTF-8")},"~N,~N");c(n,"replace",function(b,a,d){this.s=this.s.substring(0,b)+d+this.s.substring(a)},"~N,~N,~S");c(n,"insert",function(b,a){this.replace(b,b,a)},"~N,~S");t("JU");v(["javajs.api.JSONEncodable"],"JU.T3",["java.lang.Float"],function(){var b=q(function(){this.z=this.y=this.x=0;s(this,arguments)},JU,"T3",null,
[javajs.api.JSONEncodable,java.io.Serializable]);c(b,"set",function(a,d,b){this.x=a;this.y=d;this.z=b},"~N,~N,~N");c(b,"setA",function(a){this.x=a[0];this.y=a[1];this.z=a[2]},"~A");c(b,"setT",function(a){this.x=a.x;this.y=a.y;this.z=a.z},"JU.T3");c(b,"add2",function(a,d){this.x=a.x+d.x;this.y=a.y+d.y;this.z=a.z+d.z},"JU.T3,JU.T3");c(b,"add",function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z},"JU.T3");c(b,"distanceSquared",function(a){var d=this.x-a.x,b=this.y-a.y;a=this.z-a.z;return d*d+b*b+a*a},"JU.T3");
c(b,"distance",function(a){return Math.sqrt(this.distanceSquared(a))},"JU.T3");c(b,"sub2",function(a,d){this.x=a.x-d.x;this.y=a.y-d.y;this.z=a.z-d.z},"JU.T3,JU.T3");c(b,"sub",function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z},"JU.T3");c(b,"scale",function(a){this.x*=a;this.y*=a;this.z*=a},"~N");c(b,"add3",function(a,d,b){this.x+=a;this.y+=d;this.z+=b},"~N,~N,~N");c(b,"scaleT",function(a){this.x*=a.x;this.y*=a.y;this.z*=a.z},"JU.T3");c(b,"scaleAdd2",function(a,d,b){this.x=a*d.x+b.x;this.y=a*d.y+b.y;
this.z=a*d.z+b.z},"~N,JU.T3,JU.T3");c(b,"ave",function(a,d){this.x=(a.x+d.x)/2;this.y=(a.y+d.y)/2;this.z=(a.z+d.z)/2},"JU.T3,JU.T3");c(b,"dot",function(a){return this.x*a.x+this.y*a.y+this.z*a.z},"JU.T3");c(b,"lengthSquared",function(){return this.x*this.x+this.y*this.y+this.z*this.z});c(b,"length",function(){return Math.sqrt(this.lengthSquared())});c(b,"normalize",function(){var a=this.length();this.x/=a;this.y/=a;this.z/=a});c(b,"cross",function(a,d){this.set(a.y*d.z-a.z*d.y,a.z*d.x-a.x*d.z,a.x*
d.y-a.y*d.x)},"JU.T3,JU.T3");e(b,"hashCode",function(){var a;a=31+JU.T3.floatToIntBits(this.x);a=31*a+JU.T3.floatToIntBits(this.y);a=31*a+JU.T3.floatToIntBits(this.z);return a^a>>32});b.floatToIntBits=c(b,"floatToIntBits",function(a){return 0==a?0:Float.floatToIntBits(a)},"~N");e(b,"equals",function(a){return!x(a,"JU.T3")?!1:this.x==a.x&&this.y==a.y&&this.z==a.z},"~O");e(b,"toString",function(){return"{"+this.x+", "+this.y+", "+this.z+"}"});e(b,"toJSON",function(){return"["+this.x+","+this.y+","+
this.z+"]"})});t("JU");n=q(function(){this.z=this.y=this.x=0;s(this,arguments)},JU,"T3i",null,java.io.Serializable);p(n,function(){});c(n,"set",function(b,a,d){this.x=b;this.y=a;this.z=d},"~N,~N,~N");c(n,"setT",function(b){this.x=b.x;this.y=b.y;this.z=b.z},"JU.T3i");c(n,"add",function(b){this.x+=b.x;this.y+=b.y;this.z+=b.z},"JU.T3i");c(n,"scaleAdd",function(b,a,d){this.x=b*a.x+d.x;this.y=b*a.y+d.y;this.z=b*a.z+d.z},"~N,JU.T3i,JU.T3i");e(n,"hashCode",function(){return this.x^this.y^this.z});e(n,"equals",
function(b){return!x(b,"JU.T3i")?!1:this.x==b.x&&this.y==b.y&&this.z==b.z},"~O");e(n,"toString",function(){return"("+this.x+", "+this.y+", "+this.z+")"});t("JU");v(["JU.T3"],"JU.T4",null,function(){var b=q(function(){this.w=0;s(this,arguments)},JU,"T4",JU.T3);c(b,"set4",function(a,d,b,c){this.x=a;this.y=d;this.z=b;this.w=c},"~N,~N,~N,~N");c(b,"scale4",function(a){this.scale(a);this.w*=a},"~N");e(b,"hashCode",function(){return JU.T3.floatToIntBits(this.x)^JU.T3.floatToIntBits(this.y)^JU.T3.floatToIntBits(this.z)^
JU.T3.floatToIntBits(this.w)});e(b,"equals",function(a){return!x(a,"JU.T4")?!1:this.x==a.x&&this.y==a.y&&this.z==a.z&&this.w==a.w},"~O");e(b,"toString",function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"});e(b,"toJSON",function(){return"["+this.x+", "+this.y+", "+this.z+", "+this.w+"]"})});t("JU");v(["JU.T3"],"JU.V3",null,function(){var b=u(JU,"V3",JU.T3);p(b,function(){});b.newV=c(b,"newV",function(a){return JU.V3.new3(a.x,a.y,a.z)},"JU.T3");b.newVsub=c(b,"newVsub",function(a,d){return JU.V3.new3(a.x-
d.x,a.y-d.y,a.z-d.z)},"JU.T3,JU.T3");b.new3=c(b,"new3",function(a,d,b){var c=new JU.V3;c.x=a;c.y=d;c.z=b;return c},"~N,~N,~N");c(b,"angle",function(a){var d=this.y*a.z-this.z*a.y,b=this.z*a.x-this.x*a.z,c=this.x*a.y-this.y*a.x,d=Math.sqrt(d*d+b*b+c*c);return Math.abs(Math.atan2(d,this.dot(a)))},"JU.V3")});t("JU");v(["JU.LoggerInterface"],"JU.DefaultLogger",["JU.Logger"],function(){var b=u(JU,"DefaultLogger",null,JU.LoggerInterface);c(b,"log",function(a,d,b,c){a===System.err&&System.out.flush();if(null!=
a&&(null!=b||null!=c))if(b=(JU.Logger.logLevel()?"["+JU.Logger.getLevel(d)+"] ":"")+(null!=b?b:"")+(null!=c?": "+c.toString():""),a.println(b),null!=c&&(d=c.getStackTrace(),null!=d))for(c=0;c<d.length;c++)a.println(d[c].getClassName()+" - "+d[c].getLineNumber()+" - "+d[c].getMethodName());a===System.err&&System.err.flush();return b},"java.io.PrintStream,~N,~S,Throwable");e(b,"debug",function(a){this.log(System.out,5,a,null)},"~S");e(b,"info",function(a){this.log(System.out,4,a,null)},"~S");e(b,"warn",
function(a){this.log(System.out,3,a,null)},"~S");e(b,"warnEx",function(a,d){this.log(System.out,3,a,d)},"~S,Throwable");e(b,"error",function(a){this.log(System.err,2,a,null)},"~S");e(b,"errorEx",function(a,d){this.log(System.err,2,a,d)},"~S,Throwable");e(b,"fatal",function(a){this.log(System.err,1,a,null)},"~S");e(b,"fatalEx",function(a,d){this.log(System.err,1,a,d)},"~S,Throwable")});t("JU");v(["java.util.Hashtable","JU.DefaultLogger"],"JU.Logger",["java.lang.Long"],function(){var b=u(JU,"Logger");
b.getProperty=c(b,"getProperty",function(a,d){try{var b=System.getProperty("jmol.logger."+a,null);if(null!=b)return b.equalsIgnoreCase("true")}catch(c){if(!z(c,Exception))throw c;}return d},"~S,~B");b.setLogger=c(b,"setLogger",function(a){JU.Logger._logger=a;JU.Logger.debugging=JU.Logger.isActiveLevel(5)||JU.Logger.isActiveLevel(6);JU.Logger.debuggingHigh=JU.Logger.debugging&&JU.Logger._activeLevels[6]},"JU.LoggerInterface");b.isActiveLevel=c(b,"isActiveLevel",function(a){return null!=JU.Logger._logger&&
0<=a&&7>a&&JU.Logger._activeLevels[a]},"~N");b.setActiveLevel=c(b,"setActiveLevel",function(a,d){0>a&&(a=0);7<=a&&(a=6);JU.Logger._activeLevels[a]=d;JU.Logger.debugging=JU.Logger.isActiveLevel(5)||JU.Logger.isActiveLevel(6);JU.Logger.debuggingHigh=JU.Logger.debugging&&JU.Logger._activeLevels[6]},"~N,~B");b.setLogLevel=c(b,"setLogLevel",function(a){for(var d=7;0<=--d;)JU.Logger.setActiveLevel(d,d<=a)},"~N");b.getLevel=c(b,"getLevel",function(a){switch(a){case 6:return"DEBUGHIGH";case 5:return"DEBUG";
case 4:return"INFO";case 3:return"WARN";case 2:return"ERROR";case 1:return"FATAL"}return"????"},"~N");b.logLevel=c(b,"logLevel",function(){return JU.Logger._logLevel});b.doLogLevel=c(b,"doLogLevel",function(a){JU.Logger._logLevel=a},"~B");b.debug=c(b,"debug",function(a){if(JU.Logger.debugging)try{JU.Logger._logger.debug(a)}catch(d){}},"~S");b.info=c(b,"info",function(a){try{JU.Logger.isActiveLevel(4)&&JU.Logger._logger.info(a)}catch(d){}},"~S");b.warn=c(b,"warn",function(a){try{JU.Logger.isActiveLevel(3)&&
JU.Logger._logger.warn(a)}catch(d){}},"~S");b.warnEx=c(b,"warnEx",function(a,d){try{JU.Logger.isActiveLevel(3)&&JU.Logger._logger.warnEx(a,d)}catch(b){}},"~S,Throwable");b.error=c(b,"error",function(a){try{JU.Logger.isActiveLevel(2)&&JU.Logger._logger.error(a)}catch(d){}},"~S");b.errorEx=c(b,"errorEx",function(a,d){try{JU.Logger.isActiveLevel(2)&&JU.Logger._logger.errorEx(a,d)}catch(b){}},"~S,Throwable");b.getLogLevel=c(b,"getLogLevel",function(){for(var a=7;0<=--a;)if(JU.Logger.isActiveLevel(a))return a;
return 0});b.fatal=c(b,"fatal",function(a){try{JU.Logger.isActiveLevel(1)&&JU.Logger._logger.fatal(a)}catch(d){}},"~S");b.fatalEx=c(b,"fatalEx",function(a,d){try{JU.Logger.isActiveLevel(1)&&JU.Logger._logger.fatalEx(a,d)}catch(b){}},"~S,Throwable");b.startTimer=c(b,"startTimer",function(a){null!=a&&JU.Logger.htTiming.put(a,Long.$valueOf(System.currentTimeMillis()))},"~S");b.getTimerMsg=c(b,"getTimerMsg",function(a,d){0==d&&(d=JU.Logger.getTimeFrom(a));return"Time for "+a+": "+d+" ms"},"~S,~N");b.getTimeFrom=
c(b,"getTimeFrom",function(a){var d;return null==a||null==(d=JU.Logger.htTiming.get(a))?-1:System.currentTimeMillis()-d.longValue()},"~S");b.checkTimer=c(b,"checkTimer",function(a,d){var b=JU.Logger.getTimeFrom(a);0<=b&&!a.startsWith("(")&&JU.Logger.info(JU.Logger.getTimerMsg(a,b));d&&JU.Logger.startTimer(a);return b},"~S,~B");b.checkMemory=c(b,"checkMemory",function(){JU.Logger.info("Memory: Total-Free=0; Total=0; Free=0; Max=0")});b._logger=b.prototype._logger=new JU.DefaultLogger;E(b,"_activeLevels",
fa(7,!1),"_logLevel",!1,"debugging",!1,"debuggingHigh",!1);JU.Logger._activeLevels[6]=JU.Logger.getProperty("debugHigh",!1);JU.Logger._activeLevels[5]=JU.Logger.getProperty("debug",!1);JU.Logger._activeLevels[4]=JU.Logger.getProperty("info",!0);JU.Logger._activeLevels[3]=JU.Logger.getProperty("warn",!0);JU.Logger._activeLevels[2]=JU.Logger.getProperty("error",!0);JU.Logger._activeLevels[1]=JU.Logger.getProperty("fatal",!0);JU.Logger._logLevel=JU.Logger.getProperty("logLevel",!1);JU.Logger.debugging=
null!=JU.Logger._logger&&(JU.Logger._activeLevels[5]||JU.Logger._activeLevels[6]);JU.Logger.debuggingHigh=JU.Logger.debugging&&JU.Logger._activeLevels[6];b.htTiming=b.prototype.htTiming=new java.util.Hashtable});t("JU");C(JU,"LoggerInterface");t("J.api");C(J.api,"JmolJDXMOLParser");t("J.api");C(J.api,"JmolJDXMOLReader");t("J.jsv");v(["J.api.JmolJDXMOLParser"],"J.jsv.JDXMOLParser","java.util.Hashtable JU.BS $.Lst $.PT $.SB JU.Logger".split(" "),function(){var b=q(function(){this.line=null;this.lastModel=
"";this.baseModel=this.thisModelID=null;this.vibScale=0;this.loader=this.piUnitsY=this.piUnitsX=null;this.modelIdList="";this.peakFilePath=this.peakIndex=null;s(this,arguments)},J.jsv,"JDXMOLParser",null,J.api.JmolJDXMOLParser);p(b,function(){});e(b,"set",function(a,d,b){this.loader=a;this.peakFilePath=d;this.peakIndex=D(1,0);null!=b&&(b.remove("modelNumber"),b.containsKey("zipSet")&&(this.peakIndex=b.get("peakIndex"),null==this.peakIndex&&(this.peakIndex=D(1,0),b.put("peakIndex",this.peakIndex)),
b.containsKey("subFileName")||(this.peakFilePath=JU.PT.split(d,"|")[0])));return this},"J.api.JmolJDXMOLReader,~S,java.util.Map");e(b,"getAttribute",function(a,d){var b=JU.PT.getQuotedAttribute(a,d);return null==b?"":b},"~S,~S");e(b,"getRecord",function(a){if(null==this.line||0>this.line.indexOf(a))return null;for(a=this.line;0>a.indexOf(">");)a+=" "+this.readLine();return this.line=a},"~S");e(b,"readModels",function(){if(!this.findRecord("Models"))return!1;this.thisModelID=this.line="";for(var a=
!0;;){this.line=this.loader.discardLinesUntilNonBlank();if(null==this.getRecord("<ModelData"))break;this.getModelData(a);a=!1}return!0});e(b,"readACDMolFile",function(){var a=new JU.SB;for(a.append(this.line.substring(this.line.indexOf("=")+1)).appendC("\n");null!=this.readLine()&&!this.line.contains("$$$$");)a.append(this.line).appendC("\n");return JU.PT.rep(a.toString(),"  $$ Empty String","")});e(b,"readACDAssignments",function(a,d){var b=new JU.Lst;try{this.readLine();0>a&&(a=2147483647);for(var c=
0;c<a;c++){var f=this.readLine();if(null==f||0==f.indexOf("#"))break;if(d){for(;0>f.indexOf(">");)f+=" "+this.readLine();f=f.trim()}f=JU.PT.replaceAllCharacters(f,"()<>"," ").trim();if(0==f.length)break;var e=f.indexOf("'");if(0<=e)var k=f.indexOf("'",e+1),f=f.substring(0,e)+JU.PT.rep(f.substring(e+1,k),",",";")+f.substring(k+1);JU.Logger.info("Peak Assignment: "+f);var j=JU.PT.split(f,",");b.addLast(j)}}catch(l){if(z(l,Exception))JU.Logger.error("Error reading peak assignments at "+this.line+": "+
l);else throw l;}return b},"~N,~B");e(b,"setACDAssignments",function(a,d,b,c,f){try{0<=b&&(this.peakIndex=D(-1,[b]));var e=0==d.indexOf("MASS"),k=" file="+JU.PT.esc(this.peakFilePath.$replace("\\","/"));a=" model="+JU.PT.esc(a+" (assigned)");this.piUnitsY=this.piUnitsX="";var j=this.getACDPeakWidth(d)/2,l=new java.util.Hashtable,r=new JU.Lst;b=null;var n,p,q=0;if(e){b=new java.util.Hashtable;for(var m=JU.PT.split(f,"M  ZZC"),s=m.length;1<=--s;){var t=JU.PT.getTokens(m[s]),q=Math.max(q,JU.PT.parseInt(t[0]));
b.put(t[1],t[0])}n=4;p=0}else 0<=d.indexOf("NMR")?(n=0,p=3):(n=0,p=2);for(var v=c.size(),s=0;s<v;s++){var u=c.get(s),w=JU.PT.parseFloat(u[n]),x=u[p],x=e?this.fixACDAtomList(x,b,q):x.$replace(";",",");if(0<=x.indexOf("select")){var y=x.indexOf("select atomno=");if(0>y)continue;x=JU.PT.split(x.substring(y+14)," ")[0]}var B=e?"m/z="+Math.round(w)+": "+u[2]+" ("+u[1]+")":2==p?""+Math.round(10*w)/10:null;this.getStringInfo(k,B,d,a,x,l,""+w,r,' atoms="%ATOMS%" xMin="'+(w-j)+'" xMax="'+(w+j)+'">')}return this.setPeakData(r,
0)}catch(C){if(z(C,Exception))return 0;throw C;}},"~S,~S,~N,JU.Lst,~S");c(b,"fixACDAtomList",function(a,d,b){a=a.trim();a=JU.PT.getTokens(a.$replace(";"," "));for(var c=new JU.BS,f=!1,e=0;e<a.length;e++){var k=a[e];(f=0<=k.indexOf("M"))&&(k="1-"+b);var j=k.indexOf("-");if(0<=j)for(var l=JU.PT.parseInt(k.substring(0,j)),k=JU.PT.parseInt(k.substring(j+1))+1;l<k;l++)c.set(f?l:JU.PT.parseInt(d.get(""+l)));else c.set(JU.PT.parseInt(d.get(k)))}d=c.toJSON();return d.substring(1,d.length-1)},"~S,java.util.Map,~N");
c(b,"getACDPeakWidth",function(a){return 0<=a.indexOf("HNMR")?0.05:0<=a.indexOf("CNMR")?1:0<=a.indexOf("MASS")?1:10},"~S");e(b,"readPeaks",function(a,d){try{0<=d&&(this.peakIndex=D(-1,[d]));var b=a?1:0,c=a?"Signals":"Peaks",f=a?"<Signal":"<PeakData";if(!this.findRecord(c))return 0;var e=" file="+JU.PT.esc(this.peakFilePath.$replace("\\","/")),k=JU.PT.getQuotedAttribute(this.line,"model"),k=" model="+JU.PT.esc(null==k?this.thisModelID:k),j=JU.PT.getQuotedAttribute(this.line,"type");this.piUnitsX=JU.PT.getQuotedAttribute(this.line,
"xLabel");this.piUnitsY=JU.PT.getQuotedAttribute(this.line,"yLabel");for(var l=new java.util.Hashtable,r=new JU.Lst;null!=this.readLine()&&!(this.line=this.line.trim()).startsWith("</"+c);)if(this.line.startsWith(f)){this.getRecord(f);JU.Logger.info(this.line);var n=JU.PT.getQuotedAttribute(this.line,"title");null==j&&(j=JU.PT.getQuotedAttribute(this.line,"type"));var p=JU.PT.getQuotedAttribute(this.line,"atoms"),q=I(100*JU.PT.parseFloat(JU.PT.getQuotedAttribute(this.line,"xMin")))+"_"+I(100*JU.PT.parseFloat(JU.PT.getQuotedAttribute(this.line,
"xMax")));this.getStringInfo(e,n,j,null==JU.PT.getQuotedAttribute(this.line,"model")?k:"",p,l,q,r,this.line.substring(f.length).trim())}return this.setPeakData(r,b)}catch(m){if(z(m,Exception))return 0;throw m;}},"~B,~N");c(b,"setPeakData",function(a,d){for(var b=0,c=a.size(),f=0;f<c;f++){var e=a.get(f),k=JU.PT.rep(e[0],"%INDEX%",""+ ++this.peakIndex[0]),j=e[1];if(null!=j){for(var e="",l=j.nextSetBit(0);0<=l;l=j.nextSetBit(l+1))e+=","+(l+d);j=j.cardinality();b+=j;k=JU.PT.rep(k,"%ATOMS%",e.substring(1));
k=JU.PT.rep(k,"%S%",1==j?"":"s");k=JU.PT.rep(k,"%NATOMS%",""+j)}JU.Logger.info("adding PeakData "+k);this.loader.addPeakData(k)}this.loader.setSpectrumPeaks(b,this.piUnitsX,this.piUnitsY);return c},"JU.Lst,~N");c(b,"getStringInfo",function(a,d,b,c,f,e,k,j,l){"HNMR".equals(b)?b="1HNMR":"CNMR".equals(b)&&(b="13CNMR");var r=null==b?"":" type="+JU.PT.esc(b);null==d&&(d="1HNMR".equals(b)?"atom%S%: %ATOMS%; integration: %NATOMS%":"");d=" title="+JU.PT.esc(d);a="<PeakData "+a+' index="%INDEX%"'+d+r+c+" "+
l;null!=f&&(a=JU.PT.rep(a,'atoms="'+f+'"','atoms="%ATOMS%"'));d=e.get(k);null==d&&(d=y(-1,[a,null==f?null:new JU.BS]),e.put(k,d),j.addLast(d));null!=f&&(e=d[1],f=f.$replace(","," "),f.equals("*")&&(f="0:1000"),e.or(JU.BS.unescape("({"+f+"})")))},"~S,~S,~S,~S,~S,java.util.Map,~S,JU.Lst,~S");c(b,"getModelData",function(a){this.lastModel=this.thisModelID;this.thisModelID=this.getAttribute(this.line,"id");var d=";"+this.thisModelID+";";if(0<=this.modelIdList.indexOf(d))this.line=this.loader.discardLinesUntilContains("</ModelData>");
else{this.modelIdList+=d;for(this.baseModel=this.getAttribute(this.line,"baseModel");0>this.line.indexOf(">")&&0>this.line.indexOf("type");)this.readLine();d=this.getAttribute(this.line,"type").toLowerCase();this.vibScale=JU.PT.parseFloat(this.getAttribute(this.line,"vibrationScale"));d.equals("xyzvib")?d="xyz":0==d.length&&(d=null);for(var b=new JU.SB;null!=this.readLine()&&!this.line.contains("</ModelData>");)b.append(this.line).appendC("\n");this.loader.processModelData(b.toString(),this.thisModelID,
d,this.baseModel,this.lastModel,NaN,this.vibScale,a)}},"~B");c(b,"findRecord",function(a){null==this.line&&this.readLine();null!=this.line&&0>this.line.indexOf("<"+a)&&(this.line=this.loader.discardLinesUntilContains2("<"+a,"##"));return null!=this.line&&0<=this.line.indexOf("<"+a)},"~S");c(b,"readLine",function(){return this.line=this.loader.rd()});e(b,"setLine",function(a){this.line=a},"~S")});t("JSV.api");C(JSV.api,"AnnotationData");t("JSV.api");C(JSV.api,"AppletFrame");t("JSV.api");v(["JSV.api.JSVAppletInterface"],
"JSV.api.JSVAppInterface",null,function(){C(JSV.api,"JSVAppInterface",JSV.api.JSVAppletInterface)});t("JSV.api");C(JSV.api,"JSVAppletInterface");t("JSV.api");C(JSV.api,"JSVFileHelper");t("JSV.api");v(["JSV.api.JSVViewPanel"],"JSV.api.JSVMainPanel",null,function(){C(JSV.api,"JSVMainPanel",JSV.api.JSVViewPanel)});t("JSV.api");v(["JSV.api.JSVViewPanel"],"JSV.api.JSVPanel",null,function(){C(JSV.api,"JSVPanel",JSV.api.JSVViewPanel)});t("JSV.api");C(JSV.api,"JSVTree");t("JSV.api");C(JSV.api,"JSVTreeNode");
t("JSV.api");C(JSV.api,"JSVTreePath");t("JSV.api");C(JSV.api,"JSVViewPanel");t("JSV.api");C(JSV.api,"JSVZipReader");t("JSV.api");C(JSV.api,"PanelListener");t("JSV.api");C(JSV.api,"ScriptInterface");t("JSV.app");v(["JSV.api.JSVAppInterface","$.PanelListener","$.ScriptInterface"],"JSV.app.JSVApp","java.lang.Double JU.Lst $.PT JSV.common.Coordinate $.JSVFileManager $.JSVersion $.JSViewer $.ScriptToken JU.Logger".split(" "),function(){var b=q(function(){this.appletFrame=null;this.isNewWindow=!1;this.prevPanel=
this.vwr=this.syncCallbackFunctionName=this.peakCallbackFunctionName=this.loadFileCallbackFunctionName=this.coordCallbackFunctionName=this.appletReadyCallbackFunctionName=null;s(this,arguments)},JSV.app,"JSVApp",null,[JSV.api.PanelListener,JSV.api.JSVAppInterface,JSV.api.ScriptInterface]);p(b,function(a,d){this.appletFrame=a;this.initViewer(d);this.initParams(a.getParameter("script"))},"JSV.api.AppletFrame,~B");c(b,"initViewer",function(a){this.vwr=new JSV.common.JSViewer(this,!0,a);this.appletFrame.setDropTargetListener(this.isSigned(),
this.vwr);a=this.appletFrame.getDocumentBase();JSV.common.JSVFileManager.setDocumentBase(this.vwr,a)},"~B");e(b,"isPro",function(){return this.isSigned()});e(b,"isSigned",function(){return!0});c(b,"getAppletFrame",function(){return this.appletFrame});c(b,"dispose",function(){try{this.vwr.dispose()}catch(a){if(z(a,Exception))a.printStackTrace();else throw a;}});e(b,"getPropertyAsJavaObject",function(a){return this.vwr.getPropertyAsJavaObject(a)},"~S");e(b,"getPropertyAsJSON",function(a){return JU.PT.toJSON(null,
this.getPropertyAsJavaObject(a))},"~S");e(b,"getCoordinate",function(){return this.vwr.getCoordinate()});e(b,"loadInline",function(a){this.siOpenDataOrFile(a,"[inline]",null,null,-1,-1,!0,null,null);this.appletFrame.validateContent(3)},"~S");e(b,"exportSpectrum",function(a,d){return this.vwr.$export(a,d)},"~S,~N");e(b,"setFilePath",function(a){this.runScript("load "+JU.PT.esc(a))},"~S");e(b,"setSpectrumNumber",function(a){this.runScript(JSV.common.ScriptToken.SPECTRUMNUMBER+" "+a)},"~N");e(b,"reversePlot",
function(){this.toggle(JSV.common.ScriptToken.REVERSEPLOT)});e(b,"toggleGrid",function(){this.toggle(JSV.common.ScriptToken.GRIDON)});e(b,"toggleCoordinate",function(){this.toggle(JSV.common.ScriptToken.COORDINATESON)});e(b,"togglePointsOnly",function(){this.toggle(JSV.common.ScriptToken.POINTSONLY)});e(b,"toggleIntegration",function(){this.toggle(JSV.common.ScriptToken.INTEGRATE)});c(b,"toggle",function(a){null!=this.vwr.selectedPanel&&this.runScript(a+" TOGGLE")},"JSV.common.ScriptToken");e(b,"addHighlight",
function(a,d,b,c,f,e){this.runScript("HIGHLIGHT "+a+" "+d+" "+b+" "+c+" "+f+" "+e)},"~N,~N,~N,~N,~N,~N");e(b,"removeHighlight",function(a,d){this.runScript("HIGHLIGHT "+a+" "+d+" OFF")},"~N,~N");e(b,"removeAllHighlights",function(){this.runScript("HIGHLIGHT OFF")});e(b,"syncScript",function(a){this.vwr.syncScript(a)},"~S");e(b,"writeStatus",function(a){JU.Logger.info(a)},"~S");c(b,"initParams",function(a){this.vwr.parseInitScript(a);this.newAppletPanel();this.vwr.setPopupMenu(this.vwr.allowMenu,this.vwr.parameters.getBoolean(JSV.common.ScriptToken.ENABLEZOOM));
this.vwr.allowMenu&&this.vwr.closeSource(null);this.runScriptNow(a)},"~S");c(b,"newAppletPanel",function(){JU.Logger.info("newAppletPanel");this.appletFrame.createMainPanel(this.vwr)});e(b,"repaint",function(){var a=null==this.vwr?null:this.vwr.html5Applet;null==JSV.common.JSViewer.jmolObject?this.appletFrame.repaint():null!=a&&JSV.common.JSViewer.jmolObject.repaint(a,!0)});c(b,"updateJS",function(){},"~N,~N");e(b,"runScriptNow",function(a){return this.vwr.runScriptNow(a)},"~S");c(b,"checkCallbacks",
function(){if(!(null==this.coordCallbackFunctionName&&null==this.peakCallbackFunctionName)){var a=new JSV.common.Coordinate,d=null==this.peakCallbackFunctionName?null:new JSV.common.Coordinate;if(this.vwr.pd().getPickedCoordinates(a,d)){var b=this.vwr.mainPanel.getCurrentPanelIndex();null==d?this.appletFrame.callToJavaScript(this.coordCallbackFunctionName,y(-1,[Double.$valueOf(a.getXVal()),Double.$valueOf(a.getYVal()),Integer.$valueOf(b+1)])):this.appletFrame.callToJavaScript(this.peakCallbackFunctionName,
y(-1,[Double.$valueOf(a.getXVal()),Double.$valueOf(a.getYVal()),Double.$valueOf(d.getXVal()),Double.$valueOf(d.getYVal()),Integer.$valueOf(b+1)]))}}});c(b,"doAdvanced",function(){},"~S");e(b,"panelEvent",function(a){x(a,"JSV.common.PeakPickEvent")?this.vwr.processPeakPickEvent(a,!1):x(a,"JSV.common.ZoomEvent")||x(a,"JSV.common.SubSpecChangeEvent")},"~O");e(b,"getSolnColour",function(){return this.vwr.getSolutionColorStr(!0)});c(b,"updateJSView",function(a){var d=this.vwr.html5Applet,b=null==d?null:
this.vwr.selectedPanel;d&&null!=d._viewSet&&d._updateView(b,a);d._updateView(b,a)},"~S");e(b,"syncToJmol",function(a){this.updateJSView(a);null!=this.syncCallbackFunctionName&&(JU.Logger.info("JSVApp.syncToJmol JSV>Jmol "+a),this.appletFrame.callToJavaScript(this.syncCallbackFunctionName,y(-1,[this.vwr.fullName,a])))},"~S");e(b,"setVisible",function(a){this.appletFrame.setPanelVisible(a)},"~B");e(b,"setCursor",function(a){this.vwr.apiPlatform.setCursor(a,this.appletFrame)},"~N");e(b,"runScript",function(a){this.vwr.runScript(a)},
"~S");e(b,"getScriptQueue",function(){return this.vwr.scriptQueue});e(b,"siSetCurrentSource",function(a){this.vwr.currentSource=a},"JSV.source.JDXSource");e(b,"siSendPanelChange",function(){this.vwr.selectedPanel!==this.prevPanel&&(this.prevPanel=this.vwr.selectedPanel,this.vwr.sendPanelChange())});e(b,"siNewWindow",function(a,d){this.isNewWindow=a;d?null!=this.vwr.jsvpPopupMenu&&this.vwr.jsvpPopupMenu.setSelected("Window",!1):this.appletFrame.newWindow(a)},"~B,~B");e(b,"siValidateAndRepaint",function(){var a=
this.vwr.pd();null!=a&&a.setTaintedAll();this.appletFrame.validate();this.repaint()},"~B");e(b,"siSyncLoad",function(a){this.newAppletPanel();JU.Logger.info("JSVP syncLoad reading "+a);this.siOpenDataOrFile(null,null,null,a,-1,-1,!1,null,null);this.appletFrame.validateContent(3)},"~S");e(b,"siOpenDataOrFile",function(a,d,b,c,f,e,k,j,l){switch(this.vwr.openDataOrFile(a,d,b,c,f,e,k,l)){case 0:null!=j&&this.runScript(j);break;case -1:return;default:this.siSetSelectedPanel(null);return}JU.Logger.info(this.appletFrame.getAppletInfo()+
" File "+this.vwr.currentSource.getFilePath()+" Loaded Successfully")},"~O,~S,JU.Lst,~S,~N,~N,~B,~S,~S");e(b,"siProcessCommand",function(a){this.vwr.runScriptNow(a)},"~S");e(b,"siSetSelectedPanel",function(a){this.vwr.mainPanel.setSelectedPanel(this.vwr,a,this.vwr.panelNodes);this.vwr.selectedPanel=a;this.vwr.spectraTree.setSelectedPanel(this,a);null==a&&(this.vwr.selectedPanel=a=this.appletFrame.getJSVPanel(this.vwr,null),this.vwr.mainPanel.setSelectedPanel(this.vwr,a,null));this.appletFrame.validate();
null!=a&&(a.setEnabled(!0),a.setFocusable(!0))},"JSV.api.JSVPanel");e(b,"siExecSetCallback",function(a,d){switch(a){case JSV.common.ScriptToken.APPLETREADYCALLBACKFUNCTIONNAME:this.appletReadyCallbackFunctionName=d;break;case JSV.common.ScriptToken.LOADFILECALLBACKFUNCTIONNAME:this.loadFileCallbackFunctionName=d;break;case JSV.common.ScriptToken.PEAKCALLBACKFUNCTIONNAME:this.peakCallbackFunctionName=d;break;case JSV.common.ScriptToken.SYNCCALLBACKFUNCTIONNAME:this.syncCallbackFunctionName=d;break;
case JSV.common.ScriptToken.COORDCALLBACKFUNCTIONNAME:this.coordCallbackFunctionName=d}},"JSV.common.ScriptToken,~S");e(b,"siLoaded",function(a){null!=this.loadFileCallbackFunctionName&&this.appletFrame.callToJavaScript(this.loadFileCallbackFunctionName,y(-1,[this.vwr.appletName,a]));this.updateJSView(null);return null},"~S");e(b,"siExecHidden",function(){},"~B");e(b,"siExecScriptComplete",function(a,d){d||this.vwr.showMessage(a);this.siValidateAndRepaint(!1)},"~S,~B");e(b,"siUpdateBoolean",function(){},
"JSV.common.ScriptToken,~B");e(b,"siCheckCallbacks",function(){this.checkCallbacks()},"~S");e(b,"siNodeSet",function(){this.appletFrame.validateContent(2);this.siValidateAndRepaint(!1)},"JSV.common.PanelNode");e(b,"siSourceClosed",function(){},"JSV.source.JDXSource");e(b,"siGetNewJSVPanel",function(a){if(null==a)return this.vwr.initialEndIndex=this.vwr.initialStartIndex=-1,null;var d=new JU.Lst;d.addLast(a);a=this.appletFrame.getJSVPanel(this.vwr,d);a.getPanelData().addListener(this);this.vwr.parameters.setFor(a,
null,!0);return a},"JSV.common.Spectrum");e(b,"siGetNewJSVPanel2",function(a){if(null==a)return this.vwr.initialEndIndex=this.vwr.initialStartIndex=-1,this.appletFrame.getJSVPanel(this.vwr,null);a=this.appletFrame.getJSVPanel(this.vwr,a);this.vwr.initialEndIndex=this.vwr.initialStartIndex=-1;a.getPanelData().addListener(this);this.vwr.parameters.setFor(a,null,!0);return a},"JU.Lst");e(b,"siSetPropertiesFromPreferences",function(){this.vwr.checkAutoIntegrate()},"JSV.api.JSVPanel,~B");e(b,"siSetLoaded",
function(){},"~S,~S");e(b,"siSetMenuEnables",function(){},"JSV.common.PanelNode,~B");e(b,"siUpdateRecentMenus",function(){},"~S");e(b,"siExecTest",function(){this.loadInline("")},"~S");e(b,"print",function(a){return this.vwr.print(a)},"~S");e(b,"checkScript",function(a){return this.vwr.checkScript(a)},"~S");b.getAppletInfo=c(b,"getAppletInfo",function(){return"JSpecView Applet "+JSV.common.JSVersion.VERSION+"\n\nAuthors:\nProf. Robert M. Hanson,\nD. Facey, K. Bryan, C. Walters, Prof. Robert J. Lancashire and\nvolunteer developers through sourceforge."})});
t("JSV.app");v(["J.api.GenericMouseInterface"],"JSV.app.GenericMouse",["JU.Logger"],function(){var b=q(function(){this.jsvp=this.pd=null;this.modifiersWhenPressed10=this.yWhenPressed=this.xWhenPressed=0;this.disposed=this.isMouseDown=!1;s(this,arguments)},JSV.app,"GenericMouse",null,J.api.GenericMouseInterface);p(b,function(a){this.jsvp=a;this.pd=a.getPanelData()},"JSV.api.JSVPanel");e(b,"clear",function(){});e(b,"processEvent",function(a,d,b,c,f){if(null==this.pd)return!this.disposed&&(501==a&&0!=
(c&4))&&this.jsvp.showMenu(d,b),!0;507!=a&&(c=JSV.app.GenericMouse.applyLeftMouse(c));switch(a){case 507:this.wheeled(f,d,c|32);break;case 501:this.xWhenPressed=d;this.yWhenPressed=b;this.modifiersWhenPressed10=c;this.pressed(f,d,b,c,!1);break;case 506:this.dragged(f,d,b,c);break;case 504:this.entered(f,d,b);break;case 505:this.exited(f,d,b);break;case 503:this.moved(f,d,b,c);break;case 502:this.released(f,d,b,c);d==this.xWhenPressed&&(b==this.yWhenPressed&&c==this.modifiersWhenPressed10)&&this.clicked(f,
d,b,c,1);break;default:return!1}return!0},"~N,~N,~N,~N,~N");c(b,"mouseEntered",function(a){this.entered(a.getWhen(),a.getX(),a.getY())},"java.awt.event.MouseEvent");c(b,"mouseExited",function(a){this.exited(a.getWhen(),a.getX(),a.getY())},"java.awt.event.MouseEvent");c(b,"mouseMoved",function(a){this.moved(a.getWhen(),a.getX(),a.getY(),a.getModifiers())},"java.awt.event.MouseEvent");c(b,"mousePressed",function(a){this.pressed(a.getWhen(),a.getX(),a.getY(),a.getModifiers(),a.isPopupTrigger())},"java.awt.event.MouseEvent");
c(b,"mouseDragged",function(a){var d=a.getModifiers();0==(d&28)&&(d|=16);this.dragged(a.getWhen(),a.getX(),a.getY(),d)},"java.awt.event.MouseEvent");c(b,"mouseReleased",function(a){this.released(a.getWhen(),a.getX(),a.getY(),a.getModifiers())},"java.awt.event.MouseEvent");c(b,"mouseClicked",function(a){this.clicked(a.getWhen(),a.getX(),a.getY(),a.getModifiers(),a.getClickCount())},"java.awt.event.MouseEvent");c(b,"mouseWheelMoved",function(a){a.consume();this.wheeled(a.getWhen(),a.getWheelRotation(),
a.getModifiers()|32)},"java.awt.event.MouseWheelEvent");c(b,"keyTyped",function(a){if(null!=this.pd){var d=a.getKeyChar(),b=a.getModifiers();JU.Logger.info("MouseManager keyTyped: "+d+" "+(0+d.charCodeAt(0))+" "+b);this.pd.keyTyped(d.charCodeAt(0),b)&&a.consume()}},"java.awt.event.KeyEvent");c(b,"keyPressed",function(a){null!=this.pd&&this.pd.keyPressed(a.getKeyCode(),a.getModifiers())&&a.consume()},"java.awt.event.KeyEvent");c(b,"keyReleased",function(a){null!=this.pd&&this.pd.keyReleased(a.getKeyCode())},
"java.awt.event.KeyEvent");e(b,"processKeyEvent",function(a){switch(a.getID()){case 401:this.keyPressed(a);break;case 402:this.keyReleased(a);break;case 400:this.keyTyped(a)}},"~O");c(b,"entered",function(a,d,b){null!=this.pd&&this.pd.mouseEnterExit(a,d,b,!1)},"~N,~N,~N");c(b,"exited",function(a,d,b){null!=this.pd&&this.pd.mouseEnterExit(a,d,b,!0)},"~N,~N,~N");c(b,"clicked",function(a,d,b,c){null!=this.pd&&this.pd.mouseAction(2,a,d,b,1,c)},"~N,~N,~N,~N,~N");c(b,"moved",function(a,d,b,c){null!=this.pd&&
(this.isMouseDown?this.pd.mouseAction(1,a,d,b,0,JSV.app.GenericMouse.applyLeftMouse(c)):this.pd.mouseAction(0,a,d,b,0,c&-29))},"~N,~N,~N,~N");c(b,"wheeled",function(a,d,b){null!=this.pd&&this.pd.mouseAction(3,a,0,d,0,b)},"~N,~N,~N");c(b,"pressed",function(a,d,b,c){null==this.pd?this.disposed||this.jsvp.showMenu(d,b):(this.isMouseDown=!0,this.pd.mouseAction(4,a,d,b,0,c))},"~N,~N,~N,~N,~B");c(b,"released",function(a,d,b,c){null!=this.pd&&(this.isMouseDown=!1,this.pd.mouseAction(5,a,d,b,0,c))},"~N,~N,~N,~N");
c(b,"dragged",function(a,d,b,c){null!=this.pd&&(20==(c&20)&&(c=c&-5|2),this.pd.mouseAction(1,a,d,b,0,c))},"~N,~N,~N,~N");b.applyLeftMouse=c(b,"applyLeftMouse",function(a){return 0==(a&28)?a|16:a},"~N");e(b,"processTwoPointGesture",function(){},"~A");e(b,"dispose",function(){this.jsvp=this.pd=null;this.disposed=!0})});t("JSV.appletjs");v(["javajs.api.JSInterface","JSV.api.AppletFrame","$.JSVAppletInterface"],"JSV.appletjs.JSVApplet","java.lang.Boolean java.net.URL java.util.Hashtable JU.PT JSV.app.JSVApp JSV.js2d.JsMainPanel $.JsPanel JU.Logger".split(" "),
function(){var b=q(function(){this.viewer=this.app=null;this.isStandalone=!1;this.htParams=this.viewerOptions=null;s(this,arguments)},JSV.appletjs,"JSVApplet",null,[JSV.api.JSVAppletInterface,JSV.api.AppletFrame,javajs.api.JSInterface]);p(b,function(a){null==a&&(a=new java.util.Hashtable);this.viewerOptions=a;this.htParams=new java.util.Hashtable;var d;for(a=a.entrySet().iterator();a.hasNext()&&((d=a.next())||1);)this.htParams.put(d.getKey().toLowerCase(),d.getValue());this.init()},"java.util.Map");
c(b,"init",function(){this.app=new JSV.app.JSVApp(this,!0);this.initViewer();null!=this.app.appletReadyCallbackFunctionName&&null!=this.viewer.fullName&&this.callToJavaScript(this.app.appletReadyCallbackFunctionName,y(-1,[this.viewer.appletName,this.viewer.fullName,Boolean.TRUE,this]))});c(b,"initViewer",function(){this.viewer=this.app.vwr;this.setLogging();this.viewerOptions.remove("debug");var a=this.viewerOptions.get("display"),a=document.getElementById(a);this.viewer.setDisplay(a);JU.Logger.info(this.getAppletInfo())});
c(b,"setLogging",function(){var a=this.getValue("logLevel",this.getBooleanValue("debug",!1)?"5":"4").charCodeAt(0)-48;4!=a&&System.out.println("setting logLevel="+a+' -- To change, use script "set logLevel [0-5]"');JU.Logger.setLogLevel(a)});c(b,"getParameter",function(a){a=this.htParams.get(a.toLowerCase());return null==a?null:String.instantialize(a.toString())},"~S");c(b,"getBooleanValue",function(a,d){var b=this.getValue(a,d?"true":"");return b.equalsIgnoreCase("true")||b.equalsIgnoreCase("on")||
b.equalsIgnoreCase("yes")},"~S,~B");c(b,"getValue",function(a,d){var b=this.getParameter(a);System.out.println("getValue "+a+" = "+b);return null!=b?b:d},"~S,~S");e(b,"isPro",function(){return this.app.isPro()});e(b,"isSigned",function(){return this.app.isSigned()});e(b,"destroy",function(){this.app.dispose();this.app=null});c(b,"getParameter",function(a,d){return this.isStandalone?System.getProperty(a,d):null!=this.getParameter(a)?this.getParameter(a):d},"~S,~S");e(b,"getAppletInfo",function(){return JSV.app.JSVApp.getAppletInfo()});
e(b,"getSolnColour",function(){return this.app.getSolnColour()});e(b,"getCoordinate",function(){return this.app.getCoordinate()});e(b,"loadInline",function(a){this.app.loadInline(a)},"~S");c(b,"$export",function(a,d){return this.app.exportSpectrum(a,d)},"~S,~N");e(b,"exportSpectrum",function(a,d){return this.app.exportSpectrum(a,d)},"~S,~N");e(b,"setFilePath",function(a){this.app.setFilePath(a)},"~S");e(b,"setSpectrumNumber",function(a){this.app.setSpectrumNumber(a)},"~N");e(b,"toggleGrid",function(){this.app.toggleGrid()});
e(b,"toggleCoordinate",function(){this.app.toggleCoordinate()});e(b,"togglePointsOnly",function(){this.app.togglePointsOnly()});e(b,"toggleIntegration",function(){this.app.toggleIntegration()});e(b,"addHighlight",function(a,d,b,c,f,e){this.app.addHighlight(a,d,b,c,f,e)},"~N,~N,~N,~N,~N,~N");e(b,"removeAllHighlights",function(){this.app.removeAllHighlights()});e(b,"removeHighlight",function(a,d){this.app.removeHighlight(a,d)},"~N,~N");e(b,"reversePlot",function(){this.app.reversePlot()});c(b,"script",
function(a){this.app.initParams(a)},"~S");e(b,"runScript",function(a){this.app.runScript(a)},"~S");e(b,"syncScript",function(a){this.app.syncScript(a)},"~S");e(b,"writeStatus",function(a){this.app.writeStatus(a)},"~S");e(b,"getPropertyAsJavaObject",function(a){return this.app.getPropertyAsJavaObject(a)},"~S");e(b,"getPropertyAsJSON",function(a){return this.app.getPropertyAsJSON(a)},"~S");e(b,"runScriptNow",function(a){return this.app.runScriptNow(a)},"~S");e(b,"print",function(a){return this.app.print(a)},
"~S");e(b,"setDropTargetListener",function(){},"~B,JSV.common.JSViewer");e(b,"validateContent",function(){},"~N");e(b,"createMainPanel",function(a){a.mainPanel=new JSV.js2d.JsMainPanel},"JSV.common.JSViewer");e(b,"newWindow",function(){},"~B");e(b,"callToJavaScript",function(a,d){var b=JU.PT.split(a,".");try{for(var c=window[b[0]],f=1;f<b.length;f++)c=c[b[f]];return c(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9])}catch(e){System.out.println(a+" failed "+e)}},"~S,~A");e(b,"setPanelVisible",function(){},
"~B");e(b,"getJSVPanel",function(a,d){return null==d?JSV.js2d.JsPanel.getEmptyPanel(a):JSV.js2d.JsPanel.getPanelMany(a,d)},"JSV.common.JSViewer,JU.Lst");e(b,"setVisible",function(){},"~B");e(b,"getDocumentBase",function(){try{return new java.net.URL(X("java.net.URL"),this.viewerOptions.get("documentBase"),null)}catch(a){if(z(a,"java.net.MalformedURLException"))return null;throw a;}});e(b,"repaint",function(){});e(b,"validate",function(){});e(b,"doExitJmol",function(){});e(b,"getApp",function(){return this.app});
e(b,"setStatusDragDropped",function(){return!0},"~N,~N,~N,~S,~A");e(b,"cacheFileByName",function(){return 0},"~S,~B");e(b,"cachePut",function(){},"~S,~O");e(b,"getFullName",function(){return this.app.vwr.fullName});e(b,"processMouseEvent",function(a,d,b,c,f){return this.app.vwr.processMouseEvent(a,d,b,c,f)},"~N,~N,~N,~N,~N");e(b,"setDisplay",function(a){this.app.vwr.setDisplay(a)},"~O");e(b,"startHoverWatcher",function(){},"~B");e(b,"update",function(){this.app.vwr.updateJS()});c(b,"openFile",function(a){this.app.vwr.openFile(a,
!0);return null},"~S");e(b,"openFileAsyncSpecial",function(a,d){this.app.vwr.openFileAsyncSpecial(a,d)},"~S,~N");e(b,"openFileAsyncSpecialType",function(a,d){this.openFileAsyncSpecial(a,d)},"~S,~N,~S");e(b,"processTwoPointGesture",function(a){this.app.vwr.processTwoPointGesture(a)},"~A");e(b,"setScreenDimension",function(a,d){this.app.vwr.setScreenDimension(a,d)},"~N,~N");e(b,"checkScript",function(a){a=this.app.checkScript(a);null!=a&&System.out.println(a);return a},"~S");e(b,"processKeyEvent",function(){},
"~O")});t("JSV.common");v(["java.lang.Enum","JSV.common.Coordinate"],"JSV.common.Annotation",["java.lang.Double","JU.CU"],function(){var b=q(function(){this.text="";this.is2D=this.$isPixels=!1;this.offsetY=this.offsetX=0;this.spec=null;s(this,arguments)},JSV.common,"Annotation",JSV.common.Coordinate);c(b,"setA",function(a,d,b,c,f,e,k,j){this.set(a,d);this.spec=b;this.text=c;this.$isPixels=f;this.is2D=e;this.offsetX=k;this.offsetY=j;return this},"~N,~N,JSV.common.Spectrum,~S,~B,~B,~N,~N");c(b,"setSpec",
function(a){this.spec=a;return this},"JSV.common.Spectrum");c(b,"addSpecShift",function(a){this.setXVal(this.getXVal()+a)},"~N");c(b,"isPixels",function(){return this.$isPixels});e(b,"toString",function(){return"["+this.getXVal()+", "+this.getYVal()+","+this.text+"]"});b.getColoredAnnotation=c(b,"getColoredAnnotation",function(a,d,b,c){var f,e=0,k=1,j=2,l=3,r=b.size();try{switch(r){default:return null;case 1:f=b.get(0);e=k=-1;'"'==f.charAt(0)?(l=0,j=-1):(j=0,l=-1);break;case 2:e=k=-1;f=b.get(0);'"'==
f.charAt(0)?(l=0,j=1):(j=0,l=1);break;case 3:case 4:f=b.get(2),'"'==f.charAt(0)?(l=2,j=4==r?3:-1):(j=2,l=4==r?3:-1),f=b.get(2),'"'==f.charAt(0)?(l=2,j=-1):(j=2,l=-1)}if(null==c&&(0>e||0>k||0>l||0>j))return null;var n=0>e?c.getXVal():Double.$valueOf(b.get(e)).doubleValue(),p=0>k?c.getYVal():Double.$valueOf(b.get(k)).doubleValue(),q=0>j?c.getColor():a.getColor1(JU.CU.getArgbFromString(b.get(j))),m;0>l?m=c.text:(m=b.get(l),'"'==m.charAt(0)&&(m=m.substring(1,m.length-1)));return(new JSV.common.ColoredAnnotation).setCA(n,
p,d,m,q,!1,!1,0,0)}catch(s){if(z(s,Exception))return null;throw s;}},"J.api.GenericGraphics,JSV.common.Spectrum,JU.Lst,JSV.common.Annotation");b=u(JSV.common.Annotation,"AType",Enum);m(b,"Integration",0,[]);m(b,"PeakList",1,[]);m(b,"Measurements",2,[]);m(b,"OverlayLegend",3,[]);m(b,"Views",4,[]);m(b,"NONE",5,[])});t("JSV.common");v(["JSV.common.Annotation"],"JSV.common.ColoredAnnotation",null,function(){var b=q(function(){this.color=null;s(this,arguments)},JSV.common,"ColoredAnnotation",JSV.common.Annotation);
c(b,"getColor",function(){return this.color});p(b,function(){B(this,JSV.common.ColoredAnnotation,[])});c(b,"setCA",function(a,d,b,c,f,e,k,j,l){this.setA(a,d,b,c,e,k,j,l);this.color=f;return this},"~N,~N,JSV.common.Spectrum,~S,javajs.api.GenericColor,~B,~B,~N,~N")});t("JSV.common");v(["JSV.common.Parameters"],"JSV.common.ColorParameters",["java.util.Hashtable","$.StringTokenizer","JU.CU","$.Lst","JSV.common.ScriptToken"],function(){var b=q(function(){this.plotColors=this.elementColors=this.displayFontName=
this.titleFontName=null;this.isDefault=!1;s(this,arguments)},JSV.common,"ColorParameters",JSV.common.Parameters);p(b,function(){B(this,JSV.common.ColorParameters,[]);JSV.common.ColorParameters.BLACK=this.getColor3(0,0,0);JSV.common.ColorParameters.RED=this.getColor3(255,0,0);JSV.common.ColorParameters.LIGHT_GRAY=this.getColor3(200,200,200);JSV.common.ColorParameters.DARK_GRAY=this.getColor3(80,80,80);JSV.common.ColorParameters.BLUE=this.getColor3(0,0,255);JSV.common.ColorParameters.WHITE=this.getColor3(255,
255,255);this.elementColors=new java.util.Hashtable;this.setColor(JSV.common.ScriptToken.TITLECOLOR,JSV.common.ColorParameters.BLACK);this.setColor(JSV.common.ScriptToken.UNITSCOLOR,JSV.common.ColorParameters.RED);this.setColor(JSV.common.ScriptToken.SCALECOLOR,JSV.common.ColorParameters.BLACK);this.setColor(JSV.common.ScriptToken.COORDINATESCOLOR,JSV.common.ColorParameters.RED);this.setColor(JSV.common.ScriptToken.GRIDCOLOR,JSV.common.ColorParameters.LIGHT_GRAY);this.setColor(JSV.common.ScriptToken.PLOTCOLOR,
JSV.common.ColorParameters.BLUE);this.setColor(JSV.common.ScriptToken.PLOTAREACOLOR,JSV.common.ColorParameters.WHITE);this.setColor(JSV.common.ScriptToken.BACKGROUNDCOLOR,this.getColor3(192,192,192));this.setColor(JSV.common.ScriptToken.INTEGRALPLOTCOLOR,JSV.common.ColorParameters.RED);this.setColor(JSV.common.ScriptToken.PEAKTABCOLOR,JSV.common.ColorParameters.RED);this.setColor(JSV.common.ScriptToken.HIGHLIGHTCOLOR,JSV.common.ColorParameters.DARK_GRAY);for(var a=0;8>a;a++)JSV.common.ColorParameters.defaultPlotColors[a]=
this.getColorFromString(JSV.common.ColorParameters.defaultPlotColorNames[a]);this.plotColors=Array(8);System.arraycopy(JSV.common.ColorParameters.defaultPlotColors,0,this.plotColors,0,8)});c(b,"setFor",function(a,d,b){null==d&&(d=this);b&&a.getPanelData().setBooleans(d,null);a=a.getPanelData();null!=a.getCurrentPlotColor(1)&&a.setPlotColors(this.plotColors);a.setColorOrFont(d,null)},"JSV.api.JSVPanel,JSV.common.ColorParameters,~B");c(b,"set",function(a,d,b){var c=null;switch(d){default:this.setP(a,
d,b);return;case JSV.common.ScriptToken.PLOTCOLORS:null==a?this.getPlotColors(b):a.setPlotColors(this.getPlotColors(b));return;case JSV.common.ScriptToken.BACKGROUNDCOLOR:case JSV.common.ScriptToken.COORDINATESCOLOR:case JSV.common.ScriptToken.GRIDCOLOR:case JSV.common.ScriptToken.HIGHLIGHTCOLOR:case JSV.common.ScriptToken.INTEGRALPLOTCOLOR:case JSV.common.ScriptToken.PEAKTABCOLOR:case JSV.common.ScriptToken.PLOTAREACOLOR:case JSV.common.ScriptToken.PLOTCOLOR:case JSV.common.ScriptToken.SCALECOLOR:case JSV.common.ScriptToken.TITLECOLOR:case JSV.common.ScriptToken.UNITSCOLOR:c=
this.setColorFromString(d,b);break;case JSV.common.ScriptToken.TITLEFONTNAME:case JSV.common.ScriptToken.DISPLAYFONTNAME:c=this.getFontName(d,b)}null!=a&&null!=c&&a.setColorOrFont(this,d)},"JSV.common.PanelData,JSV.common.ScriptToken,~S");c(b,"getElementColor",function(a){return this.elementColors.get(a)},"JSV.common.ScriptToken");c(b,"setColor",function(a,d){null!=d&&this.elementColors.put(a,d);return d},"JSV.common.ScriptToken,javajs.api.GenericColor");c(b,"copy",function(){return this.copy(this.name)});
c(b,"setElementColors",function(a){this.displayFontName=a.displayFontName;var d;for(a=a.elementColors.entrySet().iterator();a.hasNext()&&((d=a.next())||1);)this.setColor(d.getKey(),d.getValue());return this},"JSV.common.ColorParameters");c(b,"getColorFromString",function(a){return this.getColor1(JU.CU.getArgbFromString(a))},"~S");c(b,"getPlotColors",function(a){if(null==a)return this.plotColors[0]=this.getElementColor(JSV.common.ScriptToken.PLOTCOLOR),this.plotColors;a=new java.util.StringTokenizer(a,
",;.- ");var d=new JU.Lst;try{for(;a.hasMoreTokens();)d.addLast(this.getColorFromString(a.nextToken()))}catch(b){if(z(b,Exception))return null;throw b;}return d.toArray(Array(d.size()))},"~S");c(b,"setColorFromString",function(a,d){return this.setColor(a,this.getColorFromString(d))},"JSV.common.ScriptToken,~S");c(b,"getFontName",function(a,d){var b=this.isValidFontName(d);switch(a){case JSV.common.ScriptToken.TITLEFONTNAME:return b?this.titleFontName=d:this.titleFontName;case JSV.common.ScriptToken.DISPLAYFONTNAME:return b?
this.displayFontName=d:this.displayFontName}return null},"JSV.common.ScriptToken,~S");E(b,"BLACK",null,"RED",null,"LIGHT_GRAY",null,"DARK_GRAY",null,"BLUE",null,"WHITE",null);b.defaultPlotColors=b.prototype.defaultPlotColors=Array(8);b.defaultPlotColorNames=b.prototype.defaultPlotColorNames=y(-1,"black darkGreen darkred orange magenta cyan maroon darkGray".split(" "))});t("JSV.common");n=u(JSV.common,"CoordComparator",null,java.util.Comparator);e(n,"compare",function(b,a){return b.getXVal()>a.getXVal()?
1:b.getXVal()<a.getXVal()?-1:0},"JSV.common.Coordinate,JSV.common.Coordinate");t("JSV.common");v(["JSV.common.CoordComparator"],"JSV.common.Coordinate",["java.lang.Double","java.util.Arrays","$.StringTokenizer","JU.Lst"],function(){var b=q(function(){this.yVal=this.xVal=0;s(this,arguments)},JSV.common,"Coordinate");p(b,function(){});c(b,"set",function(a,d){this.xVal=a;this.yVal=d;return this},"~N,~N");c(b,"getXVal",function(){return this.xVal});c(b,"getYVal",function(){return this.yVal});c(b,"setXVal",
function(a){this.xVal=a},"~N");c(b,"setYVal",function(a){this.yVal=a},"~N");c(b,"copy",function(){return(new JSV.common.Coordinate).set(this.xVal,this.yVal)});c(b,"equals",function(a){return a.xVal==this.xVal&&a.yVal==this.yVal},"JSV.common.Coordinate");e(b,"toString",function(){return"["+this.xVal+", "+this.yVal+"]"});b.isYInRange=c(b,"isYInRange",function(a,d,b){return JSV.common.Coordinate.getMinY(a,0,a.length-1)>=d&&JSV.common.Coordinate.getMaxY(a,0,a.length-1)>=b},"~A,~N,~N");b.normalise=c(b,
"normalise",function(a,d,b){var c=Array(a.length),f=JSV.common.Coordinate.getMinY(a,0,a.length-1);b=(JSV.common.Coordinate.getMaxY(a,0,a.length-1)-f)/(b-d);for(var e=0;e<a.length;e++)c[e]=(new JSV.common.Coordinate).set(a[e].getXVal(),(a[e].getYVal()-f)/b-d);return c},"~A,~N,~N");b.reverse=c(b,"reverse",function(a){for(var d=a.length,b=0;b<d;b++){var c=a[b];a[b]=a[--d];a[d]=c}return a},"~A");b.parseDSV=c(b,"parseDSV",function(a,d,b){var c,f=c=0,e=new JU.Lst;for(a=new java.util.StringTokenizer(a," \t\n\r\f,;");a.hasMoreTokens();)c=
a.nextToken().trim(),f=a.nextToken().trim(),c=Double.parseDouble(c),f=Double.parseDouble(f),c=(new JSV.common.Coordinate).set(c*d,f*b),e.addLast(c);d=Array(e.size());return e.toArray(d)},"~S,~N,~N");b.deltaX=c(b,"deltaX",function(a,d,b){return(a-d)/(b-1)},"~N,~N,~N");b.removeScale=c(b,"removeScale",function(a,d,b){JSV.common.Coordinate.applyScale(a,1/d,1/b)},"~A,~N,~N");b.applyScale=c(b,"applyScale",function(a,d,b){if(1!=d||1!=b)for(var c=0;c<a.length;c++)a[c].setXVal(a[c].getXVal()*d),a[c].setYVal(a[c].getYVal()*
b)},"~A,~N,~N");b.getMinX=c(b,"getMinX",function(a,d,b){for(var c=1.7976931348623157E308;d<=b;d++){var f=a[d].getXVal();f<c&&(c=f)}return c},"~A,~N,~N");b.getMinX=c(b,"getMinX",function(a,d){for(var b=1.7976931348623157E308,c=0;c<a.size();c++){var f=a.get(c).getXYCoords(),f=JSV.common.Coordinate.getMinX(f,d.getStartingPointIndex(c),d.getEndingPointIndex(c));f<b&&(b=f)}return b},"JU.Lst,JSV.common.ViewData");b.getMaxX=c(b,"getMaxX",function(a,d,b){for(var c=-1.7976931348623157E308;d<=b;d++){var f=
a[d].getXVal();f>c&&(c=f)}return c},"~A,~N,~N");b.getMaxX=c(b,"getMaxX",function(a,d){for(var b=-1.7976931348623157E308,c=0;c<a.size();c++){var f=a.get(c).getXYCoords(),f=JSV.common.Coordinate.getMaxX(f,d.getStartingPointIndex(c),d.getEndingPointIndex(c));f>b&&(b=f)}return b},"JU.Lst,JSV.common.ViewData");b.getMinY=c(b,"getMinY",function(a,d,b){for(var c=1.7976931348623157E308;d<=b;d++){var f=a[d].getYVal();f<c&&(c=f)}return c},"~A,~N,~N");b.getMinYUser=c(b,"getMinYUser",function(a,d){for(var b=1.7976931348623157E308,
c=0;c<a.size();c++){var f=a.get(c).getUserYFactor(),e=a.get(c).getYRef(),k=a.get(c).getXYCoords(),f=(JSV.common.Coordinate.getMinY(k,d.getStartingPointIndex(c),d.getEndingPointIndex(c))-e)*f+e;f<b&&(b=f)}return b},"JU.Lst,JSV.common.ViewData");b.getMaxY=c(b,"getMaxY",function(a,d,b){for(var c=-1.7976931348623157E308;d<=b;d++){var f=a[d].getYVal();f>c&&(c=f)}return c},"~A,~N,~N");b.getMaxYUser=c(b,"getMaxYUser",function(a,d){for(var b=-1.7976931348623157E308,c=0;c<a.size();c++){var f=a.get(c).getUserYFactor(),
e=a.get(c).getYRef(),k=a.get(c).getXYCoords(),f=(JSV.common.Coordinate.getMaxY(k,d.getStartingPointIndex(c),d.getEndingPointIndex(c))-e)*f+e;f>b&&(b=f)}return b},"JU.Lst,JSV.common.ViewData");b.getYValueAt=c(b,"getYValueAt",function(a,d){var b=JSV.common.Coordinate.getNearestIndexForX(a,d);if(0==b||b==a.length)return NaN;var c=a[b].getXVal(),f=a[b-1].getXVal(),e=a[b].getYVal(),b=a[b-1].getYVal();return c==f?e:b+(e-b)/(c-f)*(d-f)},"~A,~N");b.intoRange=c(b,"intoRange",function(a,d,b){return Math.max(Math.min(a,
b),d)},"~N,~N,~N");b.getNearestIndexForX=c(b,"getNearestIndexForX",function(a,d){var b=(new JSV.common.Coordinate).set(d,0),b=java.util.Arrays.binarySearch(a,b,JSV.common.Coordinate.c);0>b&&(b=-1-b);return 0>b?0:b>a.length-1?a.length-1:b},"~A,~N");b.findXForPeakNearest=c(b,"findXForPeakNearest",function(a,d,b){d=JSV.common.Coordinate.getNearestIndexForX(a,d);for(b=b?-1:1;d<a.length-1&&0<b*(a[d+1].yVal-a[d].yVal);)d++;for(;1<=d&&0<b*(a[d-1].yVal-a[d].yVal);)d--;return 0==d||d==a.length-1?a[d].xVal:
JSV.common.Coordinate.parabolicInterpolation(a,d)},"~A,~N,~B");b.parabolicInterpolation=c(b,"parabolicInterpolation",function(a,d){var b=a[d-1].yVal,c=a[d+1].yVal;return a[d].xVal+(b-c)/2/(b-2*a[d].yVal+c)*(a[d+1].xVal-a[d].xVal)},"~A,~N");b.getPickedCoordinates=c(b,"getPickedCoordinates",function(a,d,b,c){if(null==d)return!1;var f=d.getXVal();b.setXVal(f);b.setYVal(d.getYVal());if(null==c)return!0;d=JSV.common.Coordinate.getNearestIndexForX(a,f);c.setXVal(a[d].getXVal());c.setYVal(a[d].getYVal());
return!0},"~A,JSV.common.Coordinate,JSV.common.Coordinate,JSV.common.Coordinate");b.shiftX=c(b,"shiftX",function(a,d){for(var b=a.length;0<=--b;)a[b].xVal+=d},"~A,~N");b.getNearestXWithYAbove=c(b,"getNearestXWithYAbove",function(a,d,b,c,f){d=JSV.common.Coordinate.getNearestIndexForX(a,d);var e=c?-1:1;if(f)for(;d<a.length&&0>e*(a[d].yVal-b);)d++;else for(;0<=d&&0>e*(a[d].yVal-b);)d--;return-1==d||d==a.length?NaN:JSV.common.Coordinate.findXForPeakNearest(a,a[d].getXVal(),c)},"~A,~N,~N,~B,~B");b.c=b.prototype.c=
new JSV.common.CoordComparator});t("JSV.common");v(["java.lang.Enum"],"JSV.common.ExportType",null,function(){var b=u(JSV.common,"ExportType",Enum);b.getType=c(b,"getType",function(a){a=a.toUpperCase();if(a.equalsIgnoreCase("Original..."))return JSV.common.ExportType.SOURCE;if(a.startsWith("XML"))return JSV.common.ExportType.AML;for(var d,b=0,c=JSV.common.ExportType.values();b<c.length&&((d=c[b])||1);b++)if(d.name().equals(a))return d;return JSV.common.ExportType.UNK},"~S");b.isExportMode=c(b,"isExportMode",
function(a){return JSV.common.ExportType.getType(a)!==JSV.common.ExportType.UNK},"~S");m(b,"UNK",0,[]);m(b,"SOURCE",1,[]);m(b,"DIF",2,[]);m(b,"FIX",3,[]);m(b,"SQZ",4,[]);m(b,"PAC",5,[]);m(b,"XY",6,[]);m(b,"DIFDUP",7,[]);m(b,"PNG",8,[]);m(b,"JPG",9,[]);m(b,"SVG",10,[]);m(b,"SVGI",11,[]);m(b,"CML",12,[]);m(b,"AML",13,[]);m(b,"PDF",14,[])});t("JSV.common");v(["JSV.common.XYScaleConverter","java.util.Hashtable","JU.BS","$.Lst","JSV.common.Coordinate"],"JSV.common.GraphSet","java.lang.Boolean $.Double $.Float JU.DF $.PT JSV.common.Annotation $.ColorParameters $.ColoredAnnotation $.ImageView $.IntegralData $.Measurement $.MeasurementData $.PanelData $.Parameters $.PeakData $.PeakPickEvent $.PlotWidget $.ScaleData $.ScriptToken $.Spectrum $.ViewData JU.Logger".split(" "),
function(){var b=q(function(){this.gs2dLinkedY=this.gs2dLinkedX=null;this.cur1D2Locked=!1;this.spectra=this.highlights=null;this.allowStacking=this.isSplittable=!0;this.widgets=this.graphsTemp=this.pendingIntegral=this.pendingMeasurement=this.lastAnnotation=this.selectedSpectrumIntegrals=this.selectedSpectrumMeasurements=this.annotations=null;this.haveSingleYScale=this.isLinked=!1;this.iSpectrumClicked=this.iSpectrumMovedTo=0;this.iSpectrumSelected=-1;this.stackSelected=!1;this.viewData=this.bsSelected=
null;this.reversePlot=!1;this.nSplit=1;this.yStackOffsetPercent=0;this.showAllStacked=!0;this.pd=this.imageView=this.viewList=null;this.sticky2Dcursor=!1;this.nSpectra=0;this.fracY=this.fracX=1;this.fY0=this.fX0=0;this.cur2Dy=this.cur1D2x2=this.cur1D2x1=this.cur2Dx1=this.cur2Dx0=this.pin2Dy01=this.pin2Dx01=this.pin2Dy1=this.pin2Dy0=this.pin2Dx1=this.pin2Dx0=this.pin1Dy01=this.pin1Dx01=this.pin1Dy1=this.pin1Dy0=this.pin1Dx1=this.pin1Dx0=this.zoomBox2D=this.zoomBox1D=null;this.xPixels0=this.xPixel10=
this.yPixels=this.xPixels=this.yPixel000=this.yPixel11=this.xPixel11=this.yPixel00=this.xPixel00=this.yHArrows=this.xHArrows=this.xVArrows=this.yPixel1=this.xPixel1=this.yPixel0=this.xPixel0=0;this.allowStackedYScale=!0;this.drawXAxisLeftToRight=!1;this.xAxisLeftToRight=!0;this.iPreviousSpectrumClicked=-1;this.zoomEnabled=this.$haveSelectedSpectrum=!1;this.currentZoomIndex=0;this.lastClickX=NaN;this.lastPixelX=2147483647;this.bottom=this.left=this.top=this.right=this.width=this.height=0;this.coordTemp=
this.piMouseOver=null;this.FONT_PLAIN=0;this.FONT_BOLD=1;this.FONT_ITALIC=2;this.is2DSpectrum=!1;this.selectedIntegral=this.selectedMeasurement=null;this.lastXMax=NaN;this.lastSpecClicked=-1;this.inPlotMove=!1;this.xPixelMovedTo2=this.xPixelMovedTo=-1;this.xValueMovedTo=this.yValueMovedTo=0;this.haveLeftRightArrows=!1;this.yPixelPlot1=this.yPixelPlot0=this.xPixelPlot0=this.xPixelPlot1=0;this.nextClickForSetPeak=null;this.splitterY=this.splitterX=this.closerY=this.closerX=0;this.mapX=null;M("JSV.common.GraphSet.Highlight")||
JSV.common.GraphSet.$GraphSet$Highlight$();this.widgetsAreSet=!0;this.nextClickMode=this.lastIntDragX=0;this.gMain=this.g2d=this.plotColors=this.image2D=this.jsvp=this.aIntegrationRatios=this.dialogs=null;this.COLOR_GREY=-3;this.COLOR_BLACK=-2;this.COLOR_INTEGRAL=-1;s(this,arguments)},JSV.common,"GraphSet",null,JSV.common.XYScaleConverter);H(b,function(){this.highlights=new JU.Lst;this.spectra=new JU.Lst;this.graphsTemp=new JU.Lst;this.bsSelected=new JU.BS;this.coordTemp=new JSV.common.Coordinate;
this.mapX=new java.util.Hashtable});p(b,function(a){this.pd=a;this.jsvp=a.jsvp;this.g2d=a.g2d},"JSV.common.PanelData");c(b,"setSpectrumMovedTo",function(a){return this.iSpectrumMovedTo=a},"~N");c(b,"setSpectrumClicked",function(a){this.stackSelected=this.showAllStacked;if(0>a||this.iSpectrumClicked!=a)this.lastClickX=NaN,this.lastPixelX=2147483647;this.iSpectrumClicked=this.setSpectrumSelected(this.setSpectrumMovedTo(a))},"~N");c(b,"setSpectrumSelected",function(a){var d=a!=this.iSpectrumSelected;
this.iSpectrumSelected=a;d&&this.getCurrentView();return this.iSpectrumSelected},"~N");c(b,"closeDialogsExcept",function(a){if(null!=this.dialogs)for(var d,b=this.dialogs.entrySet().iterator();b.hasNext()&&((d=b.next())||1);){var c=d.getValue();c.isDialog()&&(a===JSV.common.Annotation.AType.NONE||c.getAType()!==a)&&c.setVisible(!1)}},"JSV.common.Annotation.AType");c(b,"dispose",function(){this.widgets=this.graphsTemp=this.imageView=this.pendingMeasurement=this.lastAnnotation=this.annotations=this.viewList=
this.viewData=this.spectra=null;this.disposeImage();if(null!=this.dialogs)for(var a,d=this.dialogs.entrySet().iterator();d.hasNext()&&((a=d.next())||1);){var b=a.getValue();b.isDialog()&&b.dispose()}this.dialogs=null});c(b,"isDrawNoSpectra",function(){return-2147483648==this.iSpectrumSelected});c(b,"getFixedSelectedSpectrumIndex",function(){return Math.max(this.iSpectrumSelected,0)});c(b,"getSpectrum",function(){return this.getSpectrumAt(this.getFixedSelectedSpectrumIndex()).getCurrentSubSpectrum()});
c(b,"getSpectrumAt",function(a){return this.spectra.get(a)},"~N");c(b,"getSpectrumIndex",function(a){for(var d=this.spectra.size();0<=--d;)if(this.spectra.get(d)===a)return d;return-1},"JSV.common.Spectrum");c(b,"addSpec",function(a){this.spectra.addLast(a);this.nSpectra++},"JSV.common.Spectrum");c(b,"splitStack",function(a){a&&this.isSplittable?(this.nSplit=this.nSpectra,this.showAllStacked=!1,this.setSpectrumClicked(this.iSpectrumSelected),this.pd.currentSplitPoint=this.iSpectrumSelected):(this.nSplit=
1,this.showAllStacked=this.allowStacking&&!a,this.setSpectrumClicked(this.iSpectrumSelected));this.stackSelected=!1;JSV.common.GraphSet.setFractionalPositions(this.pd,this.pd.graphSets,JSV.common.PanelData.LinkMode.NONE);this.pd.setTaintedAll()},"~B");c(b,"setPositionForFrame",function(a){0>a&&(a=0);var d=this.height-50;this.xPixel00=w(this.width*this.fX0);this.xPixel11=w(this.xPixel00+this.width*this.fracX-1);this.xHArrows=this.xPixel00+25;this.xVArrows=this.xPixel11-w(this.right/2);this.xPixel0=
this.xPixel00+w(this.left*(1-this.fX0));this.xPixel10=this.xPixel1=this.xPixel11-this.right;this.xPixels0=this.xPixels=this.xPixel1-this.xPixel0+1;this.yPixel000=(0==this.fY0?25:0)+w(this.height*this.fY0);this.yPixel00=this.yPixel000+w(d*this.fracY*a);this.yPixel11=this.yPixel00+w(d*this.fracY)-1;this.yHArrows=this.yPixel11-12;this.yPixel0=this.yPixel00+w(this.top/2);this.yPixel1=this.yPixel11-w(this.bottom/2);this.yPixels=this.yPixel1-this.yPixel0+1;null!=this.imageView&&this.is2DSpectrum&&(this.setImageWindow(),
this.pd.display1D?(this.xPixels=w(Math.floor(0.8*(this.pd.display1D?1*(this.xPixels0-this.imageView.xPixels)/this.xPixels0:1)*this.xPixels0)),this.xPixel1=this.xPixel0+this.xPixels-1):(this.xPixels=0,this.xPixel1=this.imageView.xPixel0-30))},"~N");c(b,"hasPoint",function(a,d){return a>=this.xPixel00&&a<=this.xPixel11&&d>=this.yPixel000&&d<=this.yPixel11*this.nSplit},"~N,~N");c(b,"isInPlotRegion",function(a,d){return a>=this.xPixel0&&a<=this.xPixel1&&d>=this.yPixel0&&d<=this.yPixel1},"~N,~N");c(b,
"getSplitPoint",function(a){return Math.max(0,Math.min(w((a-this.yPixel000)/(this.yPixel11-this.yPixel00)),this.nSplit-1))},"~N");c(b,"isSplitWidget",function(a,d){return this.isFrameBox(a,d,this.splitterX,this.splitterY)},"~N,~N");c(b,"isCloserWidget",function(a,d){return this.isFrameBox(a,d,this.closerX,this.closerY)},"~N,~N");c(b,"initGraphSet",function(a,d){null==JSV.common.GraphSet.veryLightGrey&&(JSV.common.GraphSet.veryLightGrey=this.g2d.getColor3(200,200,200));this.setPlotColors(JSV.common.ColorParameters.defaultPlotColors);
this.xAxisLeftToRight=this.getSpectrumAt(0).shouldDisplayXAxisIncreasing();this.setDrawXAxis();var b=D(this.nSpectra,0),c=D(this.nSpectra,0);this.bsSelected.setBits(0,this.nSpectra);this.allowStackedYScale=!0;0>=d&&(d=2147483647);this.isSplittable=1<this.nSpectra;this.showAllStacked=(this.allowStacking=this.spectra.get(0).isStackable())&&1<this.nSpectra;for(var f=0;f<this.nSpectra;f++){var e=this.spectra.get(f).getXYCoords().length-1;b[f]=JSV.common.Coordinate.intoRange(a,0,e);c[f]=JSV.common.Coordinate.intoRange(d,
0,e);this.allowStackedYScale=(new Boolean(this.allowStackedYScale&(this.spectra.get(f).getYUnits().equals(this.spectra.get(0).getYUnits())&&this.spectra.get(f).getUserYFactor()==this.spectra.get(0).getUserYFactor()))).valueOf()}this.getView(0,0,0,0,b,c,null,null);this.viewList=new JU.Lst;this.viewList.addLast(this.viewData)},"~N,~N");c(b,"getView",function(a,d,b,c,f,e,k,j){var l=0==this.graphsTemp.size()?this.spectra:this.graphsTemp,r=this.getSpectrumAt(0).getSubSpectra(),n=null==r||2==r.size()&&
r.get(1).isImaginary(),p=!this.getSpectrumAt(0).is1D();n&&b==c?l=this.spectra:b==c&&(this.viewData=new JSV.common.ViewData(r,b,c,this.getSpectrum().isContinuous()),l=null);null!=l&&(this.viewData=new JSV.common.ViewData(l,b,c,f,e,this.getSpectrumAt(0).isContinuous(),p),a!=d&&this.getScale().setXRange(a,d));null!=k&&(JSV.common.ScaleData.copyScaleFactors(k,this.viewData.getScaleData()),null!=j&&JSV.common.ScaleData.copyYScales(j,this.viewData.getScaleData()),this.getCurrentView())},"~N,~N,~N,~N,~A,~A,~A,~A");
c(b,"isNearby",function(a,d,b,c){var f=a.getXVal(),e=b.toPixelX(f);a=this.toPixelY(a.getYVal());f=d.getXVal();b=b.toPixelX(f);d=this.toPixelY(d.getYVal());return Math.abs(e-b)+Math.abs(a-d)<c},"JSV.common.Coordinate,JSV.common.Coordinate,JSV.common.XYScaleConverter,~N");c(b,"setReversePlot",function(a){(this.reversePlot=a)&&this.closeDialogsExcept(JSV.common.Annotation.AType.NONE);this.setDrawXAxis()},"~B");c(b,"setDrawXAxis",function(){this.drawXAxisLeftToRight=(new Boolean(this.xAxisLeftToRight^
this.reversePlot)).valueOf();for(var a=0;a<this.spectra.size();a++)this.spectra.get(a).setExportXAxisDirection(this.drawXAxisLeftToRight)});c(b,"isInTopBar",function(a,d){return a==this.fixX(a)&&d>this.pin1Dx0.yPixel0-2&&d<this.pin1Dx0.yPixel1},"~N,~N");c(b,"isInTopBar2D",function(a,d){return null!=this.imageView&&a==this.imageView.fixX(a)&&d>this.pin2Dx0.yPixel0-2&&d<this.pin2Dx0.yPixel1},"~N,~N");c(b,"isInRightBar",function(a,d){return d==this.fixY(d)&&a>this.pin1Dy0.xPixel1&&a<this.pin1Dy0.xPixel0+
2},"~N,~N");c(b,"isInRightBar2D",function(a,d){return null!=this.imageView&&d==this.fixY(d)&&a>this.pin2Dy0.xPixel1&&a<this.pin2Dy0.xPixel0+2},"~N,~N");c(b,"toX0",function(a){return this.viewList.get(0).getScale().toX0(this.fixX(a),this.xPixel0,this.xPixel1,this.drawXAxisLeftToRight)},"~N");c(b,"toY0",function(a){return this.viewList.get(0).getScale().toY0(this.fixY(a),this.yPixel0,this.yPixel1)},"~N");e(b,"toX",function(a){return null!=this.imageView&&this.imageView.isXWithinRange(a)?this.imageView.toX(a):
this.getScale().toX(this.fixX(a),this.xPixel1,this.drawXAxisLeftToRight)},"~N");e(b,"toY",function(a){return this.getScale().toY(a,this.yPixel0)},"~N");c(b,"toPixelX",function(a){return this.getScale().toPixelX(a,this.xPixel0,this.xPixel1,this.drawXAxisLeftToRight)},"~N");c(b,"toPixelY",function(a){return this.getScale().toPixelY(a,this.yPixel1)},"~N");c(b,"toPixelX0",function(a){return this.viewList.get(0).getScale().toPixelX0(a,this.xPixel0,this.xPixel1,this.drawXAxisLeftToRight)},"~N");c(b,"toPixelY0",
function(a){return this.fixY(this.viewList.get(0).getScale().toPixelY0(a,this.yPixel0,this.yPixel1))},"~N");c(b,"fixX",function(a){return JSV.common.Coordinate.intoRange(a,this.xPixel0,this.xPixel1)},"~N");c(b,"fixY",function(a){return JSV.common.Coordinate.intoRange(a,this.yPixel0,this.yPixel1)},"~N");c(b,"getXPixel0",function(){return this.xPixel0});c(b,"getXPixels",function(){return this.xPixels});e(b,"getYPixels",function(){return this.yPixels});c(b,"getScale",function(){return this.viewData.getScale()});
c(b,"toPixelYint",function(a){return this.yPixel1-w(Double.isNaN(a)?-2147483648:this.yPixels*a)},"~N");c(b,"findAnnotation2D",function(a){for(var d=this.annotations.size();0<=--d;){var b=this.annotations.get(d);if(this.isNearby(b,a,this.imageView,10))return b}return null},"JSV.common.Coordinate");c(b,"addAnnotation",function(a,d){null==this.annotations&&(this.annotations=new JU.Lst);for(var b=!1,c=this.annotations.size();0<=--c;)if(a.is2D?this.isNearby(this.annotations.get(c),a,this.imageView,10):
a.equals(this.annotations.get(c)))b=!0,this.annotations.removeItemAt(c);0<a.text.length&&(!b||!d)&&this.annotations.addLast(a)},"JSV.common.Annotation,~B");c(b,"setImageWindow",function(){this.imageView.setPixelWidthHeight(w((this.pd.display1D?0.6:1)*this.xPixels0),this.yPixels);this.imageView.setXY0(this.getSpectrumAt(0),w(Math.floor(this.xPixel10-this.imageView.xPixels)),this.yPixel0)});c(b,"findNearestMaxMin",function(){if(1<this.nSpectra&&0>this.iSpectrumClicked)return!1;this.xValueMovedTo=this.getSpectrum().findXForPeakNearest(this.xValueMovedTo);
this.setXPixelMovedTo(this.xValueMovedTo,1.7976931348623157E308,0,0);return!Double.isNaN(this.xValueMovedTo)});c(b,"setXPixelMovedTo",function(a,d,b,c){1.7976931348623157E308==a&&1.7976931348623157E308==d?(this.xPixelMovedTo=b,this.xPixelMovedTo2=c,this.isLinked&&this.sticky2Dcursor&&this.pd.setlinkedXMove(this,this.toX(this.xPixelMovedTo),!1)):(1.7976931348623157E308!=a&&(this.xPixelMovedTo=this.toPixelX(a),this.fixX(this.xPixelMovedTo)!=this.xPixelMovedTo&&(this.xPixelMovedTo=-1),this.xPixelMovedTo2=
-1,1E10!=a&&this.setSpectrumClicked(this.getFixedSelectedSpectrumIndex())),1.7976931348623157E308!=d&&(this.xPixelMovedTo2=this.toPixelX(d)))},"~N,~N,~N,~N");c(b,"processPendingMeasurement",function(a,d,b){if(!this.isInPlotRegion(a,d)||this.is2dClick(a,d))this.pendingMeasurement=null;else{var c=this.toX(a),f=this.toY(d),e=c;switch(b){case 0:this.pendingMeasurement.setPt2(this.toX(a),this.toY(d));break;case 3:case 2:if(0>this.iSpectrumClicked)break;var k=this.spectra.get(this.iSpectrumClicked);this.setScale(this.iSpectrumClicked);
3!=b&&(b=this.findMeasurement(this.selectedSpectrumMeasurements,a,d,1),null!=b?(c=b.getXVal(),f=b.getYVal()):null!=(b=this.findMeasurement(this.selectedSpectrumMeasurements,a,d,2))?(c=b.getXVal2(),f=b.getYVal2()):c=this.getNearestPeak(k,c,f));this.pendingMeasurement=(new JSV.common.Measurement).setM1(c,f,k);this.pendingMeasurement.setPt2(e,f);this.pd.setTaintedAll();this.pd.repaint();break;case 1:case -2:case -3:for(e=null!=this.pendingMeasurement&&this.isVisible(this.getDialog(JSV.common.Annotation.AType.Measurements,
-1));e;){this.setScale(this.getSpectrumIndex(this.pendingMeasurement.spec));if(3!=b){if(!this.findNearestMaxMin()){e=!1;break}a=this.xPixelMovedTo}c=this.toX(a);f=this.toY(d);this.pendingMeasurement.setPt2(c,f);if(0==this.pendingMeasurement.text.length){e=!1;break}this.setMeasurement(this.pendingMeasurement);if(1!=b){e=!1;break}this.setSpectrumClicked(this.getSpectrumIndex(this.pendingMeasurement.spec));this.pendingMeasurement=(new JSV.common.Measurement).setM1(c,f,this.pendingMeasurement.spec);break}e||
(this.pendingMeasurement=null);this.pd.setTaintedAll();this.pd.repaint();break;case 5:this.findNearestMaxMin()?(a=this.getFixedSelectedSpectrumIndex(),Double.isNaN(this.lastXMax)||this.lastSpecClicked!=a||null==this.pendingMeasurement?(this.lastXMax=this.xValueMovedTo,this.lastSpecClicked=a,this.pendingMeasurement=(new JSV.common.Measurement).setM1(this.xValueMovedTo,this.yValueMovedTo,this.spectra.get(a))):(this.pendingMeasurement.setPt2(this.xValueMovedTo,this.yValueMovedTo),0<this.pendingMeasurement.text.length&&
this.setMeasurement(this.pendingMeasurement),this.pendingMeasurement=null,this.lastXMax=NaN)):this.lastXMax=NaN}}},"~N,~N,~N");c(b,"checkIntegralNormalizationClick",function(a,d){if(null==this.selectedSpectrumIntegrals)return!1;var b=this.findMeasurement(this.selectedSpectrumIntegrals,a,d,-5);if(null==b)return!1;this.selectedIntegral=b;this.pd.normalizeIntegral();this.updateDialog(JSV.common.Annotation.AType.Integration,-1);this.setSpectrumClicked(this.getSpectrumIndex(b.spec));return!0},"~N,~N");
c(b,"getNearestPeak",function(a,d,b){var c=JSV.common.Coordinate.getNearestXWithYAbove(a.getXYCoords(),d,b,a.isInverted(),!1);a=JSV.common.Coordinate.getNearestXWithYAbove(a.getXYCoords(),d,b,a.isInverted(),!0);return Double.isNaN(c)?a:Double.isNaN(a)?c:Math.abs(c-d)<Math.abs(a-d)?c:a},"JSV.common.Spectrum,~N,~N");c(b,"findMeasurement",function(a,d,b,c){if(null==a||0==a.size())return null;if(0==c){var f=this.findMeasurement(a,d,b,-1);return null!=f||x(a.get(0),"JSV.common.Integral")?f:this.findMeasurement(a,
d,b,-2)}for(var e=a.size();0<=--e;){var f=a.get(e),k,j,l,r;x(f,"JSV.common.Integral")?(k=j=this.toPixelX(f.getXVal2()),l=this.toPixelYint(f.getYVal()),r=this.toPixelYint(f.getYVal2())):(k=this.toPixelX(f.getXVal()),j=this.toPixelX(f.getXVal2()),l=r=-2==c?this.yPixel1-2:this.toPixelY(f.getYVal()));switch(c){case 1:if(4>Math.abs(d-k)+Math.abs(b-l))return f;break;case 2:if(4>Math.abs(d-j)+Math.abs(b-r))return f;break;case -5:l=r=w((l+r)/2),j=k+20;default:case -1:case -2:if(JSV.common.GraphSet.isOnLine(d,
b,k,l,j,r))return f}}return null},"JSV.common.MeasurementData,~N,~N,~N");c(b,"setMeasurement",function(a){var d=this.getSpectrumIndex(a.spec),b=this.getDialog(JSV.common.Annotation.AType.Measurements,d);null==b&&this.addDialog(d,JSV.common.Annotation.AType.Measurements,b=new JSV.common.MeasurementData(JSV.common.Annotation.AType.Measurements,a.spec));b.getData().addLast(a.copyM());this.updateDialog(JSV.common.Annotation.AType.Measurements,-1)},"JSV.common.Measurement");c(b,"checkArrowUpDownClick",
function(a,d){var b=!1,c=this.isArrowClick(a,d,3)?JSV.common.GraphSet.RT2:this.isArrowClick(a,d,4)?1/JSV.common.GraphSet.RT2:0;if(0!=c){1<this.nSplit&&this.setSpectrumSelected(this.iSpectrumMovedTo);if((1==this.nSpectra||0<=this.iSpectrumSelected)&&this.spectra.get(this.getFixedSelectedSpectrumIndex()).isTransmittance())c=1/c;this.viewData.scaleSpectrum(null==this.imageView?this.iSpectrumSelected:-2,c);b=!0}else this.isArrowClick(a,d,-1)&&(this.resetViewCompletely(),b=!0);b&&(null!=this.imageView&&
(this.update2dImage(!1),this.resetPinsFromView()),this.pd.setTaintedAll());return b},"~N,~N");c(b,"resetViewCompletely",function(){this.clearViews();this.showAllStacked&&!this.stackSelected&&this.closeDialogsExcept(JSV.common.Annotation.AType.NONE);this.viewData.resetScaleFactors();this.updateDialogs()});c(b,"checkArrowLeftRightClick",function(a,d){if(this.haveLeftRightArrows){var b=this.isArrowClick(a,d,1)?-1:this.isArrowClick(a,d,2)?1:0;if(0!=b)return b=this.iSpectrumSelected+b,0>b&&(b=this.nSpectra-
1),this.setSpectrumClicked(b%this.nSpectra),!0;if(this.isArrowClick(a,d,0)){if(this.showAllStacked)return this.showAllStacked=!1,this.setSpectrumClicked(this.getFixedSelectedSpectrumIndex()),!0;this.showAllStacked=this.allowStacking;this.setSpectrumSelected(-1);this.stackSelected=!1}}return!1},"~N,~N");c(b,"isArrowClick",function(a,d,b){switch(b){case 3:case 4:case -1:return b=w((this.yPixel00+this.yPixel11)/2)+15*(3==b?-1:4==b?1:0),10>Math.abs(this.xVArrows-a)&&10>Math.abs(b-d);case 1:case 2:case 0:return b=
this.xHArrows+15*(1==b?-1:2==b?1:0),10>Math.abs(b-a)&&10>Math.abs(this.yHArrows-d)}return!1},"~N,~N,~N");c(b,"setWidgetValueByUser",function(a){var d;d=a===this.cur2Dy?""+this.imageView.toSubspectrumIndex(a.yPixel0):a===this.pin1Dx01?""+Math.min(this.pin1Dx0.getXVal(),this.pin1Dx1.getXVal())+" - "+Math.max(this.pin1Dx0.getXVal(),this.pin1Dx1.getXVal()):a===this.pin1Dy01?""+Math.min(this.pin1Dy0.getYVal(),this.pin1Dy1.getYVal())+" - "+Math.max(this.pin1Dy0.getYVal(),this.pin1Dy1.getYVal()):a===this.pin2Dx01?
""+Math.min(this.pin2Dx0.getXVal(),this.pin2Dx1.getXVal())+" - "+Math.max(this.pin2Dx0.getXVal(),this.pin2Dx1.getXVal()):a===this.pin2Dy01?""+w(Math.min(this.pin2Dy0.getYVal(),this.pin2Dy1.getYVal()))+" - "+w(Math.max(this.pin2Dy0.getYVal(),this.pin2Dy1.getYVal())):""+a.getValue();d=this.pd.getInput("New value?","Set Slider",d);if(null!=d){d=d.trim();try{if(a===this.pin1Dx01||a===this.pin1Dy01||a===this.pin2Dx01||a===this.pin2Dy01){var b=d.indexOf("-",1);if(!(0>b)){var c=Double.$valueOf(d.substring(0,
b)).doubleValue(),f=Double.$valueOf(d.substring(b+1)).doubleValue();a===this.pin1Dx01?this.doZoom(c,this.pin1Dy0.getYVal(),f,this.pin1Dy1.getYVal(),!0,!1,!1,!0,!0):a===this.pin1Dy01?this.doZoom(this.pin1Dx0.getXVal(),c,this.pin1Dx1.getXVal(),f,null==this.imageView,null==this.imageView,!1,!1,!0):a===this.pin2Dx01?(this.imageView.setView0(this.imageView.toPixelX0(c),this.pin2Dy0.yPixel0,this.imageView.toPixelX0(f),this.pin2Dy1.yPixel0),this.doZoom(c,this.pin1Dy0.getYVal(),f,this.pin1Dy1.getYVal(),!1,
!1,!1,!0,!0)):a===this.pin2Dy01&&(this.imageView.setView0(this.pin2Dx0.xPixel0,this.imageView.toPixelY0(c),this.pin2Dx1.xPixel0,this.imageView.toPixelY0(f)),this.doZoom(this.imageView.toX(this.imageView.xPixel0),this.getScale().minY,this.imageView.toX(this.imageView.xPixel0+this.imageView.xPixels-1),this.getScale().maxY,!1,!1,!1,!1,!0))}}else{var e=Double.$valueOf(d).doubleValue();a.isXtype?(f=a===this.pin1Dx0||a===this.cur2Dx0||a===this.pin2Dx0?this.pin1Dx1.getXVal():this.pin1Dx0.getXVal(),this.doZoom(e,
0,f,0,!a.is2D,!1,!1,!0,!0)):a===this.cur2Dy?this.setCurrentSubSpectrum(w(e)):a===this.pin2Dy0||a===this.pin2Dy1?(f=a===this.pin2Dy0?this.pin2Dy1.yPixel0:this.pin2Dy0.yPixel0,this.imageView.setView0(this.pin2Dx0.xPixel0,this.imageView.subIndexToPixelY(w(e)),this.pin2Dx1.xPixel0,f)):(f=a===this.pin1Dy0?this.pin1Dy1.getYVal():this.pin1Dy0.getYVal(),this.doZoom(this.pin1Dx0.getXVal(),e,this.pin1Dx1.getXVal(),f,null==this.imageView,null==this.imageView,!1,!1,!0))}}catch(k){if(!z(k,Exception))throw k;}}},
"JSV.common.PlotWidget");c(b,"removeAllHighlights",function(a){if(null==a)this.highlights.clear();else for(var d=this.highlights.size();0<=--d;)this.highlights.get(d).spectrum===a&&this.highlights.removeItemAt(d)},"JSV.common.Spectrum");c(b,"setCoordClicked",function(a,d,b){0==b&&(this.nextClickForSetPeak=null);if(Double.isNaN(d))return this.pd.coordClicked=null,this.pd.coordsClicked=null;this.pd.coordClicked=(new JSV.common.Coordinate).set(this.lastClickX=d,b);this.pd.coordsClicked=this.getSpectrum().getXYCoords();
this.pd.xPixelClicked=this.lastPixelX=a;return this.pd.coordClicked},"~N,~N,~N");c(b,"setWidgets",function(a,d,b){if(a||null==this.pin1Dx0)null==this.zoomBox1D?this.newPins():this.resetPinPositions();this.setDerivedPins(d);this.setPinSliderPositions(b)},"~B,~N,~B");c(b,"newPins",function(){this.zoomBox1D=new JSV.common.PlotWidget("zoomBox1D");this.pin1Dx0=new JSV.common.PlotWidget("pin1Dx0");this.pin1Dx1=new JSV.common.PlotWidget("pin1Dx1");this.pin1Dy0=new JSV.common.PlotWidget("pin1Dy0");this.pin1Dy1=
new JSV.common.PlotWidget("pin1Dy1");this.pin1Dx01=new JSV.common.PlotWidget("pin1Dx01");this.pin1Dy01=new JSV.common.PlotWidget("pin1Dy01");this.cur1D2x1=new JSV.common.PlotWidget("cur1D2x1");this.cur1D2x1.color=JSV.common.ScriptToken.PEAKTABCOLOR;this.cur1D2x2=new JSV.common.PlotWidget("cur1D2x2");this.cur1D2x2.color=JSV.common.ScriptToken.PEAKTABCOLOR;if(null!=this.imageView){this.zoomBox2D=new JSV.common.PlotWidget("zoomBox2D");this.pin2Dx0=new JSV.common.PlotWidget("pin2Dx0");this.pin2Dx1=new JSV.common.PlotWidget("pin2Dx1");
this.pin2Dy0=new JSV.common.PlotWidget("pin2Dy0");this.pin2Dy1=new JSV.common.PlotWidget("pin2Dy1");this.pin2Dx01=new JSV.common.PlotWidget("pin2Dx01");this.pin2Dy01=new JSV.common.PlotWidget("pin2Dy01");this.cur2Dx0=new JSV.common.PlotWidget("cur2Dx0");this.cur2Dx1=new JSV.common.PlotWidget("cur2Dx1");this.cur2Dy=new JSV.common.PlotWidget("cur2Dy");this.pin2Dy0.setY(0,this.imageView.toPixelY0(0));var a=this.getSpectrumAt(0).getSubSpectra().size();this.pin2Dy1.setY(a,this.imageView.toPixelY0(a))}this.setWidgetX(this.pin1Dx0,
this.getScale().minX);this.setWidgetX(this.pin1Dx1,this.getScale().maxX);this.setWidgetY(this.pin1Dy0,this.getScale().minY);this.setWidgetY(this.pin1Dy1,this.getScale().maxY);this.widgets=y(-1,[this.zoomBox1D,this.zoomBox2D,this.pin1Dx0,this.pin1Dx01,this.pin1Dx1,this.pin1Dy0,this.pin1Dy01,this.pin1Dy1,this.pin2Dx0,this.pin2Dx01,this.pin2Dx1,this.pin2Dy0,this.pin2Dy01,this.pin2Dy1,this.cur2Dx0,this.cur2Dx1,this.cur2Dy,this.cur1D2x1,this.cur1D2x2])});c(b,"setWidgetX",function(a,d){a.setX(d,this.toPixelX0(d))},
"JSV.common.PlotWidget,~N");c(b,"setWidgetY",function(a,d){a.setY(d,this.toPixelY0(d))},"JSV.common.PlotWidget,~N");c(b,"resetPinsFromView",function(){null!=this.pin1Dx0&&(this.setWidgetX(this.pin1Dx0,this.getScale().minXOnScale),this.setWidgetX(this.pin1Dx1,this.getScale().maxXOnScale),this.setWidgetY(this.pin1Dy0,this.getScale().minYOnScale),this.setWidgetY(this.pin1Dy1,this.getScale().maxYOnScale))});c(b,"resetPinPositions",function(){this.resetX(this.pin1Dx0);this.resetY(this.pin1Dy0);this.resetY(this.pin1Dy1);
null==this.imageView?(null!=this.gs2dLinkedX&&this.resetX(this.cur1D2x1),null!=this.gs2dLinkedY&&this.resetX(this.cur1D2x2)):(this.pin2Dy0.setY(this.pin2Dy0.getYVal(),this.imageView.toPixelY0(this.pin2Dy0.getYVal())),this.pin2Dy1.setY(this.pin2Dy1.getYVal(),this.imageView.toPixelY0(this.pin2Dy1.getYVal())))});c(b,"resetX",function(a){this.setWidgetX(a,a.getXVal())},"JSV.common.PlotWidget");c(b,"resetY",function(a){this.setWidgetY(a,a.getYVal())},"JSV.common.PlotWidget");c(b,"setPinSliderPositions",
function(a){this.pin1Dx0.yPixel0=this.pin1Dx1.yPixel0=this.pin1Dx01.yPixel0=this.yPixel0-5;this.pin1Dx0.yPixel1=this.pin1Dx1.yPixel1=this.pin1Dx01.yPixel1=this.yPixel0;this.cur1D2x1.yPixel1=this.cur1D2x2.yPixel1=this.yPixel0-5;this.cur1D2x1.yPixel0=this.cur1D2x2.yPixel0=this.yPixel1+6;null==this.imageView?(this.pin1Dy0.xPixel0=this.pin1Dy1.xPixel0=this.pin1Dy01.xPixel0=this.xPixel1+5,this.pin1Dy0.xPixel1=this.pin1Dy1.xPixel1=this.pin1Dy01.xPixel1=this.xPixel1):(this.pin1Dy0.xPixel0=this.pin1Dy1.xPixel0=
this.pin1Dy01.xPixel0=this.imageView.xPixel1+15,this.pin1Dy0.xPixel1=this.pin1Dy1.xPixel1=this.pin1Dy01.xPixel1=this.imageView.xPixel1+10,this.pin2Dx0.yPixel0=this.pin2Dx1.yPixel0=this.pin2Dx01.yPixel0=this.yPixel0-5,this.pin2Dx0.yPixel1=this.pin2Dx1.yPixel1=this.pin2Dx01.yPixel1=this.yPixel0,this.pin2Dy0.xPixel0=this.pin2Dy1.xPixel0=this.pin2Dy01.xPixel0=this.imageView.xPixel1+5,this.pin2Dy0.xPixel1=this.pin2Dy1.xPixel1=this.pin2Dy01.xPixel1=this.imageView.xPixel1,this.cur2Dx0.yPixel0=this.cur2Dx1.yPixel0=
this.yPixel1+6,this.cur2Dx0.yPixel1=this.cur2Dx1.yPixel1=this.yPixel0-5,this.cur2Dx0.yPixel0=this.cur2Dx1.yPixel0=this.yPixel1+6,this.cur2Dx1.yPixel1=this.cur2Dx1.yPixel1=this.yPixel0-5,this.cur2Dy.xPixel0=a?w((this.xPixel1+this.imageView.xPixel0)/2):this.imageView.xPixel0-6,this.cur2Dy.xPixel1=this.imageView.xPixel1+5)},"~B");c(b,"setDerivedPins",function(a){this.widgetsAreSet=!0;null!=this.gs2dLinkedX&&this.cur1D2x1.setX(this.cur1D2x1.getXVal(),this.toPixelX(this.cur1D2x1.getXVal()));null!=this.gs2dLinkedY&&
this.cur1D2x2.setX(this.cur1D2x2.getXVal(),this.toPixelX(this.cur1D2x2.getXVal()));this.pin1Dx01.setX(0,w((this.pin1Dx0.xPixel0+this.pin1Dx1.xPixel0)/2));this.pin1Dy01.setY(0,w((this.pin1Dy0.yPixel0+this.pin1Dy1.yPixel0)/2));this.pin1Dx01.setEnabled(Math.min(this.pin1Dx0.xPixel0,this.pin1Dx1.xPixel0)>this.xPixel0||Math.max(this.pin1Dx0.xPixel0,this.pin1Dx1.xPixel0)<this.xPixel1);this.pin1Dy01.setEnabled(Math.min(this.pin1Dy0.yPixel0,this.pin1Dy1.yPixel0)>Math.min(this.toPixelY(this.getScale().minY),
this.toPixelY(this.getScale().maxY))||Math.max(this.pin1Dy0.yPixel0,this.pin1Dy1.yPixel0)<Math.max(this.toPixelY(this.getScale().minY),this.toPixelY(this.getScale().maxY)));if(null!=this.imageView){var d=this.pin1Dx0.getXVal();this.cur2Dx0.setX(d,this.imageView.toPixelX(d));d=this.pin1Dx1.getXVal();this.cur2Dx1.setX(d,this.imageView.toPixelX(d));d=this.imageView.toX(this.imageView.xPixel0);this.pin2Dx0.setX(d,this.imageView.toPixelX0(d));d=this.imageView.toX(this.imageView.xPixel1);this.pin2Dx1.setX(d,
this.imageView.toPixelX0(d));this.pin2Dx01.setX(0,w((this.pin2Dx0.xPixel0+this.pin2Dx1.xPixel0)/2));d=this.imageView.imageHeight-1-this.imageView.yView1;this.pin2Dy0.setY(d,this.imageView.toPixelY0(d));d=this.imageView.imageHeight-1-this.imageView.yView2;this.pin2Dy1.setY(d,this.imageView.toPixelY0(d));this.pin2Dy01.setY(0,w((this.pin2Dy0.yPixel0+this.pin2Dy1.yPixel0)/2));this.cur2Dy.yPixel0=this.cur2Dy.yPixel1=this.imageView.subIndexToPixelY(a);this.pin2Dx01.setEnabled(Math.min(this.pin2Dx0.xPixel0,
this.pin2Dx1.xPixel0)!=this.imageView.xPixel0||Math.max(this.pin2Dx0.xPixel0,this.pin2Dx1.xPixel1)!=this.imageView.xPixel1);this.pin2Dy01.setEnabled(Math.min(this.pin2Dy0.yPixel0,this.pin2Dy1.yPixel0)!=this.yPixel0||Math.max(this.pin2Dy0.yPixel0,this.pin2Dy1.yPixel1)!=this.yPixel1)}},"~N");c(b,"doZoom",function(a,d,b,c,f,e,k,j,l){a==b?(a=this.getScale().minXOnScale,b=this.getScale().maxXOnScale):this.isLinked&&j&&this.pd.doZoomLinked(this,a,b,l,k,f);a>b&&(j=a,a=b,b=j);d>c&&(j=d,d=c,c=j);j=!f&&null!=
this.imageView&&(this.imageView.minZ!=d||this.imageView.maxZ!=c);if(this.zoomEnabled||j){if(k){if(!this.getScale().isInRangeX(a)&&!this.getScale().isInRangeX(b))return;this.getScale().isInRangeX(a)?this.getScale().isInRangeX(b)||(b=this.getScale().maxX):a=this.getScale().minX}this.pd.setTaintedAll();k=this.viewData.getScaleData();var r=D(this.nSpectra,0),n=D(this.nSpectra,0);this.graphsTemp.clear();var p=this.getSpectrumAt(0).getSubSpectra(),p=null==p||2==p.size();if(this.getSpectrumAt(0).is1D()&&
!p){if(this.graphsTemp.addLast(this.getSpectrum()),!JSV.common.ScaleData.setDataPointIndices(this.graphsTemp,a,b,3,r,n))return}else if(!JSV.common.ScaleData.setDataPointIndices(this.spectra,a,b,3,r,n))return;if(p=d==c)f=!j&&f?f=this.getScale().spectrumScaleFactor:1,1E-4>Math.abs(f-1)&&(d=this.getScale().minYOnScale,c=this.getScale().maxYOnScale);f=null;if(p||e)this.getCurrentView(),f=this.viewData.getNewScales(this.iSpectrumSelected,p,d,c);this.getView(a,b,d,c,r,n,k,f);this.setXPixelMovedTo(1E10,
1.7976931348623157E308,0,0);this.setWidgetX(this.pin1Dx0,a);this.setWidgetX(this.pin1Dx1,b);this.setWidgetY(this.pin1Dy0,d);this.setWidgetY(this.pin1Dy1,c);null==this.imageView?this.updateDialogs():(a=this.getSpectrumAt(0).getSubIndex(),b=this.imageView.fixSubIndex(a),b!=a&&this.setCurrentSubSpectrum(b),j&&this.update2dImage(!1));l&&this.addCurrentZoom()}},"~N,~N,~N,~N,~B,~B,~B,~B,~B");c(b,"updateDialogs",function(){this.updateDialog(JSV.common.Annotation.AType.PeakList,-1);this.updateDialog(JSV.common.Annotation.AType.Measurements,
-1)});c(b,"setCurrentSubSpectrum",function(a){var d=this.getSpectrumAt(0);a=d.setCurrentSubSpectrum(a);d.isForcedSubset()&&this.viewData.setXRangeForSubSpectrum(this.getSpectrum().getXYCoords());this.pd.notifySubSpectrumChange(a,this.getSpectrum())},"~N");c(b,"addCurrentZoom",function(){if(this.viewList.size()>this.currentZoomIndex+1)for(var a=this.viewList.size()-1;a>this.currentZoomIndex;a--)this.viewList.removeItemAt(a);this.viewList.addLast(this.viewData);this.currentZoomIndex++});c(b,"setZoomTo",
function(a){this.currentZoomIndex=a;this.viewData=this.viewList.get(a);this.resetPinsFromView()},"~N");c(b,"clearViews",function(){this.isLinked&&this.pd.clearLinkViews(this);this.setZoom(0,0,0,0);for(var a=this.viewList.size();1<=--a;)this.viewList.removeItemAt(a)});c(b,"drawAll",function(a,d,b,c,f,e,k){this.g2d=this.pd.g2d;this.gMain=a;var j=this.getSpectrumAt(0),l=j.getSubIndex();this.is2DSpectrum=!j.is1D()&&(this.isLinked||this.pd.getBoolean(JSV.common.ScriptToken.DISPLAY2D))&&(null!=this.imageView||
this.get2DImage(j));null!=this.imageView&&e&&(this.pd.isPrinting&&this.g2d!==this.pd.g2d0&&this.g2d.newGrayScaleImage(a,this.image2D,this.imageView.imageWidth,this.imageView.imageHeight,this.imageView.getBuffer()),this.is2DSpectrum&&this.setPositionForFrame(c),this.draw2DImage());var r=this.stackSelected||!this.showAllStacked?this.iSpectrumSelected:-1,n=!this.showAllStacked||1==this.nSpectra||0<=r,j=null==this.imageView||this.pd.display1D,p=0<=r?1:0,q=this.getFixedSelectedSpectrumIndex();if(j&&e&&
(this.fillBox(a,this.xPixel0,this.yPixel0,this.xPixel1,this.yPixel1,JSV.common.ScriptToken.PLOTAREACOLOR),0>r)){n=!0;for(r=0;r<this.nSpectra;r++)this.doPlot(r,c)&&0!=p++&&(n=(new Boolean(n&this.viewData.areYScalesSame(r-1,r))).valueOf())}var m=1==this.nSpectra?0:!this.showAllStacked?this.iSpectrumMovedTo:this.iSpectrumSelected;b=b===a?d:b;if(e){var r=this.pd.getCurrentGraphSet()===this&&!this.isLinked&&(!this.isSplittable||1==this.nSplit||this.pd.currentSplitPoint==c),s=this.zoomEnabled&&!this.isDrawNoSpectra()&&
this.pd.isCurrentGraphSet(this)&&this.spectra.get(0).isScalable()&&(r||1==this.nSpectra)&&(1==this.nSplit||this.pd.currentSplitPoint==this.iSpectrumMovedTo);this.drawFrame(a,m,r,this.isSplittable,s)}if(this.pd.isCurrentGraphSet(this)&&c==this.pd.currentSplitPoint&&(2>p||0<=this.iSpectrumSelected))this.$haveSelectedSpectrum=!0;this.haveSingleYScale=this.showAllStacked&&1<this.nSpectra?this.allowStackedYScale&&n:!0;if(j){n=I(this.yPixels*(this.yStackOffsetPercent/100));this.haveLeftRightArrows=!1;for(s=
r=0;r<this.nSpectra;r++)if(this.doPlot(r,c)){var m=this.stackSelected&&0<=this.iSpectrumSelected&&this.iSpectrumSelected!=r,t=!this.reversePlot&&this.getShowAnnotation(JSV.common.Annotation.AType.Integration,r)&&(!this.showAllStacked||this.iSpectrumSelected==r)?this.getDialog(JSV.common.Annotation.AType.Integration,r).getData():null;this.setScale(r);var v=this.spectra.get(r);1<this.nSplit&&(q=r);var u=!m&&(1==this.nSplit||this.showAllStacked||this.iSpectrumSelected==c),w=u&&this.$haveSelectedSpectrum&&
r==q;u&&(this.resetPinsFromView(),this.drawWidgets(d,b,l,f,j,w,!1));this.haveSingleYScale&&(r==q&&e)&&(this.drawGrid(a),this.pd.isPrinting&&1<this.nSplit&&this.drawSpectrumSource(a,r));u&&this.drawWidgets(d,b,l,!1,j,w,!0);!this.isDrawNoSpectra()&&((1==this.nSpectra||0<=this.iSpectrumSelected)&&(this.haveSingleYScale&&r==q||this.showAllStacked&&this.stackSelected&&r==this.iSpectrumSelected))&&this.drawHighlightsAndPeakTabs(d,b,r);if(e){if((1==p&&0>this.iSpectrumSelected||this.iSpectrumSelected==r&&
this.pd.isCurrentGraphSet(this))&&this.pd.titleOn&&!this.pd.titleDrawn)this.pd.drawTitle(a,this.height,this.width,this.pd.getDrawTitle(this.pd.isPrinting)),this.pd.titleDrawn=!0;this.haveSingleYScale&&r==q&&(this.pd.getBoolean(JSV.common.ScriptToken.YSCALEON)&&this.drawYScale(a,this),this.pd.getBoolean(JSV.common.ScriptToken.YUNITSON)&&this.drawYUnits(a))}var u=v.isContinuous(),w=(1<this.nSplit?r==this.iSpectrumMovedTo:this.isLinked||r==q)&&!this.pd.isPrinting&&u,x=!m&&null!=this.pendingIntegral&&
v===this.pendingIntegral.spec;if(e||x)this.drawPlot(x&&!e?d:a,r,v,u,s,m,null,w,x,k);this.drawIntegration(d,r,s,m,t,u,w);this.drawMeasurements(d,r);null!=this.pendingMeasurement&&this.pendingMeasurement.spec===v&&this.drawMeasurement(d,this.pendingMeasurement);w&&0<=this.xPixelMovedTo&&this.drawSpectrumPointer(d,v,s,t);1<this.nSpectra&&(1==this.nSplit&&this.pd.isCurrentGraphSet(this)&&e)&&(this.haveLeftRightArrows=!0,this.pd.isPrinting||(this.setScale(0),m=this.iSpectrumSelected,2!=this.nSpectra&&
(this.setPlotColor(a,(m+this.nSpectra-1)%this.nSpectra),this.fillArrow(a,1,this.yHArrows,this.xHArrows-9,!0),this.setCurrentBoxColor(a),this.fillArrow(a,1,this.yHArrows,this.xHArrows-9,!1)),0<=m&&(this.setPlotColor(a,m),this.fillCircle(a,this.xHArrows,this.yHArrows,!0)),this.setCurrentBoxColor(a),this.fillCircle(a,this.xHArrows,this.yHArrows,!1),this.setPlotColor(a,(m+1)%this.nSpectra),this.fillArrow(a,2,this.yHArrows,this.xHArrows+9,!0),this.setCurrentBoxColor(a),this.fillArrow(a,2,this.yHArrows,
this.xHArrows+9,!1)));s-=n}e&&(this.pd.getBoolean(JSV.common.ScriptToken.XSCALEON)&&this.drawXScale(a,this),this.pd.getBoolean(JSV.common.ScriptToken.XUNITSON)&&this.drawXUnits(a))}else e&&(this.pd.getBoolean(JSV.common.ScriptToken.XSCALEON)&&this.drawXScale(a,this.imageView),this.pd.getBoolean(JSV.common.ScriptToken.YSCALEON)&&this.drawYScale(a,this.imageView),0<=l&&this.draw2DUnits(a)),this.drawWidgets(d,b,l,f,j,!0,!1),this.drawWidgets(d,b,l,f,j,!0,!0),this.widgetsAreSet=!0;null!=this.annotations&&
this.drawAnnotations(d,this.annotations,null)},"~O,~O,~O,~N,~B,~B,~B");c(b,"drawSpectrumSource",function(a,d){this.pd.printFilePath(a,this.pd.thisWidth-this.pd.right,this.yPixel0,this.spectra.get(d).getFilePath())},"~O,~N");c(b,"doPlot",function(a,d){var b=this.stackSelected&&0<=this.iSpectrumSelected&&this.iSpectrumSelected!=a,c=this.showAllStacked||-1==this.iSpectrumSelected||this.iSpectrumSelected==a;return 1<this.nSplit?a==d:c&&(!this.pd.isPrinting||!b)},"~N,~N");c(b,"drawSpectrumPointer",function(a,
d,b,c){this.setColorFromToken(a,JSV.common.ScriptToken.PEAKTABCOLOR);var f=this.pd.integralShiftMode;null!=c&&((!this.pd.ctrlPressed||this.pd.isIntegralDrag)&&!this.isOnSpectrum(this.pd.mouseX,this.pd.mouseY,-1)?c=null:0==f&&(f=this.getShiftMode(this.pd.mouseX,this.pd.mouseY),0==f&&(f=2147483647)));var e=this.yValueMovedTo;this.yValueMovedTo=null==c?d.getYValueAt(this.xValueMovedTo):c.getPercentYValueAt(this.xValueMovedTo);this.setCoordStr(this.xValueMovedTo,this.yValueMovedTo);if(0!=f&&(this.setPlotColor(a,
2147483647==f?-1:0),(0>f||2147483647==f)&&this.drawHandle(a,this.xPixelPlot1,this.yPixelPlot0,3,!1),0<f&&this.drawHandle(a,this.xPixelPlot0,this.yPixelPlot1,3,!1),2147483647!=f))return;null!=c&&this.g2d.setStrokeBold(a,!0);Double.isNaN(e)||null!=this.pendingMeasurement?(this.g2d.drawLine(a,this.xPixelMovedTo,this.yPixel0,this.xPixelMovedTo,this.yPixel1),0<=this.xPixelMovedTo2&&this.g2d.drawLine(a,this.xPixelMovedTo2,this.yPixel0,this.xPixelMovedTo2,this.yPixel1),this.yValueMovedTo=NaN):(d=null==c?
b+this.toPixelY(this.yValueMovedTo):this.toPixelYint(this.yValueMovedTo/100),d==this.fixY(d)&&this.g2d.drawLine(a,this.xPixelMovedTo,d-10,this.xPixelMovedTo,d+10));null!=c&&this.g2d.setStrokeBold(a,!1)},"~O,JSV.common.Spectrum,~N,JSV.common.IntegralData");c(b,"setScale",function(a){this.viewData.setScale(a,this.xPixels,this.yPixels,this.spectra.get(a).isInverted())},"~N");c(b,"draw2DUnits",function(a){var d=this.getSpectrumAt(0).nucleusX,b=this.getSpectrumAt(0).nucleusY;this.setColorFromToken(a,JSV.common.ScriptToken.PLOTCOLOR);
this.drawUnits(a,d,this.imageView.xPixel1+5*this.pd.scalingFactor,this.yPixel1,1,1);this.drawUnits(a,b,this.imageView.xPixel0-5*this.pd.scalingFactor,this.yPixel0,1,0)},"~O");c(b,"drawPeakTabs",function(a,d,b){var c=1==this.nSpectra||0<=this.iSpectrumSelected?b.getPeakList():null;if(null!=c&&0<c.size()){null!=this.piMouseOver&&this.piMouseOver.spectrum===b&&this.pd.isMouseUp()?(this.g2d.setGraphicsColor(d,this.g2d.getColor4(240,240,240,140)),this.drawPeak(d,this.piMouseOver,0),b.setHighlightedPeak(this.piMouseOver)):
b.setHighlightedPeak(null);this.setColorFromToken(a,JSV.common.ScriptToken.PEAKTABCOLOR);for(d=c.size();0<=--d;){var f=c.get(d);this.drawPeak(a,f,f===b.getSelectedPeak()?14:7)}}},"~O,~O,JSV.common.Spectrum");c(b,"drawPeak",function(a,d,b){if(!this.pd.isPrinting){var c=d.getXMin(),f=d.getXMax();c!=f&&this.drawBar(a,d,c,f,null,b)}},"~O,JSV.common.PeakInfo,~N");c(b,"drawWidgets",function(a,d,b,c,f,e,k){this.setWidgets(c,b,f);if(!this.pd.isPrinting||!(null==this.imageView?!this.cur1D2Locked:this.sticky2Dcursor)){!this.pd.isPrinting&&
!k&&(f?(this.fillBox(a,this.xPixel0,this.pin1Dx0.yPixel1,this.xPixel1,this.pin1Dx1.yPixel1+2,JSV.common.ScriptToken.GRIDCOLOR),this.fillBox(a,this.pin1Dx0.xPixel0,this.pin1Dx0.yPixel1,this.pin1Dx1.xPixel0,this.pin1Dx1.yPixel1+2,JSV.common.ScriptToken.PLOTCOLOR)):(this.fillBox(a,this.imageView.xPixel0,this.pin2Dx0.yPixel1,this.imageView.xPixel1,this.pin2Dx0.yPixel1+2,JSV.common.ScriptToken.GRIDCOLOR),this.fillBox(a,this.pin2Dx0.xPixel0,this.pin2Dx0.yPixel1,this.pin2Dx1.xPixel0,this.pin2Dx1.yPixel1+
2,JSV.common.ScriptToken.PLOTCOLOR),this.fillBox(a,this.pin2Dy0.xPixel1,this.yPixel1,this.pin2Dy1.xPixel1+2,this.yPixel0,JSV.common.ScriptToken.GRIDCOLOR),this.fillBox(a,this.pin2Dy0.xPixel1,this.pin2Dy0.yPixel1,this.pin2Dy1.xPixel1+2,this.pin2Dy1.yPixel0,JSV.common.ScriptToken.PLOTCOLOR)),this.fillBox(a,this.pin1Dy0.xPixel1,this.yPixel1,this.pin1Dy1.xPixel1+2,this.yPixel0,JSV.common.ScriptToken.GRIDCOLOR),e&&this.fillBox(a,this.pin1Dy0.xPixel1,this.pin1Dy0.yPixel1,this.pin1Dy1.xPixel1+2,this.pin1Dy1.yPixel0,
JSV.common.ScriptToken.PLOTCOLOR));for(b=0;b<this.widgets.length;b++)if(c=this.widgets[b],!(null==c||!c.isPinOrCursor&&!this.zoomEnabled)){var j=c===this.cur1D2x1||c===this.cur1D2x2||c===this.cur2Dx0||c===this.cur2Dx1||c===this.cur2Dy;if((c.isPin||!c.isPinOrCursor)!=k){if(c.is2D){if(c===this.cur2Dx0&&!f)continue}else{var l=c===this.pin1Dy0||c===this.pin1Dy1||c===this.pin1Dy01;if(null!=this.imageView&&f==l||l&&!e||c===this.cur1D2x1&&null==this.gs2dLinkedX||c===this.cur1D2x2&&null==this.gs2dLinkedY||
c===this.zoomBox1D&&(this.pd.isIntegralDrag||0!=this.pd.integralShiftMode))if(!this.isLinked||null!=this.imageView)continue}if(!this.pd.isPrinting||j)c.isPinOrCursor?(this.setColorFromToken(a,c.color),this.g2d.drawLine(a,c.xPixel0,c.yPixel0,c.xPixel1,c.yPixel1),c.isVisible=!0,c.isPin&&this.drawHandle(a,c.xPixel0,c.yPixel0,2,!c.isEnabled)):c.xPixel1!=c.xPixel0&&this.fillBox(d,c.xPixel0,c.yPixel0,c.xPixel1,c.yPixel1,c===this.zoomBox1D&&this.pd.shiftPressed?JSV.common.ScriptToken.ZOOMBOXCOLOR2:JSV.common.ScriptToken.ZOOMBOXCOLOR)}}}},
"~O,~O,~N,~B,~B,~B,~B");c(b,"drawBar",function(a,d,b,c,f,e){Math.abs(c-b);Math.abs(this.toX(this.xPixel1)-this.toX(this.xPixel0));b=this.toPixelX(b);c=this.toPixelX(c);if(b>c){var k=b;b=c;c=k}b=this.fixX(b);c=this.fixX(c);3>c-b&&(b-=2,c+=2);null!=d&&d.setPixelRange(b,c);0==e?this.fillBox(a,b,this.yPixel0,c,this.yPixel0+this.yPixels,f):(this.fillBox(a,b,this.yPixel0+2,c,this.yPixel0+5,f),null!=d&&(b=w((b+c)/2),this.fillBox(a,b-1,this.yPixel0+2,b+1,this.yPixel0+2+e,f)))},"~O,JSV.common.PeakInfo,~N,~N,JSV.common.ScriptToken,~N");
c(b,"drawIntegration",function(a,d,b,c,f){null!=f&&(this.haveIntegralDisplayed(d)&&this.drawPlot(a,d,this.spectra.get(d),!0,b,!1,f,!0,!1,!1),this.drawIntegralValues(a,d,b));d=this.getIntegrationRatios(d);null!=d&&this.drawAnnotations(a,d,JSV.common.ScriptToken.INTEGRALPLOTCOLOR)},"~O,~N,~N,~B,JSV.common.IntegralData,~B,~B");c(b,"getMeasurements",function(a,d){var b=this.getDialog(a,d);return null==b||0==b.getData().size()||!b.getState()?null:b.getData()},"JSV.common.Annotation.AType,~N");c(b,"drawPlot",
function(a,d,b,c,f,e,k,j,l,r){var n=null==k?b.getXYCoords():this.getIntegrationGraph(d).getXYCoords(),p=null!=k;k=p?k.getBitSet():null;j=l||null!=b.fillColor&&j;e=e?-2:p?-1:!this.allowStacking?0:d;this.setPlotColor(a,e);var m=!0,q=this.toPixelY(0);p?j=(new Boolean(j&q==this.fixY(q))).valueOf():q=this.fixY(q);var s=p||j?this.pd.getColor(JSV.common.ScriptToken.INTEGRALPLOTCOLOR):null;b=null==s||null==b.fillColor?s:b.fillColor;s=this.viewData.getStartingPointIndex(d);d=this.viewData.getEndingPointIndex(d);
if(c&&!r){d--;(r=(p||null!=this.pendingIntegral)&&this.g2d.canDoLineTo())&&this.g2d.doStroke(a,!0);var t=!1;for(c=s;c<=d;c++){var v=n[c],u=n[c+1],w=p?this.toPixelYint(v.getYVal()):this.toPixelY(v.getYVal());if(-2147483648!=w){var x=p?this.toPixelYint(u.getYVal()):this.toPixelY(u.getYVal());if(-2147483648!=x){var v=v.getXVal(),z=u.getXVal(),u=this.toPixelX(v),y=this.toPixelX(z),w=this.fixY(f+w),x=this.fixY(f+x);p&&(c==s&&(this.xPixelPlot1=u,this.yPixelPlot0=w),this.xPixelPlot0=y,this.yPixelPlot1=x);
if(!(y==u&&w==x))if(j&&l&&this.pendingIntegral.overlaps(v,z))null!=b&&(this.g2d.doStroke(a,!1),this.g2d.setGraphicsColor(a,b)),this.g2d.fillRect(a,Math.min(u,y),Math.min(q,w),Math.max(1,Math.abs(y-u)),Math.abs(q-w)),null!=b&&(this.g2d.doStroke(a,!1),this.g2d.doStroke(a,!0),t=!1,this.setPlotColor(a,e));else if(!(w==x&&w==this.yPixel0)&&(null!=k&&k.get(c)!=m&&(m=k.get(c),r&&t&&(this.g2d.doStroke(a,!1),this.g2d.doStroke(a,!0),t=!1),!this.pd.isPrinting&&0!=this.pd.integralShiftMode?this.setPlotColor(a,
0):m?this.setColorFromToken(a,JSV.common.ScriptToken.INTEGRALPLOTCOLOR):this.setPlotColor(a,-3)),!this.pd.isPrinting||m))t?this.g2d.lineTo(a,y,x):(this.g2d.drawLine(a,u,w,y,x),t=r)}}}r&&this.g2d.doStroke(a,!1)}else{for(c=s;c<=d;c++)l=n[c],x=this.toPixelY(l.getYVal()),-2147483648!=x&&(u=this.toPixelX(l.getXVal()),w=this.toPixelY(Math.max(this.getScale().minYOnScale,0)),w=this.fixY(f+w),x=this.fixY(f+x),w==x&&(w==this.yPixel0||w==this.yPixel1)||(r?this.g2d.fillRect(a,u-1,x-1,3,3):this.g2d.drawLine(a,
u,w,u,x)));!r&&this.getScale().isYZeroOnScale()&&(f+=this.toPixelY(this.getScale().spectrumYRef),f==this.fixY(f)&&this.g2d.drawLine(a,this.xPixel1,f,this.xPixel0,f))}},"~O,~N,JSV.common.Spectrum,~B,~N,~B,JSV.common.IntegralData,~B,~B,~B");c(b,"drawFrame",function(a,d,b,c,f){if(!this.pd.gridOn||this.pd.isPrinting)if(this.setColorFromToken(a,JSV.common.ScriptToken.GRIDCOLOR),this.g2d.drawRect(a,this.xPixel0,this.yPixel0,this.xPixels,this.yPixels),this.pd.isPrinting)return;this.setCurrentBoxColor(a);
f&&(0<=d&&(this.setPlotColor(a,d),this.fillArrow(a,3,this.xVArrows,w((this.yPixel00+this.yPixel11)/2)-9,!0),this.fillArrow(a,4,this.xVArrows,w((this.yPixel00+this.yPixel11)/2)+9,!0),this.setCurrentBoxColor(a)),this.fillArrow(a,3,this.xVArrows,w((this.yPixel00+this.yPixel11)/2)-9,!1),this.fillCircle(a,this.xVArrows,w((this.yPixel00+this.yPixel11)/2),!1),this.fillArrow(a,4,this.xVArrows,w((this.yPixel00+this.yPixel11)/2)+9,!1));if(null==this.imageView&&b){d=this.xPixel00+10;b=this.xPixel11-10;f=this.yPixel00+
1;var e=this.yPixel11-2;this.g2d.drawLine(a,d,f,b,f);this.g2d.drawLine(a,b,f,b,e);this.g2d.drawLine(a,d,e,b,e);this.splitterX=this.closerX=-2147483648;this.drawBox(a,b-10,f,b,f+10,null);this.g2d.drawLine(a,b-10,f+10,b,f);this.g2d.drawLine(a,b,f+10,b-10,f);this.closerX=b-10;this.closerY=f;c&&(b-=10,this.fillBox(a,b-10,f,b,f+10,null),this.splitterX=b-10,this.splitterY=f)}},"~O,~N,~B,~B,~B");c(b,"drawGrid",function(a){if(this.pd.gridOn&&null==this.imageView){this.setColorFromToken(a,JSV.common.ScriptToken.GRIDCOLOR);
var d;if(Double.isNaN(this.getScale().firstX)){d=this.getScale().maxXOnScale+this.getScale().steps[0]/2;for(var b=this.getScale().minXOnScale;b<d;b+=this.getScale().steps[0]){var c=this.toPixelX(b);this.g2d.drawLine(a,c,this.yPixel0,c,this.yPixel1)}}else{d=1.0001*this.getScale().maxXOnScale;for(b=this.getScale().firstX;b<=d;b+=this.getScale().steps[0])c=this.toPixelX(b),this.g2d.drawLine(a,c,this.yPixel0,c,this.yPixel1)}for(b=this.getScale().firstY;b<this.getScale().maxYOnScale+this.getScale().steps[1]/
2;b+=this.getScale().steps[1])d=this.toPixelY(b),d==this.fixY(d)&&this.g2d.drawLine(a,this.xPixel0,d,this.xPixel1,d)}},"~O");c(b,"drawXScale",function(a,d){this.setColorFromToken(a,JSV.common.ScriptToken.SCALECOLOR);this.pd.isPrinting&&this.g2d.drawLine(a,d.getXPixel0(),this.yPixel1,d.getXPixel0()+d.getXPixels()-1,this.yPixel1);for(var b=this.getScale().precision[0],c=this.pd.setFont(a,d.getXPixels(),0,this.pd.isPrinting?10:12,!1),f=this.yPixel1,e=this.yPixel1+4*this.pd.scalingFactor,k=this.yPixel1+
2*this.pd.scalingFactor,c=c.getHeight(),j=d.toPixelX(this.getScale().steps[0])-d.toPixelX(0),l=Math.abs(0.95*j),r=this.getScale().firstX-this.getScale().steps[0],n=1.0001*(this.getScale().maxXOnScale+this.getScale().steps[0]),p=0;2>p;p++){1==p&&JSV.common.ScaleData.fixScale(this.mapX);for(var q=1E10,m=r;m<=n;m+=this.getScale().steps[0]){var j=d.toPixelX(m),s=Double.$valueOf(m),t;switch(p){case 0:t=JU.DF.formatDecimalDbl(m,b);this.mapX.put(s,t);this.drawTick(a,j,f,e,d);j=Math.abs(q-m);q=this.getScale().minorTickCounts[0];
if(0!=q){j/=q;for(t=1;t<q;t++)this.drawTick(a,d.toPixelX(m-t*j),f,k,d)}q=m;continue;case 1:t=this.mapX.get(s);if(null==t||j!=d.fixX(j))continue;var s=this.pd.getStringWidth(t),u=j+w(s/2)==d.fixX(j+w(s/2))?2:0;0<u&&this.g2d.drawString(a,t,j-w(s/u),e+c);m+=Math.floor(s/l)*this.getScale().steps[0]}}}this.mapX.clear()},"~O,JSV.common.XYScaleConverter");c(b,"drawTick",function(a,d,b,c,f){d==f.fixX(d)&&this.g2d.drawLine(a,d,b,d,c)},"~O,~N,~N,~N,JSV.common.XYScaleConverter");c(b,"drawYScale",function(a,
d){var b=d.getScale(),c=b.precision[1],f=this.pd.setFont(a,d.getXPixels(),0,this.pd.isPrinting?10:12,!1).getHeight(),e=b.maxYOnScale+b.steps[1]/2,k=-2147483648;this.setColorFromToken(a,JSV.common.ScriptToken.SCALECOLOR);for(var j=0;2>j;j++){1==j&&JSV.common.ScaleData.fixScale(this.mapX);for(var l=b.firstY;l<e;l+=b.steps[1]){var r=Double.$valueOf(l),p=d.getXPixel0(),n=d.toPixelY(l);if(n==d.fixY(n)){var m;0==j&&this.g2d.drawLine(a,p,n,p-3*this.pd.scalingFactor,n);if(!(Math.abs(n-k)<=f))switch(k=n,j){case 0:m=
JU.DF.formatDecimalDbl(l,c);this.mapX.put(r,m);break;case 1:m=this.mapX.get(r);if(null==m)continue;m.startsWith("0")&&m.contains("E")&&(m="0");this.g2d.drawString(a,m,p-4*this.pd.scalingFactor-this.pd.getStringWidth(m),n+w(f/3))}}}}this.mapX.clear()},"~O,JSV.common.XYScaleConverter");c(b,"drawXUnits",function(a){var d=this.spectra.get(0).getAxisLabel(!0);null!=d&&this.drawUnits(a,d,this.xPixel1+25*this.pd.scalingFactor,this.yPixel1+5*this.pd.scalingFactor,1,1)},"~O");c(b,"drawUnits",function(a,d,
b,c,f,e){this.setColorFromToken(a,JSV.common.ScriptToken.UNITSCOLOR);this.pd.setFont(a,(null==this.imageView?this:this.imageView).getXPixels(),3,10,!1);this.g2d.drawString(a,d,w(b-this.pd.getStringWidth(d)*f),w(c+this.pd.getFontHeight()*e))},"~O,~S,~N,~N,~N,~N");c(b,"drawYUnits",function(a){var d=this.spectra.get(0).getAxisLabel(!1);null!=d&&this.drawUnits(a,d,(this.pd.isPrinting?30:5)*this.pd.scalingFactor,this.yPixel0+(this.pd.isPrinting?0:5)*this.pd.scalingFactor,0,-1)},"~O");c(b,"drawHighlightsAndPeakTabs",
function(a,d,b){var c=this.getMeasurements(JSV.common.Annotation.AType.PeakList,b),f=this.spectra.get(b);if(this.pd.isPrinting)null!=c&&(this.setColorFromToken(a,JSV.common.ScriptToken.PEAKTABCOLOR),this.printPeakList(a,f,c));else{if(null==c){for(var e=0;e<this.highlights.size();e++){var k=this.highlights.get(e);k.spectrum===f&&(this.pd.setHighlightColor(k.color),this.drawBar(d,null,k.x1,k.x2,JSV.common.ScriptToken.HIGHLIGHTCOLOR,0))}this.pd.peakTabsOn&&this.drawPeakTabs(a,d,f)}if(null!=c){d=f.isInverted()?
this.yPixel1-10*this.pd.scalingFactor:this.yPixel0;this.setColorFromToken(a,JSV.common.ScriptToken.PEAKTABCOLOR);for(e=c.size();0<=--e;)f=c.get(e),f=this.toPixelX(f.getXVal()),this.g2d.drawLine(a,f,d,f,d+10*this.pd.scalingFactor);this.isVisible(this.getDialog(JSV.common.Annotation.AType.PeakList,b))&&(d=this.toPixelY(c.getThresh()),d==this.fixY(d)&&!this.pd.isPrinting&&this.g2d.drawLine(a,this.xPixel0,d,this.xPixel1,d))}}},"~O,~O,~N");c(b,"printPeakList",function(a,d,b){var c=b.getMeasurementListArray(null);
if(0!=c.length){this.pd.setFont(a,this.xPixels,0,8,!1);for(var f=this.pd.getFontHeight(),e=D(b.size(),0),k=D(b.size(),0),j=0,l=5*this.pd.scalingFactor,r=10*this.pd.scalingFactor,n=15*this.pd.scalingFactor,p=25*this.pd.scalingFactor,m=0;m<c.length;m++)k[m]=this.toPixelX(Double.parseDouble(c[m][1])),0==m?e[m]=k[m]:(e[m]=Math.max(e[m-1]+f,k[m]+f),j+=e[m]-k[m]);j/=2*c.length;e[0]-j<this.xPixel0+p&&(j=e[0]-(this.xPixel0+p));for(m=0;m<c.length;m++)e[m]-=j;m=d.isInverted();d=this.pd.getStringWidth("99.9999");
for(var j=6<=c[0].length?this.pd.getStringWidth("99.99"):0,p=m?-1:1,q=(m?this.yPixel1:this.yPixel0)+p*(j+d+n),m=0;m<c.length;m++)this.g2d.drawLine(a,e[m],q,e[m],q+l*p),this.g2d.drawLine(a,e[m],q+l*p,k[m],q+r*p),this.g2d.drawLine(a,k[m],q+r*p,k[m],q+n*p),0<j&&0<c[m][4].length&&this.g2d.drawLine(a,w((e[m]+e[m-1])/2),q-d+l,w((e[m]+e[m-1])/2),q-d-l);q-=2*p*this.pd.scalingFactor;0<j&&(this.drawStringRotated(a,-90,e[0]-n,q,"  ppm"),this.drawStringRotated(a,-90,e[0]-n,q-d-l," Hz"));for(m=b.size();0<=--m;)this.drawStringRotated(a,
-90*p,e[m]+w(p*f/3),q,c[m][1]),0<j&&0<c[m][4].length&&(b=w((e[m]+e[m-1])/2)+w(f/3),this.drawStringRotated(a,-90,b,q-d-l,c[m][4]))}},"~O,JSV.common.Spectrum,JSV.common.PeakData");c(b,"drawStringRotated",function(a,d,b,c,f){this.g2d.drawStringRotated(a,f,b,c,d)},"~O,~N,~N,~N,~S");c(b,"drawAnnotations",function(a,d,b){this.pd.setFont(a,this.xPixels,1,18,!1);for(var c=d.size();0<=--c;){var f=d.get(c);this.setAnnotationColor(a,f,b);var e=(f.is2D?this.imageView:this).toPixelX(f.getXVal()),k=f.isPixels()?
w(this.yPixel0+10+10*this.pd.scalingFactor-f.getYVal()):f.is2D?this.imageView.subIndexToPixelY(w(f.getYVal())):this.toPixelY(f.getYVal());this.g2d.drawString(a,f.text,e+f.offsetX*this.pd.scalingFactor,k-f.offsetY*this.pd.scalingFactor)}},"~O,JU.Lst,JSV.common.ScriptToken");c(b,"drawIntegralValues",function(a,d,b){var c=this.getMeasurements(JSV.common.Annotation.AType.Integration,d);if(null!=c){this.pd.isPrinting?this.pd.setFont(a,this.xPixels,0,8,!1):this.pd.setFont(a,this.xPixels,1,12,!1);this.setColorFromToken(a,
JSV.common.ScriptToken.INTEGRALPLOTCOLOR);var f=this.pd.getFontHeight();this.g2d.setStrokeBold(a,!0);for(var e=c.size();0<=--e;){var k=c.get(e);if(0!=k.getValue()){var j=this.toPixelX(k.getXVal2()),l=b*this.pd.scalingFactor+this.toPixelYint(k.getYVal()),r=b*this.pd.scalingFactor+this.toPixelYint(k.getYVal2());j!=this.fixX(j)||(l!=this.fixY(l)||r!=this.fixY(r))||(this.pd.isPrinting||this.g2d.drawLine(a,j,l,j,r),this.g2d.drawString(a,"  "+k.text,j,w((l+r)/2)+w(f/3)))}}this.g2d.setStrokeBold(a,!1)}d==
this.getFixedSelectedSpectrumIndex()&&(this.selectedSpectrumIntegrals=c)},"~O,~N,~N");c(b,"drawMeasurements",function(a,d){var b=this.getMeasurements(JSV.common.Annotation.AType.Measurements,d);if(null!=b)for(var c=b.size();0<=--c;)this.drawMeasurement(a,b.get(c));d==this.getFixedSelectedSpectrumIndex()&&(this.selectedSpectrumMeasurements=b)},"~O,~N");c(b,"drawMeasurement",function(a,d){if(!(0==d.text.length&&d!==this.pendingMeasurement)){this.pd.setFont(a,this.xPixels,1,12,!1);this.g2d.setGraphicsColor(a,
d===this.pendingMeasurement?this.pd.getColor(JSV.common.ScriptToken.PEAKTABCOLOR):this.pd.BLACK);var b=this.toPixelX(d.getXVal()),c=this.toPixelY(d.getYVal()),f=this.toPixelX(d.getXVal2());if(!Double.isNaN(d.getXVal())&&!(b!=this.fixX(b)||f!=this.fixX(f))){var e=2<=Math.abs(b-f),k=this.getScale().isYZeroOnScale()&&d.spec.isHNMR(),j=w((b+f)/2);this.g2d.setStrokeBold(a,!0);e&&this.g2d.drawLine(a,b,c,f,c);k&&this.g2d.drawLine(a,b+1,this.yPixel1-1,f,this.yPixel1-1);this.g2d.setStrokeBold(a,!1);e&&this.g2d.drawString(a,
d.text,j+d.offsetX,c-d.offsetY);k&&(this.g2d.drawLine(a,b,this.yPixel1,b,this.yPixel1-6*this.pd.scalingFactor),this.g2d.drawLine(a,f,this.yPixel1,f,this.yPixel1-6*this.pd.scalingFactor))}}},"~O,JSV.common.Measurement");c(b,"getPinSelected",function(a,d){if(null!=this.widgets)for(var b=0;b<this.widgets.length;b++)if(null!=this.widgets[b]&&this.widgets[b].isPinOrCursor&&this.widgets[b].selected(a,d))return this.widgets[b];return null},"~N,~N");c(b,"set2DCrossHairs",function(a,d){var b;if(a==this.imageView.fixX(a)&&
d==this.fixY(d)&&(this.pin1Dx1.setX(b=this.imageView.toX(a),this.toPixelX(b)),this.cur2Dx1.setX(b,a),this.setCurrentSubSpectrum(this.imageView.toSubspectrumIndex(d)),this.isLinked)){var c=this.imageView.toY(d);this.pd.set2DCrossHairsLinked(this,b,c,!this.sticky2Dcursor)}},"~N,~N");c(b,"reset2D",function(a){a?(this.imageView.setView0(this.imageView.xPixel0,this.pin2Dy0.yPixel0,this.imageView.xPixel1,this.pin2Dy1.yPixel0),this.doZoom(0,this.getScale().minY,0,this.getScale().maxY,!0,!1,!1,!1,!0)):this.imageView.setView0(this.pin2Dx0.xPixel0,
this.imageView.yPixel0,this.pin2Dx1.xPixel0,this.imageView.yPixel1)},"~B");c(b,"setAnnotationText",function(a){var d=this.pd.getInput("New text?","Set Label",a.text);if(null==d)return!1;0==d.length?this.annotations.removeObj(a):a.text=d;return!0},"JSV.common.Annotation");c(b,"checkIntegral",function(a,d,b){var c=this.getDialog(JSV.common.Annotation.AType.Integration,-1);if(null==c)return!1;a=c.getData().addIntegralRegion(a,d);b&&c.isDialog()&&c.update(null,0,0);if(Double.isNaN(d))return!1;this.pendingIntegral=
b?null:a;this.pd.isIntegralDrag=!b;this.selectedSpectrumIntegrals=null;return!0},"~N,~N,~B");c(b,"setToolTipForPixels",function(a,d){if(this.iSpectrumMovedTo!=this.iSpectrumClicked||this.pd.getCurrentGraphSet()!==this)this.pd.setToolTipText("click spectrum to activate");else if(this.isSplitWidget(a,d))this.pd.setToolTipText("click to "+(1<this.nSplit?"combine":"split"));else if(this.isCloserWidget(a,d))this.pd.setToolTipText("click to close");else{var b=this.getPinSelected(a,d),c=this.getScale().precision[0],
f=this.getScale().precision[1];if(null!=b)this.setStartupPinTip()||(b===this.pin1Dx01||b===this.pin2Dx01?c=JU.DF.formatDecimalDbl(Math.min(this.pin1Dx0.getXVal(),this.pin1Dx1.getXVal()),c)+" - "+JU.DF.formatDecimalDbl(Math.max(this.pin1Dx0.getXVal(),this.pin1Dx1.getXVal()),c):b===this.pin1Dy01?c=JU.DF.formatDecimalDbl(Math.min(this.pin1Dy0.getYVal(),this.pin1Dy1.getYVal()),f)+" - "+JU.DF.formatDecimalDbl(Math.max(this.pin1Dy0.getYVal(),this.pin1Dy1.getYVal()),f):b===this.cur2Dy?(b=this.imageView.toSubspectrumIndex(b.yPixel0),
c=this.get2DYLabel(b,c)):c=b===this.pin2Dy01?""+w(Math.min(this.pin2Dy0.getYVal(),this.pin2Dy1.getYVal()))+" - "+w(Math.max(this.pin2Dy0.getYVal(),this.pin2Dy1.getYVal())):b.isXtype?JU.DF.formatDecimalDbl(b.getXVal(),c):b.is2D?""+w(b.getYVal()):JU.DF.formatDecimalDbl(b.getYVal(),f),this.pd.setToolTipText(c));else{if(null!=this.imageView){if(this.imageView.fixX(a)==a&&this.fixY(d)==d){b=this.imageView.toSubspectrumIndex(d);c="y="+this.get2DYLabel(b,c)+" / x="+JU.DF.formatDecimalDbl(this.imageView.toX(a),
c)+" "+this.getSpectrum().getAxisLabel(!0);this.pd.setToolTipText(c);this.pd.coordStr=c;return}if(!this.pd.display1D){this.pd.setToolTipText("");this.pd.coordStr="";return}}var b=this.toX(this.fixX(a)),c=null!=this.imageView&&this.imageView.isXWithinRange(a)?this.imageView.toSubspectrumIndex(this.fixY(d)):this.toY(this.fixY(d)),f=this.setCoordStr(b,c),e=this.getFixedSelectedSpectrumIndex();this.isInPlotRegion(a,d)?1!=this.nSpectra&&this.haveIntegralDisplayed(e)&&(c=this.getIntegrationGraph(e).getPercentYValueAt(b),
f+=", "+JU.DF.formatDecimalDbl(c,1)):c=NaN;this.pd.setToolTipText(null!=this.selectedIntegral?"click to set value":null!=this.pendingMeasurement||null!=this.selectedMeasurement?this.pd.hasFocus()?"Press ESC to delete "+(null!=this.selectedIntegral?"integral, DEL to delete all visible, or N to normalize":null==this.pendingMeasurement?'"'+this.selectedMeasurement.text+'" or DEL to delete all visible':"measurement"):"":Double.isNaN(c)?null:f)}}},"~N,~N");c(b,"isFrameBox",function(a,d,b,c){return 5>Math.abs(a-
(b+5))&&5>Math.abs(d-(c+5))},"~N,~N,~N,~N");c(b,"setCoordStr",function(a,d){var b=JU.DF.formatDecimalDbl(a,this.getScale().precision[0]);this.pd.coordStr="("+b+(this.haveSingleYScale||0<=this.iSpectrumSelected?", "+JU.DF.formatDecimalDbl(d,this.getScale().precision[1]):"")+")";return b},"~N,~N");c(b,"setStartupPinTip",function(){if(null==this.pd.startupPinTip)return!1;this.pd.setToolTipText(this.pd.startupPinTip);this.pd.startupPinTip=null;return!0});c(b,"get2DYLabel",function(a,d){var b=this.getSpectrumAt(0).getSubSpectra().get(a);
return JU.DF.formatDecimalDbl(b.getY2DPPM(),d)+" PPM"+(b.y2DUnits.equals("HZ")?" ("+JU.DF.formatDecimalDbl(b.getY2D(),d)+" HZ) ":"")},"~N,~N");c(b,"isOnSpectrum",function(a,d,b){var c=null,f=!0,e=0>b;if(e){c=this.getDialog(JSV.common.Annotation.AType.Integration,-1);if(null==c)return!1;c=c.getData().getXYCoords();b=this.getFixedSelectedSpectrumIndex()}else{this.setScale(b);var k=this.spectra.get(b),c=k.xyCoords,f=k.isContinuous()}var k=b*I(this.yPixels*(this.yStackOffsetPercent/100)),j=this.viewData.getStartingPointIndex(b);
b=this.viewData.getEndingPointIndex(b);if(f)for(f=j;f<b;f++){var l=c[f],r=c[f+1],j=this.toPixelX(l.getXVal()),m=this.toPixelX(r.getXVal()),l=e?this.toPixelYint(l.getYVal()):this.toPixelY(l.getYVal()),r=e?this.toPixelYint(r.getYVal()):this.toPixelY(r.getYVal());if(!(-2147483648==l||-2147483648==r))if(l=this.fixY(l)-k,r=this.fixY(r)-k,JSV.common.GraphSet.isOnLine(a,d,j,l,m,r))return!0}else for(f=j;f<=b;f++)if(e=c[f],r=this.toPixelY(e.getYVal()),-2147483648!=r&&(j=this.toPixelX(e.getXVal()),l=this.toPixelY(Math.max(this.getScale().minYOnScale,
0)),l=this.fixY(l),r=this.fixY(r),!(l==r&&(l==this.yPixel0||l==this.yPixel1))&&JSV.common.GraphSet.isOnLine(a,d,j,l,j,r)))return!0;return!1},"~N,~N,~N");b.distance=c(b,"distance",function(a,d){return Math.sqrt(a*a+d*d)},"~N,~N");b.findCompatibleGraphSet=c(b,"findCompatibleGraphSet",function(a,d){for(var b=0;b<a.size();b++)if(JSV.common.Spectrum.areXScalesCompatible(d,a.get(b).getSpectrum(),!1,!1))return a.get(b);return null},"JU.Lst,JSV.common.Spectrum");b.isGoodEvent=c(b,"isGoodEvent",function(a,
d,b){return null==d?5<Math.abs(a.xPixel1-a.xPixel0)&&5<Math.abs(a.yPixel1-a.yPixel0):b?5<Math.abs(a.xPixel0-d.xPixel0):5<Math.abs(a.yPixel0-d.yPixel0)},"JSV.common.PlotWidget,JSV.common.PlotWidget,~B");b.isOnLine=c(b,"isOnLine",function(a,d,b,c,f,e){var k=Math.abs(b-a);if(2>k&&2>Math.abs(c-d))return!0;var j=f-a;if(2>Math.abs(j)&&2>Math.abs(e-d))return!0;var l=c-e;if(2<Math.abs(l)&&c<d==e<d)return!1;var r=b-f;return 2<Math.abs(r)&&b<a==f<a?!1:JSV.common.GraphSet.distance(k,c-d)+JSV.common.GraphSet.distance(j,
d-e)<JSV.common.GraphSet.distance(r,l)+2},"~N,~N,~N,~N,~N,~N");b.setFractionalPositions=c(b,"setFractionalPositions",function(a,d,b){var c=d.size(),f=0,e=0;a.isLinked=b!==JSV.common.PanelData.LinkMode.NONE;if(b===JSV.common.PanelData.LinkMode.NONE){for(var k=0;k<c;k++)b=d.get(k),f+=(b.getSpectrumAt(0).is1D(),1)*b.nSplit;f=1/f;for(k=0;k<c;k++)b=d.get(k),b.isLinked=!1,a=b.getSpectrumAt(0).is1D()?f:1*f,b.fX0=0,b.fY0=e,b.fracX=1,b.fracY=a,e+=a*b.nSplit}else{var f=null,j=-1;if(2==c||3==c)for(k=0;k<c;k++)if(b=
d.get(k),!b.getSpectrum().is1D()){f=b;0<=j&&(k=-2);j=k;break}if(-2==j||-1==j&&2!=c)JSV.common.GraphSet.setFractionalPositions(a,d,JSV.common.PanelData.LinkMode.NONE);else for(k=0;k<c;k++)b=d.get(k),b.isLinked=!0,a=b.getSpectrumAt(0),a.is1D()?(null!=f&&(j=f.getSpectrumAt(0),JSV.common.Spectrum.areLinkableX(a,j)&&(b.gs2dLinkedX=f),JSV.common.Spectrum.areLinkableY(a,j)&&(b.gs2dLinkedY=f)),b.fX0=0,b.fY0=e,b.fracX=null==f?1:0.5,b.fracY=3==c||null==f?0.5:1,e+=0.5):(b.fX0=0.5,b.fY0=0,b.fracX=0.5,b.fracY=
1)}},"JSV.common.PanelData,JU.Lst,JSV.common.PanelData.LinkMode");c(b,"addAnnotation",function(a,d){if(0==a.size()||1==a.size()&&a.get(0).equalsIgnoreCase("none"))return this.lastAnnotation=this.annotations=null;4>a.size()&&null==this.lastAnnotation&&(this.lastAnnotation=this.getAnnotation((this.getScale().maxXOnScale+this.getScale().minXOnScale)/2,(this.getScale().maxYOnScale+this.getScale().minYOnScale)/2,d,!1,!1,0,0));var b=this.getAnnotation(a,this.lastAnnotation);if(null==b)return null;if(null==
this.annotations&&1==a.size()&&'"'==a.get(0).charAt(0))return b=b.text,this.getSpectrum().setTitle(b),b;this.lastAnnotation=b;this.addAnnotation(b,!1);return null},"JU.Lst,~S");c(b,"addHighlight",function(a,d,b,c){null==b&&(b=this.getSpectrumAt(0));a=L(JSV.common.GraphSet.Highlight,this,null,a,d,b,null==c?this.pd.getColor(JSV.common.ScriptToken.HIGHLIGHTCOLOR):c);this.highlights.contains(a)||this.highlights.addLast(a)},"~N,~N,JSV.common.Spectrum,javajs.api.GenericColor");c(b,"addPeakHighlight",function(a){for(var d=
this.spectra.size();0<=--d;){var b=this.spectra.get(d);this.removeAllHighlights(b);if(!(null==a||a.isClearAll()||b!==a.spectrum)){var c=a.toString();if(null!=c){var f=JU.PT.getQuotedAttribute(c,"xMin"),c=JU.PT.getQuotedAttribute(c,"xMax");if(null==f||null==c)break;f=JU.PT.parseFloat(f);c=JU.PT.parseFloat(c);if(Float.isNaN(f)||Float.isNaN(c))break;this.pd.addHighlight(this,f,c,b,200,140,140,100);b.setSelectedPeak(a);!this.getScale().isInRangeX(f)&&!(this.getScale().isInRangeX(c)||f<this.getScale().minX&&
this.getScale().maxX<c)&&this.setZoomTo(0)}}}},"JSV.common.PeakInfo");c(b,"advanceSubSpectrum",function(a){var d=this.getSpectrumAt(0);a=d.advanceSubSpectrum(a);d.isForcedSubset()&&this.viewData.setXRangeForSubSpectrum(this.getSpectrum().getXYCoords());this.pd.notifySubSpectrumChange(a,this.getSpectrum())},"~N");c(b,"checkSpectrumClickedEvent",function(a,d,b){if(null!=this.nextClickForSetPeak||(1<b||null!=this.pendingMeasurement||!this.isInPlotRegion(a,d))||0==b&&(b=this.isOnSpectrum(a,d,-1),this.pd.integralShiftMode=
b?this.getShiftMode(a,d):0,this.pd.isIntegralDrag=0==this.pd.integralShiftMode&&(b||this.haveIntegralDisplayed(-1)&&null!=this.findMeasurement(this.getIntegrationGraph(-1),a,d,0)),0!=this.pd.integralShiftMode)||!this.showAllStacked)return!1;this.stackSelected=!1;for(b=0;b<this.nSpectra;b++)if(this.isOnSpectrum(a,d,b))return this.setSpectrumClicked(this.iPreviousSpectrumClicked=b),!1;if(this.isDialogOpen())return!1;this.setSpectrumClicked(-1);return this.stackSelected=!1},"~N,~N,~N");c(b,"getShiftMode",
function(a,d){return this.isStartEndIntegral(a,!1)?d:this.isStartEndIntegral(a,!0)?-d:0},"~N,~N");c(b,"isDialogOpen",function(){return this.isVisible(this.getDialog(JSV.common.Annotation.AType.Integration,-1))||this.isVisible(this.getDialog(JSV.common.Annotation.AType.Measurements,-1))||this.isVisible(this.getDialog(JSV.common.Annotation.AType.PeakList,-1))});c(b,"isStartEndIntegral",function(a,d){return d?20>this.xPixelPlot1-a:20>a-this.xPixelPlot0},"~N,~B");c(b,"checkWidgetEvent",function(a,d,b){if(!this.widgetsAreSet)return!1;
this.widgetsAreSet=!1;if(b){if(2==this.pd.clickCount&&this.lastIntDragX!=a&&!this.is2dClick(a,d)){if(null==this.pendingMeasurement)return-1==this.iSpectrumClicked&&0<=this.iPreviousSpectrumClicked&&this.setSpectrumClicked(this.iPreviousSpectrumClicked),this.processPendingMeasurement(a,d,2),!0}else if(!this.is2dClick(a,d)&&(this.isOnSpectrum(a,d,-1)&&this.checkIntegral(this.toX(a),NaN,!1),this.lastIntDragX==a&&(this.pd.isIntegralDrag=!0,!this.checkIntegral(this.toX(a),this.toX(a),!1))))return!1;if(null!=
this.pendingMeasurement)return!0;b=this.getPinSelected(a,d);null==b&&(d=this.fixY(d),a<this.xPixel1?(this.pd.shiftPressed&&this.setSpectrumClicked(this.iPreviousSpectrumClicked),a=this.fixX(a),null==this.zoomBox1D&&this.newPins(),this.zoomBox1D.setX(this.toX(a),a),this.zoomBox1D.yPixel0=d,b=this.zoomBox1D):null!=this.imageView&&a<this.imageView.xPixel1&&(this.zoomBox2D.setX(this.imageView.toX(a),this.imageView.fixX(a)),this.zoomBox2D.yPixel0=d,b=this.zoomBox2D));this.pd.thisWidget=b;return!1}this.nextClickForSetPeak=
null;b=this.pd.thisWidget;if(null==b)return!1;if(b===this.zoomBox1D)return this.zoomBox1D.xPixel1=this.fixX(a),this.zoomBox1D.yPixel1=this.fixY(d),this.pd.isIntegralDrag&&this.zoomBox1D.xPixel0!=this.zoomBox1D.xPixel1&&(this.lastIntDragX<=a!=this.zoomBox1D.xPixel0<=a&&(this.zoomBox1D.xPixel0=this.lastIntDragX,this.zoomBox1D.xPixel1=a,this.zoomBox1D.setXVal(this.toX(this.zoomBox1D.xPixel0))),this.lastIntDragX=a,this.checkIntegral(this.zoomBox1D.getXVal(),this.toX(this.zoomBox1D.xPixel1),!1)),!1;if(!this.zoomEnabled)return!1;
if(b===this.zoomBox2D)return this.zoomBox2D.xPixel1=this.imageView.fixX(a),this.zoomBox2D.yPixel1=this.fixY(d),!0;if(b===this.cur2Dy)return d=this.fixY(d),this.cur2Dy.yPixel0=this.cur2Dy.yPixel1=d,this.setCurrentSubSpectrum(this.imageView.toSubspectrumIndex(d)),!0;if(b===this.cur2Dx0||b===this.cur2Dx1)return!1;if(b===this.pin1Dx0||b===this.pin1Dx1||b===this.pin1Dx01){a=this.fixX(a);b.setX(this.toX0(a),a);if(b===this.pin1Dx01){b=a-w((this.pin1Dx0.xPixel0+this.pin1Dx1.xPixel0)/2);a=this.pin1Dx0.xPixel0+
b;d=this.pin1Dx1.xPixel0+b;if(0==b||this.fixX(a)!=a||this.fixX(d)!=d)return!0;this.pin1Dx0.setX(this.toX0(a),a);this.pin1Dx1.setX(this.toX0(d),d)}this.doZoom(this.pin1Dx0.getXVal(),0,this.pin1Dx1.getXVal(),0,!0,!1,!1,!0,!1);return!0}if(b===this.pin1Dy0||b===this.pin1Dy1||b===this.pin1Dy01){d=this.fixY(d);b.setY(this.toY0(d),d);if(b===this.pin1Dy01){b=d-w((this.pin1Dy0.yPixel0+this.pin1Dy1.yPixel0)/2)+1;d=this.pin1Dy0.yPixel0+b;a=this.pin1Dy1.yPixel0+b;b=this.toY0(d);var c=this.toY0(a);if(Math.min(b,
c)==this.getScale().minY||Math.max(b,c)==this.getScale().maxY)return!0;this.pin1Dy0.setY(b,d);this.pin1Dy1.setY(c,a)}this.doZoom(0,this.pin1Dy0.getYVal(),0,this.pin1Dy1.getYVal(),null==this.imageView,null==this.imageView,!1,!1,!1);return!0}if(b===this.pin2Dx0||b===this.pin2Dx1||b===this.pin2Dx01){a=this.imageView.fixX(a);b.setX(this.imageView.toX0(a),a);if(b===this.pin2Dx01){b=a-w((this.pin2Dx0.xPixel0+this.pin2Dx1.xPixel0)/2)+1;a=this.pin2Dx0.xPixel0+b;d=this.pin2Dx1.xPixel0+b;if(this.imageView.fixX(a)!=
a||this.imageView.fixX(d)!=d)return!0;this.pin2Dx0.setX(this.imageView.toX0(a),a);this.pin2Dx1.setX(this.imageView.toX0(d),d)}if(!JSV.common.GraphSet.isGoodEvent(this.pin2Dx0,this.pin2Dx1,!0))return this.reset2D(!0),!0;this.imageView.setView0(this.pin2Dx0.xPixel0,this.pin2Dy0.yPixel0,this.pin2Dx1.xPixel0,this.pin2Dy1.yPixel0);this.doZoom(this.pin2Dx0.getXVal(),this.getScale().minY,this.pin2Dx1.getXVal(),this.getScale().maxY,!1,!1,!1,!0,!1);return!0}if(b===this.pin2Dy0||b===this.pin2Dy1||b===this.pin2Dy01){d=
this.fixY(d);b.setY(this.imageView.toSubspectrumIndex(d),d);if(b===this.pin2Dy01){b=d-w((this.pin2Dy0.yPixel0+this.pin2Dy1.yPixel0)/2)+1;d=this.pin2Dy0.yPixel0+b;a=this.pin2Dy1.yPixel0+b;if(d!=this.fixY(d)||a!=this.fixY(a))return!0;this.pin2Dy0.setY(this.imageView.toSubspectrumIndex(d),d);this.pin2Dy1.setY(this.imageView.toSubspectrumIndex(a),a)}if(!JSV.common.GraphSet.isGoodEvent(this.pin2Dy0,this.pin2Dy1,!1))return this.reset2D(!1),!0;this.imageView.setView0(this.pin2Dx0.xPixel0,this.pin2Dy0.yPixel0,
this.pin2Dx1.xPixel1,this.pin2Dy1.yPixel1);return!0}return!1},"~N,~N,~B");c(b,"clearIntegrals",function(){this.checkIntegral(NaN,0,!1)});c(b,"clearMeasurements",function(){this.removeDialog(this.getFixedSelectedSpectrumIndex(),JSV.common.Annotation.AType.Measurements)});b.createGraphSetsAndSetLinkMode=c(b,"createGraphSetsAndSetLinkMode",function(a,d,b,c,f,e){for(var k=new JU.Lst,j=0;j<b.size();j++){var l=b.get(j),r=e===JSV.common.PanelData.LinkMode.NONE?JSV.common.GraphSet.findCompatibleGraphSet(k,
l):null;null==r&&k.addLast(r=new JSV.common.GraphSet(d.getPanelData()));r.addSpec(l)}JSV.common.GraphSet.setFractionalPositions(a,k,e);for(j=k.size();0<=--j;)k.get(j).initGraphSet(c,f),JU.Logger.info("JSVGraphSet "+(j+1)+" nSpectra = "+k.get(j).nSpectra);return k},"JSV.common.PanelData,JSV.api.JSVPanel,JU.Lst,~N,~N,JSV.common.PanelData.LinkMode");c(b,"drawGraphSet",function(a,d,b,c,f,e,k,j,l,r,m,p){this.zoomEnabled=this.pd.getBoolean(JSV.common.ScriptToken.ENABLEZOOM);this.height=f*this.pd.scalingFactor;
this.width=c*this.pd.scalingFactor;this.left=e*this.pd.scalingFactor;this.right=k*this.pd.scalingFactor;this.top=j*this.pd.scalingFactor;this.bottom=l*this.pd.scalingFactor;this.$haveSelectedSpectrum=!1;this.selectedSpectrumMeasurements=this.selectedSpectrumIntegrals=null;if(!this.pd.isPrinting&&null!=this.widgets)for(c=0;c<this.widgets.length;c++)null!=this.widgets[c]&&(this.widgets[c].isVisible=!1);for(c=0;c<this.nSplit;c++)this.setPositionForFrame(c),this.drawAll(a,d,b,c,r||1<this.nSplit,m,p);
this.setPositionForFrame(1<this.nSplit?this.pd.currentSplitPoint:0)},"~O,~O,~O,~N,~N,~N,~N,~N,~N,~B,~B,~B");c(b,"escapeKeyPressed",function(a){null!=this.zoomBox1D&&(this.zoomBox1D.xPixel0=this.zoomBox1D.xPixel1=0);null!=this.zoomBox2D&&(this.zoomBox2D.xPixel0=this.zoomBox2D.xPixel1=0);this.inPlotMove&&(null!=this.pendingMeasurement?this.pendingMeasurement=null:(this.pendingMeasurement=this.pd.thisWidget=null,null!=this.selectedSpectrumMeasurements&&null!=this.selectedMeasurement&&(a?this.selectedSpectrumMeasurements.clear(this.getScale().minXOnScale,
this.getScale().maxXOnScale):this.selectedSpectrumMeasurements.removeObj(this.selectedMeasurement),this.selectedMeasurement=null,this.updateDialog(JSV.common.Annotation.AType.Measurements,-1)),null!=this.selectedSpectrumIntegrals&&null!=this.selectedIntegral&&(a?this.selectedSpectrumIntegrals.clear(this.getScale().minXOnScale,this.getScale().maxXOnScale):this.selectedSpectrumIntegrals.removeObj(this.selectedIntegral),this.selectedIntegral=null,this.updateDialog(JSV.common.Annotation.AType.Integration,
-1))))},"~B");b.findGraphSet=c(b,"findGraphSet",function(a,d,b){for(var c=a.size();0<=--c;)if(a.get(c).hasPoint(d,b))return a.get(c);return null},"JU.Lst,~N,~N");c(b,"findMatchingPeakInfo",function(a){for(var d=null,b=0;b<this.spectra.size()&&null==(d=this.spectra.get(b).findMatchingPeakInfo(a));b++);return d},"JSV.common.PeakInfo");c(b,"getCurrentSpectrumIndex",function(){return 1==this.nSpectra?0:this.iSpectrumSelected});c(b,"getSelectedIntegral",function(){return this.selectedIntegral});c(b,"getShowAnnotation",
function(a,d){var b=this.getDialog(a,d);return null!=b&&b.getState()},"JSV.common.Annotation.AType,~N");c(b,"hasFileLoaded",function(a){for(var d=this.spectra.size();0<=--d;)if(this.spectra.get(d).getFilePathForwardSlash().equals(a))return!0;return!1},"~S");c(b,"haveSelectedSpectrum",function(){return this.$haveSelectedSpectrum});c(b,"mouseClickedEvent",function(a,d,b,c){this.selectedIntegral=this.selectedMeasurement=null;var f=this.nextClickForSetPeak;this.nextClickForSetPeak=null;if(!this.checkArrowUpDownClick(a,
d)&&!this.checkArrowLeftRightClick(a,d))if(this.lastClickX=NaN,this.lastPixelX=2147483647,this.isSplitWidget(a,d))this.splitStack(1==this.nSplit);else if(this.isCloserWidget(a,d))this.pd.closeSpectrum();else{var e=this.getPinSelected(a,d);if(null!=e)this.setWidgetValueByUser(e);else if(e=this.is2dClick(a,d),2==b&&(-1==this.iSpectrumClicked&&0<=this.iPreviousSpectrumClicked)&&this.setSpectrumClicked(this.iPreviousSpectrumClicked),!e&&c)this.setSpectrumClicked(this.iPreviousSpectrumClicked),null!=this.pendingMeasurement?
this.processPendingMeasurement(a,d,-3):0<=this.iSpectrumClicked&&this.processPendingMeasurement(a,d,3);else if(this.lastXMax=NaN,2==b)e?(this.sticky2Dcursor&&this.addAnnotation(this.getAnnotation(this.imageView.toX(a),this.imageView.toSubspectrumIndex(d),this.pd.coordStr,!1,!0,5,5),!0),this.sticky2Dcursor=!0,this.set2DCrossHairs(a,d)):this.isInTopBar(a,d)?this.doZoom(this.toX0(this.xPixel0),0,this.toX0(this.xPixel1),0,!0,!1,!1,!0,!0):this.isInRightBar(a,d)?this.doZoom(this.getScale().minXOnScale,
this.viewList.get(0).getScale().minYOnScale,this.getScale().maxXOnScale,this.viewList.get(0).getScale().maxYOnScale,!0,!0,!1,!1,!1):this.isInTopBar2D(a,d)?this.reset2D(!0):this.isInRightBar2D(a,d)?this.reset2D(!1):null!=this.pendingMeasurement?this.processPendingMeasurement(a,d,-2):0<=this.iSpectrumClicked&&this.processPendingMeasurement(a,d,2);else if(e){if(null!=this.annotations&&(c=(new JSV.common.Coordinate).set(this.imageView.toX(a),this.imageView.toSubspectrumIndex(d)),c=this.findAnnotation2D(c),
null!=c&&this.setAnnotationText(c)))return;1==b&&(this.sticky2Dcursor=!1);this.set2DCrossHairs(a,d)}else{if(this.isInPlotRegion(a,d)){if(null!=this.selectedSpectrumIntegrals&&this.checkIntegralNormalizationClick(a,d))return;if(null!=this.pendingMeasurement){this.processPendingMeasurement(a,d,1);return}this.setCoordClicked(a,this.toX(a),this.toY(d));this.updateDialog(JSV.common.Annotation.AType.PeakList,-1);if(null!=f){this.nextClickForSetPeak=f;this.shiftSpectrum(4,NaN,NaN);this.nextClickForSetPeak=
null;return}}else this.setCoordClicked(0,NaN,0);this.pd.notifyPeakPickedListeners(null)}}},"~N,~N,~N,~B");c(b,"is2dClick",function(a,d){return null!=this.imageView&&a==this.imageView.fixX(a)&&d==this.fixY(d)},"~N,~N");c(b,"updateDialog",function(a,d){var b=this.getDialog(a,d);if(null!=b&&this.isVisible(b)){var c=this.toX(this.xPixel1)-this.toX(this.xPixel0),f=this.getSpectrum().isInverted()?this.yPixel1-this.pd.mouseY:this.pd.mouseY-this.yPixel0;b.update(this.pd.coordClicked,c,f)}},"JSV.common.Annotation.AType,~N");
c(b,"isVisible",function(a){return null!=a&&a.isDialog()&&a.isVisible()},"JSV.api.AnnotationData");c(b,"mousePressedEvent",function(a,d){this.checkWidgetEvent(a,d,!0)},"~N,~N,~N");c(b,"mouseReleasedEvent",function(a,d){if(null!=this.pendingMeasurement)2>Math.abs(this.toPixelX(this.pendingMeasurement.getXVal())-a)&&(this.pendingMeasurement=null),this.processPendingMeasurement(a,d,-2),this.setToolTipForPixels(a,d);else if(0!=this.pd.integralShiftMode)this.pd.integralShiftMode=0,this.zoomBox1D.xPixel1=
this.zoomBox1D.xPixel0;else{0<=this.iSpectrumMovedTo&&this.setScale(this.iSpectrumMovedTo);var b=this.pd.thisWidget;if(this.pd.isIntegralDrag)JSV.common.GraphSet.isGoodEvent(this.zoomBox1D,null,!0)&&this.checkIntegral(this.toX(this.zoomBox1D.xPixel0),this.toX(this.zoomBox1D.xPixel1),!0),this.zoomBox1D.xPixel1=this.zoomBox1D.xPixel0=0,this.pendingIntegral=null,this.pd.isIntegralDrag=!1;else if(b===this.zoomBox2D)JSV.common.GraphSet.isGoodEvent(this.zoomBox2D,null,!0)&&(this.imageView.setZoom(this.zoomBox2D.xPixel0,
this.zoomBox2D.yPixel0,this.zoomBox2D.xPixel1,this.zoomBox2D.yPixel1),this.zoomBox2D.xPixel1=this.zoomBox2D.xPixel0,this.doZoom(this.imageView.toX(this.imageView.xPixel0),this.getScale().minY,this.imageView.toX(this.imageView.xPixel0+this.imageView.xPixels-1),this.getScale().maxY,!1,!1,!1,!0,!0));else if(b===this.zoomBox1D){if(JSV.common.GraphSet.isGoodEvent(this.zoomBox1D,null,!0)){var b=this.zoomBox1D.xPixel1,c=this.pd.shiftPressed;this.doZoom(this.toX(this.zoomBox1D.xPixel0),c?this.toY(this.zoomBox1D.yPixel0):
0,this.toX(b),c?this.toY(this.zoomBox1D.yPixel1):0,!0,c,!0,!0,!0);this.zoomBox1D.xPixel1=this.zoomBox1D.xPixel0}}else(b===this.pin1Dx0||b===this.pin1Dx1||b===this.cur2Dx0||b===this.cur2Dx1)&&this.addCurrentZoom()}},"~N,~N");c(b,"mouseMovedEvent",function(a,d){if(1<this.nSpectra){var b=this.getSplitPoint(d);this.setPositionForFrame(b);this.setSpectrumMovedTo(1<this.nSplit?b:this.iSpectrumSelected);0<=this.iSpectrumMovedTo&&this.setScale(this.iSpectrumMovedTo)}this.inPlotMove=this.isInPlotRegion(a,
d);this.setXPixelMovedTo(1.7976931348623157E308,1.7976931348623157E308,this.inPlotMove?a:-1,-1);this.inPlotMove&&(this.xValueMovedTo=this.toX(this.xPixelMovedTo),this.yValueMovedTo=this.getSpectrum().getYValueAt(this.xValueMovedTo));if(0!=this.pd.integralShiftMode){var b=this.getDialog(JSV.common.Annotation.AType.Integration,-1),c=b.getData().getXYCoords(),c=c[0<this.pd.integralShiftMode?c.length-1:0].getYVal();b.getData().shiftY(this.pd.integralShiftMode,this.toPixelYint(c)+d-(0<this.pd.integralShiftMode?
this.yPixelPlot1:this.yPixelPlot0),this.yPixel0,this.yPixels)}else this.pd.isIntegralDrag||(null!=this.pendingMeasurement?(this.processPendingMeasurement(a,d,0),this.setToolTipForPixels(a,d)):(this.selectedMeasurement=this.inPlotMove&&null!=this.selectedSpectrumMeasurements?this.findMeasurement(this.selectedSpectrumMeasurements,a,d,0):null,this.selectedIntegral=null,this.inPlotMove&&(null!=this.selectedSpectrumIntegrals&&null==this.selectedMeasurement)&&(this.selectedIntegral=this.findMeasurement(this.selectedSpectrumIntegrals,
a,d,0),null==this.selectedIntegral&&(this.selectedIntegral=this.findMeasurement(this.selectedSpectrumIntegrals,a,d,-5))),this.setToolTipForPixels(a,d),null==this.imageView?(this.piMouseOver=null,b=1<this.nSplit?this.iSpectrumMovedTo:this.iSpectrumClicked,!this.isDrawNoSpectra()&&0<=b&&(b=this.spectra.get(b),null!=b.getPeakList()&&(this.coordTemp.setXVal(this.toX(a)),this.coordTemp.setYVal(this.toY(d)),this.piMouseOver=b.findPeakByCoord(a,this.coordTemp)))):!this.pd.display1D&&this.sticky2Dcursor&&
this.set2DCrossHairs(a,d)))},"~N,~N");c(b,"nextView",function(){this.currentZoomIndex+1<this.viewList.size()&&this.setZoomTo(this.currentZoomIndex+1)});c(b,"previousView",function(){0<this.currentZoomIndex&&this.setZoomTo(this.currentZoomIndex-1)});c(b,"resetView",function(){this.setZoomTo(0)});c(b,"removeAllHighlights",function(){this.removeAllHighlights(null)});c(b,"removeHighlight",function(a){this.highlights.removeItemAt(a)},"~N");c(b,"removeHighlight",function(a,d){for(var b=this.highlights.size();0<=
--b;){var c=this.highlights.get(b);c.x1==a&&c.x2==d&&this.highlights.removeItemAt(b)}},"~N,~N");c(b,"scaleYBy",function(a){if(null!=this.imageView||this.zoomEnabled)this.viewData.scaleSpectrum(null==this.imageView?this.iSpectrumSelected:-2,a),null!=this.imageView&&(this.update2dImage(!1),this.resetPinsFromView()),this.pd.refresh()},"~N");c(b,"selectSpectrum",function(a,d,b){for(var c=!1,f=this.spectra.size();0<=--f;)if((null==a||this.getSpectrumAt(f).getFilePathForwardSlash().equals(a))&&this.getSpectrumAt(f).matchesPeakTypeModel(d,
b))this.setSpectrumSelected(f),1<this.nSplit&&this.splitStack(!0),c=!0;1<this.nSpectra&&(!c&&0<=this.iSpectrumSelected&&!this.pd.isCurrentGraphSet(this))&&this.setSpectrumSelected(-2147483648);return c},"~S,~S,~S");c(b,"selectPeakByFileIndex",function(a,d,b){for(var c,f=this.spectra.size();0<=--f;)if(null!=(c=this.getSpectrumAt(f).selectPeakByFileIndex(a,d,b)))return c;return null},"~S,~S,~S");c(b,"setSelected",function(a){0>a?(this.bsSelected.clearAll(),this.setSpectrumClicked(-1)):(this.bsSelected.set(a),
this.setSpectrumClicked(1==this.bsSelected.cardinality()?a:-1),1<this.nSplit&&0<=a&&(this.pd.currentSplitPoint=a))},"~N");c(b,"setSelectedIntegral",function(a){var d=this.selectedIntegral.getSpectrum();this.getIntegrationGraph(this.getSpectrumIndex(d)).setSelectedIntegral(this.selectedIntegral,a)},"~N");c(b,"setShowAnnotation",function(a,d){var b=this.getDialog(a,-1);if(null==b)null!=d&&d!==Boolean.TRUE||(a===JSV.common.Annotation.AType.PeakList||a===JSV.common.Annotation.AType.Integration||a===JSV.common.Annotation.AType.Measurements)&&
this.pd.showDialog(a);else if(null==d)b.isDialog()?b.setVisible(!b.isVisible()):this.pd.showDialog(a);else{var c=d.booleanValue();c&&b.setState(c);(c||b.isDialog())&&this.pd.showDialog(a);!c&&b.isDialog()&&b.setVisible(!1)}},"JSV.common.Annotation.AType,Boolean");c(b,"checkIntegralParams",function(a,d){if(!this.getSpectrum().canIntegrate()||this.reversePlot)return!1;var b=this.getFixedSelectedSpectrumIndex(),c=this.getDialog(JSV.common.Annotation.AType.Integration,-1);if(null==d)return!0;switch(JSV.common.IntegralData.IntMode.getMode(d.toUpperCase())){case JSV.common.IntegralData.IntMode.NA:return!1;
case JSV.common.IntegralData.IntMode.CLEAR:this.integrate(b,null);this.integrate(b,a);break;case JSV.common.IntegralData.IntMode.ON:null==c?this.integrate(b,a):c.setState(!0);break;case JSV.common.IntegralData.IntMode.OFF:null!=c&&c.setState(!1);break;case JSV.common.IntegralData.IntMode.TOGGLE:null==c?this.integrate(b,a):c.setState(!c.getState());break;case JSV.common.IntegralData.IntMode.AUTO:null==c&&(this.checkIntegralParams(a,"ON"),c=this.getDialog(JSV.common.Annotation.AType.Integration,-1));
null!=c&&c.getData().autoIntegrate();break;case JSV.common.IntegralData.IntMode.LIST:this.pd.showDialog(JSV.common.Annotation.AType.Integration);break;case JSV.common.IntegralData.IntMode.MARK:null==c&&(this.checkIntegralParams(a,"ON"),c=this.getDialog(JSV.common.Annotation.AType.Integration,-1));null!=c&&c.getData().addMarks(d.substring(4).trim());break;case JSV.common.IntegralData.IntMode.MIN:if(null!=c)try{var f=Double.parseDouble(JSV.common.ScriptToken.getTokens(d).get(1));c.getData().setMinimumIntegral(f)}catch(e){if(!z(e,
Exception))throw e;}break;case JSV.common.IntegralData.IntMode.UPDATE:null!=c&&c.getData().update(a)}this.updateDialog(JSV.common.Annotation.AType.Integration,-1);return!0},"JSV.common.Parameters,~S");c(b,"setSpectrum",function(a,d){d&&1<this.nSplit?1<this.nSplit&&this.setSpectrumClicked(a):(this.setSpectrumClicked(a),this.showAllStacked=this.stackSelected=!1);0<=a&&this.dialogsToFront(this.getSpectrum())},"~N,~B");c(b,"setSpectrumJDX",function(a){var d=this.getFixedSelectedSpectrumIndex();this.spectra.removeItemAt(d);
this.spectra.add(d,a);this.pendingMeasurement=null;this.clearViews();this.viewData.newSpectrum(this.spectra)},"JSV.common.Spectrum");c(b,"setZoom",function(a,d,b,c){this.setZoomTo(0);0==a&&0==b&&0==d&&0==c?(this.newPins(),this.imageView=null,this.getScale(),this.getScale()):this.doZoom(a,d,b,c,!0,d!=c,!1,!0,!0)},"~N,~N,~N,~N");c(b,"shiftSpectrum",function(a,d,b){var c=this.getSpectrum();if(!c.isNMR()||!c.is1D())return!1;var f=null,f=0;if(1.7976931348623157E308==b)f=-c.addSpecShift(0);else switch(a){case 3:f=
b;break;case 1:case 2:this.nextClickMode=a;if(Double.isNaN(d))return f=this.pd.getInput("Click on "+(1==a?"or beside a peak to set its chemical shift":"the spectrum set the chemical shift at that point")+(-2147483648==b?"":" to "+b)+".","Set Reference "+(1==a?"for Peak":"at Point"),"OK"),this.nextClickForSetPeak="OK".equals(f)?Double.$valueOf(b):null,!1;this.nextClickForSetPeak=null;case 4:null!=this.nextClickForSetPeak&&(b=this.nextClickForSetPeak.doubleValue(),this.nextClickForSetPeak=null);Double.isNaN(d)&&
(d=this.lastClickX);1==this.nextClickMode&&(d=this.getNearestPeak(c,d,this.toY(this.pd.mouseY)));if(Double.isNaN(b))try{var e=this.pd.getInput("New chemical shift (set blank to reset)","Set Reference",JU.DF.formatDecimalDbl(d,this.getScale().precision[0])).trim();b=0==e.length?d-c.addSpecShift(0):Double.parseDouble(e)}catch(k){if(z(k,Exception))return!1;throw k;}f=b-d}if(0==f)return!1;c.addSpecShift(f);if(null!=this.annotations)for(a=this.annotations.size();0<=--a;)this.annotations.get(a).spec===
c&&this.annotations.get(a).addSpecShift(f);if(null!=this.dialogs){var j;for(a=this.dialogs.entrySet().iterator();a.hasNext()&&((j=a.next())||1);)j.getValue().getSpectrum()===c&&j.getValue().setSpecShift(f)}this.getScale().addSpecShift(f);Double.isNaN(this.lastClickX)||(this.lastClickX+=f);this.updateDialogs();this.doZoom(0,this.getScale().minYOnScale,0,this.getScale().maxYOnScale,!0,!0,!1,!0,!1);this.pd.setTaintedAll();this.pd.repaint();return!0},"~N,~N,~N");c(b,"toPeak",function(a){a*=this.drawXAxisLeftToRight?
1:-1;Double.isNaN(this.lastClickX)&&(this.lastClickX=this.lastPixelX=0);var d=this.getSpectrum(),b=this.setCoordClicked(this.lastPixelX,this.lastClickX,0);a=d.setNextPeak(b,a);0>a||(a=d.getPeakList().get(a),d.setSelectedPeak(a),this.setCoordClicked(a.getXPixel(),a.getX(),0),this.pd.notifyPeakPickedListeners(new JSV.common.PeakPickEvent(this.jsvp,this.pd.coordClicked,a)))},"~N");c(b,"scaleSelectedBy",function(a){for(var d=this.bsSelected.nextSetBit(0);0<=d;d=this.bsSelected.nextSetBit(d+1))this.viewData.scaleSpectrum(d,
a)},"~N");e(b,"toString",function(){return"gs: "+this.nSpectra+" "+this.spectra+" "+this.spectra.get(0).getFilePath()});c(b,"setXPointer",function(a,d){null!=a&&this.setSpectrumClicked(this.getSpectrumIndex(a));this.xValueMovedTo=this.lastClickX=d;this.lastPixelX=this.toPixelX(d);this.setXPixelMovedTo(d,1.7976931348623157E308,0,0);this.yValueMovedTo=NaN},"JSV.common.Spectrum,~N");c(b,"setXPointer2",function(a,d){null!=a&&this.setSpectrumClicked(this.getSpectrumIndex(a));this.setXPixelMovedTo(1.7976931348623157E308,
d,0,0)},"JSV.common.Spectrum,~N");c(b,"hasCurrentMeasurement",function(a){return null!=(a===JSV.common.Annotation.AType.Integration?this.selectedSpectrumIntegrals:this.selectedSpectrumMeasurements)},"JSV.common.Annotation.AType");c(b,"getDialog",function(a,d){-1==d&&(d=this.getCurrentSpectrumIndex());return null==this.dialogs||0>d?null:this.dialogs.get(a+"_"+d)},"JSV.common.Annotation.AType,~N");c(b,"removeDialog",function(a,d){null!=this.dialogs&&0<=a&&this.dialogs.remove(d+"_"+a)},"~N,JSV.common.Annotation.AType");
c(b,"addDialog",function(a,d,b){null==this.dialogs&&(this.dialogs=new java.util.Hashtable);a=d+"_"+a;b.setGraphSetKey(a);this.dialogs.put(a,b);return b},"~N,JSV.common.Annotation.AType,JSV.api.AnnotationData");c(b,"removeDialog",function(a){var d=a.getGraphSetKey();this.dialogs.remove(d);a=a.getData();null!=a&&this.dialogs.put(d,a)},"JSV.dialog.JSVDialog");c(b,"getPeakListing",function(a,d,b){0>a&&(a=this.getCurrentSpectrumIndex());if(0>a)return null;var c=this.getDialog(JSV.common.Annotation.AType.PeakList,
-1);if(null==c){if(!b)return null;this.addDialog(a,JSV.common.Annotation.AType.PeakList,c=new JSV.common.PeakData(JSV.common.Annotation.AType.PeakList,this.getSpectrum()))}c.getData().setPeakList(d,-2147483648,this.viewData.getScale());c.isDialog()&&c.setFields();return c.getData()},"~N,JSV.common.Parameters,~B");c(b,"setPeakListing",function(a){var d=this.getDialog(JSV.common.Annotation.AType.PeakList,-1),b=null!=d&&d.isDialog()?d:null;(null==a?null==b||!b.isVisible():a.booleanValue())?this.pd.showDialog(JSV.common.Annotation.AType.PeakList):
d.isDialog()&&d.setVisible(!1)},"Boolean");c(b,"haveIntegralDisplayed",function(a){a=this.getDialog(JSV.common.Annotation.AType.Integration,a);return null!=a&&a.getState()},"~N");c(b,"getIntegrationGraph",function(a){a=this.getDialog(JSV.common.Annotation.AType.Integration,a);return null==a?null:a.getData()},"~N");c(b,"setIntegrationRatios",function(a){var d=this.getFixedSelectedSpectrumIndex();null==this.aIntegrationRatios&&(this.aIntegrationRatios=Array(this.nSpectra));this.aIntegrationRatios[d]=
JSV.common.IntegralData.getIntegrationRatiosFromString(this.getSpectrum(),a)},"~S");c(b,"getIntegrationRatios",function(a){return null==this.aIntegrationRatios?null:this.aIntegrationRatios[a]},"~N");c(b,"integrate",function(a,d){var b=this.getSpectrumAt(a);if(null==d||!b.canIntegrate())return this.removeDialog(a,JSV.common.Annotation.AType.Integration),!1;this.addDialog(a,JSV.common.Annotation.AType.Integration,new JSV.common.IntegralData(b,d));return!0},"~N,JSV.common.Parameters");c(b,"getIntegration",
function(a,d,b){0>a&&(a=this.getCurrentSpectrumIndex());if(0>a)return null;var c=this.getDialog(JSV.common.Annotation.AType.Integration,-1);if(null==c){if(!b)return null;c=this.addDialog(a,JSV.common.Annotation.AType.Integration,new JSV.common.IntegralData(this.getSpectrum(),d))}return c.getData()},"~N,JSV.common.Parameters,~B");c(b,"getMeasurementInfo",function(a,d){var b;switch(a){case JSV.common.Annotation.AType.PeakList:b=this.getPeakListing(d,null,!1);break;case JSV.common.Annotation.AType.Integration:b=
this.getIntegration(d,null,!1);break;default:return null}if(null==b)return null;var c=new java.util.Hashtable;b.getInfo(c);return c},"JSV.common.Annotation.AType,~N");c(b,"getInfo",function(a,d){var b=new java.util.Hashtable;if("".equals(a))b.put("KEYS","viewInfo spectra");else if("viewInfo".equalsIgnoreCase(a))return this.getScale().getInfo(b);var c=new JU.Lst;b.put("spectra",c);for(var f=0;f<this.nSpectra;f++)if(!(0<=d&&f!=d)){var e=this.spectra.get(f),k=e.getInfo(a);if(0<=d&&null!=a&&(2==k.size()||
a.equalsIgnoreCase("id")))return 2==k.size()&&k.remove("id"),k;JSV.common.Parameters.putInfo(a,k,"type",e.getDataType());JSV.common.Parameters.putInfo(a,k,"titleLabel",e.getTitleLabel());JSV.common.Parameters.putInfo(a,k,"filePath",e.getFilePath().$replace("\\","/"));JSV.common.Parameters.putInfo(a,k,"PeakList",JSV.common.Parameters.isMatch(a,"PeakList")?this.getMeasurementInfo(JSV.common.Annotation.AType.PeakList,f):null);JSV.common.Parameters.putInfo(a,k,"Integration",JSV.common.Parameters.isMatch(a,
"Integration")?this.getMeasurementInfo(JSV.common.Annotation.AType.Integration,f):null);if(0<=d)return k;c.addLast(k)}return b},"~S,~N");c(b,"getTitle",function(a){return 1==this.nSpectra||0<=this.iSpectrumSelected&&(!a||1==this.nSplit)?this.getSpectrum().getTitle():null},"~B");c(b,"getCurrentView",function(){this.setScale(this.getFixedSelectedSpectrumIndex());return this.viewData.getScale()});c(b,"set2DXY",function(a,d,b){var c;null!=this.gs2dLinkedX&&(c=this.toPixelX(a),c!=this.fixX(c)&&(c=-2147483648,
a=1.7976931348623157E308),this.cur1D2x1.setX(a,c));null!=this.gs2dLinkedY&&(c=this.toPixelX(d),c!=this.fixX(c)&&(c=-2147483648,d=1.7976931348623157E308),this.cur1D2x2.setX(d,c));this.cur1D2Locked=b},"~N,~N,~B");c(b,"dialogsToFront",function(a){if(null!=this.dialogs){null==a&&(a=this.getSpectrum());for(var d,b=this.dialogs.entrySet().iterator();b.hasNext()&&((d=b.next())||1);){var c=d.getValue();this.isVisible(c)&&(null==a?c.setVisible(!0):c.setFocus(c.getSpectrum()===a))}}},"JSV.common.Spectrum");
c(b,"setPlotColors",function(a){var d=a;if(d.length>this.nSpectra)a=Array(this.nSpectra),System.arraycopy(d,0,a,0,this.nSpectra),d=a;else if(this.nSpectra>d.length){a=Array(this.nSpectra);var b=this.nSpectra-d.length;System.arraycopy(d,0,a,0,d.length);for(var c=0,d=d.length;c<b;c++,d++)a[d]=this.generateRandomColor();d=a}this.plotColors=d},"~O");c(b,"disposeImage",function(){null!=this.image2D&&this.image2D.parentNode.removeChild(this.image2D);this.plotColors=this.highlights=this.pd=this.jsvp=this.image2D=
null});c(b,"generateRandomColor",function(){for(;;){var a=w(255*Math.random()),d=w(255*Math.random()),b=w(255*Math.random()),a=this.g2d.getColor3(a,d,b);if(0!=a.getRGB())return a}});c(b,"setPlotColor0",function(a){this.plotColors[0]=a},"~O");c(b,"getPlotColor",function(a){return a>=this.plotColors.length?null:this.plotColors[a]},"~N");c(b,"setColorFromToken",function(a,d){null!=d&&this.g2d.setGraphicsColor(a,d===JSV.common.ScriptToken.PLOTCOLOR?this.plotColors[0]:this.pd.getColor(d))},"~O,JSV.common.ScriptToken");
c(b,"setPlotColor",function(a,d){var b;switch(d){case -3:b=JSV.common.GraphSet.veryLightGrey;break;case -2:b=this.pd.BLACK;break;case -1:b=this.pd.getColor(JSV.common.ScriptToken.INTEGRALPLOTCOLOR);break;default:b=this.plotColors[d]}this.g2d.setGraphicsColor(a,b)},"~O,~N");c(b,"draw2DImage",function(){null!=this.imageView&&this.g2d.drawGrayScaleImage(this.gMain,this.image2D,this.imageView.xPixel0,this.imageView.yPixel0,this.imageView.xPixel0+this.imageView.xPixels-1,this.imageView.yPixel0+this.imageView.yPixels-
1,this.imageView.xView1,this.imageView.yView1,this.imageView.xView2,this.imageView.yView2)});c(b,"get2DImage",function(){this.imageView=new JSV.common.ImageView;this.imageView.set(this.viewList.get(0).getScale());if(!this.update2dImage(!0))return!1;this.imageView.resetZoom();return this.sticky2Dcursor=!0},"JSV.common.Spectrum");c(b,"update2dImage",function(a){this.imageView.set(this.viewData.getScale());var d=this.getSpectrumAt(0),b=this.imageView.get2dBuffer(d,!a);if(null==b)return this.imageView=
this.image2D=null,!1;a&&(b=this.imageView.adjustView(d,this.viewData),this.imageView.resetView());this.image2D=this.g2d.newGrayScaleImage(this.gMain,this.image2D,this.imageView.imageWidth,this.imageView.imageHeight,b);this.setImageWindow();return!0},"~B");c(b,"getAnnotation",function(a,d,b,c,f,e,k){return(new JSV.common.ColoredAnnotation).setCA(a,d,this.getSpectrum(),b,this.pd.BLACK,c,f,e,k)},"~N,~N,~S,~B,~B,~N,~N");c(b,"getAnnotation",function(a,d){return JSV.common.Annotation.getColoredAnnotation(this.g2d,
this.getSpectrum(),a,d)},"JU.Lst,JSV.common.Annotation");c(b,"fillBox",function(a,d,b,c,f,e){this.setColorFromToken(a,e);this.g2d.fillRect(a,Math.min(d,c),Math.min(b,f),Math.abs(d-c),Math.abs(b-f))},"~O,~N,~N,~N,~N,JSV.common.ScriptToken");c(b,"drawBox",function(a,d,b,c,f,e){this.setColorFromToken(a,e);this.g2d.drawRect(a,Math.min(d,c),Math.min(b,f),Math.abs(d-c)-1,Math.abs(b-f)-1)},"~O,~N,~N,~N,~N,JSV.common.ScriptToken");c(b,"drawHandle",function(a,d,b,c,f){f?this.g2d.drawRect(a,d-c,b-c,2*c,2*c):
this.g2d.fillRect(a,d-c,b-c,2*c+1,2*c+1)},"~O,~N,~N,~N,~B");c(b,"setCurrentBoxColor",function(a){this.g2d.setGraphicsColor(a,this.pd.BLACK)},"~O");c(b,"fillArrow",function(a,d,b,c,f){var e=1;switch(d){case 1:case 3:e=-1}b=D(-1,[b-5,b-5,b+5,b+5,b+8,b,b-8]);c=D(-1,[c+5*e,c-e,c-e,c+5*e,c+5*e,c+10*e,c+5*e]);switch(d){case 1:case 2:f?this.g2d.fillPolygon(a,c,b,7):this.g2d.drawPolygon(a,c,b,7);break;case 3:case 4:f?this.g2d.fillPolygon(a,b,c,7):this.g2d.drawPolygon(a,b,c,7)}},"~O,~N,~N,~N,~B");c(b,"fillCircle",
function(a,d,b,c){c?this.g2d.fillCircle(a,d-4,b-4,8):this.g2d.drawCircle(a,d-4,b-4,8)},"~O,~N,~N,~B");c(b,"setAnnotationColor",function(a,d,b){null!=b?this.setColorFromToken(a,b):(b=null,x(d,"JSV.common.ColoredAnnotation")&&(b=d.getColor()),null==b&&(b=this.pd.BLACK),this.g2d.setGraphicsColor(a,b))},"~O,JSV.common.Annotation,JSV.common.ScriptToken");c(b,"setSolutionColor",function(a,d,b){for(var c=0;c<this.nSpectra;c++){var f=this.spectra.get(c),e=d||!f.canShowSolutionColor()?-1:a.getColour(f,b);
f.setFillColor(-1==e?null:this.pd.vwr.parameters.getColor1(e))}},"JSV.api.VisibleInterface,~B,~B");c(b,"setIRMode",function(a,d){for(var b=0;b<this.nSpectra;b++){var c=this.spectra.get(b);if(c.dataType.equals(d)){var f=JSV.common.Spectrum.taConvert(c,a);f!==c&&this.pd.setSpecForIRMode(f)}}},"JSV.common.Spectrum.IRMode,~S");c(b,"getSpectrumCount",function(){return 0});c(b,"invertYAxis",function(){this.viewList.get(0).init(null,0,0,this.getSpectrum().invertYAxis().isContinuous());this.resetViewCompletely()});
b.$GraphSet$Highlight$=function(){var a=q(function(){R(this,arguments);this.x2=this.x1=0;this.spectrum=this.color=null;s(this,arguments)},JSV.common.GraphSet,"Highlight");e(a,"toString",function(){return"highlight "+this.x1+" "+this.x2+" "+this.spectrum});p(a,function(a,b,c,f){this.x1=a;this.x2=b;this.color=f;this.spectrum=c},"~N,~N,JSV.common.Spectrum,javajs.api.GenericColor");e(a,"equals",function(a){return!x(a,"JSV.common.GraphSet.Highlight")?!1:a.x1==this.x1&&a.x2==this.x2},"~O")};b.RT2=b.prototype.RT2=
Math.sqrt(2);E(b,"veryLightGrey",null)});t("JSV.common");v(["JSV.common.XYScaleConverter"],"JSV.common.ImageView",["java.lang.Double","JSV.common.Coordinate","$.ScaleData"],function(){var b=q(function(){this.buf2d=null;this.yView2=this.xView2=this.yView1=this.xView1=this.yPixelZoom2=this.xPixelZoom2=this.yPixelZoom1=this.xPixelZoom1=this.yPixels=this.xPixels=this.imageHeight=this.imageWidth=this.yPixel1=this.xPixel1=this.yPixel0=this.xPixel0=this.averageGray=this.grayFactorLast=0;this.minX=NaN;this.maxZ=
this.minZ=this.maxY=this.minY=this.maxX=0;this.scaleData=null;s(this,arguments)},JSV.common,"ImageView",null,JSV.common.XYScaleConverter);c(b,"set",function(a){Double.isNaN(this.minX)&&(this.minX=a.minX,this.maxX=a.maxX);this.minZ=a.minY;this.maxZ=a.maxY;this.scaleData=new JSV.common.ScaleData},"JSV.common.ScaleData");c(b,"setZoom",function(a,d,b,c){this.xPixelZoom1=Math.min(a,b);this.yPixelZoom1=Math.min(d,c);this.xPixelZoom2=Math.max(a,b);this.yPixelZoom2=Math.max(d,c);this.setView()},"~N,~N,~N,~N");
c(b,"setXY0",function(a,d,b){this.xPixel0=d;this.yPixel0=b;this.xPixel1=this.xPixel0+this.xPixels-1;this.yPixel1=this.yPixel0+this.yPixels-1;this.setMinMaxY(a)},"JSV.common.Spectrum,~N,~N");c(b,"setPixelWidthHeight",function(a,d){this.xPixels=a;this.yPixels=d},"~N,~N");c(b,"resetView",function(){this.yView1=this.xView1=0;this.xView2=this.imageWidth-1;this.yView2=this.imageHeight-1});c(b,"setView",function(){0==this.xPixelZoom1&&this.resetZoom();var a=this.toImageX(this.xPixelZoom1),d=this.toImageY(this.yPixelZoom1),
b=this.toImageX(this.xPixelZoom2),c=this.toImageY(this.yPixelZoom2);this.xView1=Math.min(a,b);this.yView1=Math.min(d,c);this.xView2=Math.max(a,b);this.yView2=Math.max(d,c);this.setScaleData();this.resetZoom()});c(b,"resetZoom",function(){this.xPixelZoom1=this.xPixel0;this.yPixelZoom1=this.yPixel0;this.xPixelZoom2=this.xPixel1;this.yPixelZoom2=this.yPixel1});c(b,"toImageX",function(a){return this.xView1+w(Math.floor((a-this.xPixel0)/(this.xPixels-1)*(this.xView2-this.xView1)))},"~N");c(b,"toImageY",
function(a){return this.yView1+w(Math.floor((a-this.yPixel0)/(this.yPixels-1)*(this.yView2-this.yView1)))},"~N");c(b,"toImageX0",function(a){return JSV.common.Coordinate.intoRange(w((1*a-this.xPixel0)/(this.xPixels-1)*(this.imageWidth-1)),0,this.imageWidth-1)},"~N");c(b,"toImageY0",function(a){return JSV.common.Coordinate.intoRange(w((1*a-this.yPixel0)/(this.yPixels-1)*(this.imageHeight-1)),0,this.imageHeight-1)},"~N");c(b,"isXWithinRange",function(a){return a>=this.xPixel0-5&&a<this.xPixel0+this.xPixels+
5},"~N");c(b,"toSubspectrumIndex",function(a){return JSV.common.Coordinate.intoRange(this.imageHeight-1-this.toImageY(a),0,this.imageHeight-1)},"~N");c(b,"toX0",function(a){return this.maxX+(this.minX-this.maxX)*(this.fixX(a)-this.xPixel0)/(this.xPixels-1)},"~N");c(b,"toPixelX0",function(a){return this.xPixel1-w((a-this.minX)/(this.maxX-this.minX)*(this.xPixels-1))},"~N");c(b,"toPixelY0",function(a){return this.yPixel1-w(a/(this.imageHeight-1)*(this.yPixels-1))},"~N");c(b,"subIndexToPixelY",function(a){return this.yPixel0+
w(1*(this.imageHeight-1-a-this.yView1)/(this.yView2-this.yView1)*(this.yPixels-1))},"~N");c(b,"fixSubIndex",function(a){return JSV.common.Coordinate.intoRange(a,this.imageHeight-1-this.yView2,this.imageHeight-1-this.yView1)},"~N");c(b,"setView0",function(a,d,b,c){a=this.toImageX0(a);d=this.toImageY0(d);b=this.toImageX0(b);c=this.toImageY0(c);this.xView1=Math.min(a,b);this.yView1=Math.min(d,c);this.xView2=Math.max(a,b);this.yView2=Math.max(d,c);this.resetZoom()},"~N,~N,~N,~N");c(b,"get2dBuffer",function(a,
d){var b=a.getSubSpectra();if(null==b||!b.get(0).isContinuous())return null;var c=a.getXYCoords(),f=b.size();this.imageWidth=c.length;this.imageHeight=f;var e=255/(this.maxZ-this.minZ);if(!d&&null!=this.buf2d&&e==this.grayFactorLast)return this.buf2d;this.grayFactorLast=e;for(var k=this.imageWidth*this.imageHeight,j=null==this.buf2d||this.buf2d.length!=k?D(k,0):this.buf2d,l=0,r=0;r<f;r++){var m=b.get(r).xyCoords;if(m.length!=c.length)return null;for(var p=0;p<c.length;p++){var n=m[p].getYVal(),n=
255-JSV.common.Coordinate.intoRange(w((n-this.minZ)*e),0,255);j[--k]=n;l+=n}}this.averageGray=1-l/(this.imageWidth*this.imageHeight)/255;System.out.println("Average gray = "+this.averageGray);return this.buf2d=j},"JSV.common.Spectrum,~B");c(b,"adjustView",function(a,d){for(var b=0,c=!1;((c=0.05>this.averageGray)||0.3<this.averageGray)&&10>b++;)d.scaleSpectrum(-2,c?2:0.5),this.set(d.getScale()),this.get2dBuffer(a,!1);return this.buf2d},"JSV.common.Spectrum,JSV.common.ViewData");c(b,"getBuffer",function(){return this.buf2d});
c(b,"setMinMaxY",function(a){a=a.getSubSpectra();var d=a.get(0);this.maxY=d.getY2D();this.minY=a.get(a.size()-1).getY2D();d.y2DUnits.equalsIgnoreCase("Hz")&&(this.maxY/=d.freq2dY,this.minY/=d.freq2dY);this.setScaleData()},"JSV.common.Spectrum");c(b,"setScaleData",function(){this.scaleData.minY=this.minY;this.scaleData.maxY=this.maxY;this.scaleData.setYScale(this.toY(this.yPixel0),this.toY(this.yPixel1),!1,!1)});e(b,"fixX",function(a){return a<this.xPixel0?this.xPixel0:a>this.xPixel1?this.xPixel1:
a},"~N");e(b,"fixY",function(a){return JSV.common.Coordinate.intoRange(a,this.yPixel0,this.yPixel1)},"~N");e(b,"getScale",function(){return this.scaleData});e(b,"toX",function(a){return this.maxX+(this.minX-this.maxX)*this.toImageX(this.fixX(a))/(this.imageWidth-1)},"~N");e(b,"toY",function(a){a=this.toSubspectrumIndex(a);return this.maxY+(this.minY-this.maxY)*a/(this.imageHeight-1)},"~N");e(b,"toPixelX",function(a){var d=this.toX(this.xPixel0),b=this.toX(this.xPixel1);return this.xPixel0+w((a-d)/
(b-d)*(this.xPixels-1))},"~N");e(b,"toPixelY",function(a){return w(this.yPixel0+(a-this.scaleData.minYOnScale)/(this.scaleData.maxYOnScale-this.scaleData.minYOnScale)*this.yPixels)},"~N");e(b,"getXPixels",function(){return this.xPixels});e(b,"getYPixels",function(){return this.yPixels});e(b,"getXPixel0",function(){return this.xPixel0})});t("JSV.common");v(["JSV.common.Measurement"],"JSV.common.Integral",null,function(){var b=u(JSV.common,"Integral",JSV.common.Measurement);c(b,"setInt",function(a,
d,b,c,f,e){this.setA(a,d,b,"",!1,!1,0,6);this.setPt2(f,e);this.setValue(c);return this},"~N,~N,JSV.common.Spectrum,~N,~N,~N")});t("JSV.common");n=u(JSV.common,"IntegralComparator",null,java.util.Comparator);e(n,"compare",function(b,a){return b.getXVal()<a.getXVal()?-1:b.getXVal()>a.getXVal()?1:0},"JSV.common.Measurement,JSV.common.Measurement");t("JSV.common");v(["java.lang.Enum","JSV.common.MeasurementData","$.IntegralComparator"],"JSV.common.IntegralData","java.lang.Double java.util.Collections $.StringTokenizer JU.AU $.BS $.DF $.Lst $.PT JSV.common.Annotation $.Coordinate $.Integral $.ScriptToken".split(" "),
function(){var b=q(function(){this.intRange=this.percentOffset=this.percentMinY=0;this.normalizationFactor=1;this.integralTotal=this.offset=this.percentRange=0;this.haveRegions=!1;this.xyCoords=null;s(this,arguments)},JSV.common,"IntegralData",JSV.common.MeasurementData);c(b,"getPercentMinimumY",function(){return this.percentMinY});c(b,"getPercentOffset",function(){return this.percentOffset});c(b,"getIntegralFactor",function(){return this.intRange});p(b,function(a,b,c,f){B(this,JSV.common.IntegralData,
[JSV.common.Annotation.AType.Integration,f]);this.percentMinY=a;this.percentOffset=b;this.percentRange=c;this.calculateIntegral()},"~N,~N,~N,JSV.common.Spectrum");p(b,function(a,b){B(this,JSV.common.IntegralData,[JSV.common.Annotation.AType.Integration,a]);null==b?this.autoIntegrate():(this.percentOffset=b.integralOffset,this.percentRange=b.integralRange,this.calculateIntegral())},"JSV.common.Spectrum,JSV.common.Parameters");c(b,"update",function(a){this.update(a.integralMinY,a.integralOffset,a.integralRange)},
"JSV.common.Parameters");c(b,"update",function(a,b,c){var f=this.percentRange;if(!(0>=c||c==this.percentRange&&b==this.percentOffset)){this.percentOffset=b;this.percentRange=c;this.checkRange();a=c/100/this.integralTotal;b/=100;for(var e=0;e<this.xyCoords.length;e++){var k=this.xyCoords[e].getYVal(),k=(k-this.offset)/this.intRange;this.xyCoords[e].setYVal(k*a+b)}1!=this.normalizationFactor&&(this.normalizationFactor*=f/c);if(this.haveRegions)for(e=this.size();0<=--e;)c=this.get(e),f=this.getYValueAt(c.getXVal()),
k=this.getYValueAt(c.getXVal2()),c.setYVal(f),c.setYVal2(k),c.setValue(100*Math.abs(k-f)*this.normalizationFactor);this.intRange=a;this.offset=b}},"~N,~N,~N");c(b,"getYValueAt",function(a){return JSV.common.Coordinate.getYValueAt(this.xyCoords,a)},"~N");c(b,"addIntegralRegion",function(a,b){if(Double.isNaN(a))return this.haveRegions=!1,this.clear(),null;if(Double.isNaN(b))return this.splitIntegral(a);if(a==b)return null;if(a<b)return this.clear(a,b),null;var c=this.getYValueAt(a),f=this.getYValueAt(b);
this.haveRegions=!0;c=(new JSV.common.Integral).setInt(a,c,this.spec,100*Math.abs(f-c)*this.normalizationFactor,b,f);this.clear(a,b);this.addLast(c);java.util.Collections.sort(this,JSV.common.IntegralData.c);return c},"~N,~N");c(b,"splitIntegral",function(a){var b=this.find(a);if(0>b)return null;var c=this.removeItemAt(b),b=c.getXVal(),c=c.getXVal2();this.addIntegralRegion(b,a);return this.addIntegralRegion(a,c)},"~N");e(b,"setSpecShift",function(a){JSV.common.Coordinate.shiftX(this.xyCoords,a);for(var b=
this.size();1<=--b;)this.get(b).addSpecShift(a)},"~N");c(b,"addMarks",function(a){a=JU.PT.rep(" "+a,","," ");a=JU.PT.rep(a," -"," #");a=JU.PT.rep(a,"--","-#");a=a.$replace("-","^");a=a.$replace("#","-");a=JSV.common.ScriptToken.getTokens(a);for(var b=0;b<a.size();b++)try{var c=a.get(b),f=0,e=c.indexOf("^");if(!(0>e)){var k=c.indexOf(":");k>e&&(f=Double.$valueOf(c.substring(k+1).trim()).doubleValue(),c=c.substring(0,k).trim());var j=Double.$valueOf(c.substring(0,e).trim()).doubleValue(),l=Double.$valueOf(c.substring(e+
1).trim()).doubleValue();0==l&&0==j&&this.clear();if(l!=j){var r=this.addIntegralRegion(Math.max(l,j),Math.min(l,j));null!=r&&0<f&&this.setSelectedIntegral(r,f)}}}catch(m){if(!z(m,Exception))throw m;}},"~S");c(b,"calculateIntegral",function(){var a=this.spec.getXYCoords();this.xyCoords=Array(a.length);this.integralTotal=0;this.checkRange();for(var b=1E100,c=0;c<a.length;c++){var f=a[c].getYVal();f<b&&0<=f&&(b=f)}for(var e=1E100,k=-1E100,c=0;c<a.length;c++)f=a[c].getYVal(),this.integralTotal+=f-b,
this.integralTotal<e&&(e=this.integralTotal),this.integralTotal>k&&(k=this.integralTotal);this.integralTotal=k-e;this.intRange=this.percentRange/100/this.integralTotal;this.offset=this.percentOffset/100;e=0;for(c=a.length;0<=--c;)f=a[c].getYVal(),e+=f-b,this.xyCoords[c]=(new JSV.common.Coordinate).set(a[c].getXVal(),e*this.intRange+this.offset);return this.xyCoords});c(b,"checkRange",function(){this.percentOffset=Math.max(5,this.percentOffset);this.percentRange=Math.max(10,this.percentRange)});b.getIntegrationRatiosFromString=
c(b,"getIntegrationRatiosFromString",function(a,b){for(var c=new JU.Lst,f=new java.util.StringTokenizer(b,",");f.hasMoreTokens();){var e=f.nextToken(),e=new java.util.StringTokenizer(e,":"),e=(new JSV.common.Annotation).setA(Double.parseDouble(e.nextToken()),0,a,e.nextToken(),!0,!1,0,0);c.addLast(e)}return c},"JSV.common.Spectrum,~S");c(b,"getXYCoords",function(){return this.xyCoords});c(b,"getPercentYValueAt",function(a){return 100*this.getYValueAt(a)},"~N");c(b,"dispose",function(){this.xyCoords=
this.spec=null});c(b,"setSelectedIntegral",function(a,b){var c=a.getValue();this.factorAllIntegrals(0>=b?1/this.normalizationFactor:b/c,0>=b)},"JSV.common.Measurement,~N");c(b,"factorAllIntegrals",function(a,b){for(var c=0;c<this.size();c++){var f=this.get(c);f.setValue(a*f.getValue())}this.normalizationFactor=b?1:this.normalizationFactor*a},"~N,~B");c(b,"remove",function(a){return this.removeItemAt(a)},"~N");c(b,"getBitSet",function(){var a=JU.BS.newN(this.xyCoords.length);if(0==this.size())return a.setBits(0,
this.xyCoords.length),a;for(var b=this.size();0<=--b;){var c=this.get(b),f=JSV.common.Coordinate.getNearestIndexForX(this.xyCoords,c.getXVal()),c=JSV.common.Coordinate.getNearestIndexForX(this.xyCoords,c.getXVal2());a.setBits(Math.min(f,c),Math.max(f,c))}return a});e(b,"getMeasurementListArray",function(){for(var a=Array(this.size()),b=0,c=this.size();0<=--c;)a[b++]=y(-1,[""+b,JU.DF.formatDecimalDbl(this.get(c).getXVal(),2),JU.DF.formatDecimalDbl(this.get(c).getXVal2(),2),this.get(c).text]);return a},
"~S");e(b,"getMeasurementListArrayReal",function(){for(var a=JU.AU.newDouble2(this.size()),b=0,c=this.size();0<=--c;b++)a[b]=N(-1,[this.get(c).getXVal(),this.get(c).getXVal2(),this.get(c).getValue()]);return a},"~S");e(b,"getDataHeader",function(){return JSV.common.IntegralData.$HEADER});c(b,"shiftY",function(a,b,c,f){b=w(100*(c+f-b)/f);0>a&&(b-=this.percentOffset);0>a?this.update(0,this.percentOffset,b):this.update(0,b,this.percentRange)},"~N,~N,~N,~N");c(b,"autoIntegrate",function(){null==this.xyCoords&&
this.calculateIntegral();if(0!=this.xyCoords.length){this.clear();for(var a=-1,b=0,c=this.xyCoords[this.xyCoords.length-1].getYVal(),f=this.xyCoords.length-1;0<=--f;){var e=this.xyCoords[f].getYVal();b++;1E-4>e-c&&0>a?e<c&&(c=e,b=0):0>a?(a=f+Math.min(b,20),c=e,b=0):1E-4>e-c?(1==b&&(c=e),20<=b&&(this.addIntegralRegion(this.xyCoords[a].getXVal(),this.xyCoords[f].getXVal()),a=-1,c=e,b=0)):(b=0,c=e)}a=this.spec.getHydrogenCount();0<a&&this.factorAllIntegrals(a/this.percentRange,!1)}});c(b,"getInfo",function(a){a.put("offset",
Double.$valueOf(this.myParams.integralOffset));a.put("range",Double.$valueOf(this.myParams.integralRange));a.put("normalizationFactor",Double.$valueOf(this.normalizationFactor));a.put("integralTotal",Double.$valueOf(this.integralTotal));T(this,JSV.common.IntegralData,"getInfo",[a])},"java.util.Map");c(b,"setMinimumIntegral",function(a){for(var b=this.size();0<=--b;)this.get(b).getValue()<a&&this.removeItemAt(b)},"~N");var a=u(JSV.common.IntegralData,"IntMode",Enum);a.getMode=c(a,"getMode",function(a){for(var b,
c=0,f=JSV.common.IntegralData.IntMode.values();c<f.length&&((b=f[c])||1);c++)if(a.startsWith(b.name()))return b;return JSV.common.IntegralData.IntMode.NA},"~S");m(a,"OFF",0,[]);m(a,"ON",1,[]);m(a,"TOGGLE",2,[]);m(a,"AUTO",3,[]);m(a,"LIST",4,[]);m(a,"MARK",5,[]);m(a,"MIN",6,[]);m(a,"UPDATE",7,[]);m(a,"CLEAR",8,[]);m(a,"NA",9,[]);b.c=b.prototype.c=new JSV.common.IntegralComparator;b.$HEADER=b.prototype.$HEADER=y(-1,["peak","start/ppm","end/ppm","value"])});t("JSV.common");v(["java.lang.Enum","JSV.source.JDXDataObject",
"JU.Lst"],"JSV.common.Spectrum","java.lang.Boolean $.Double java.util.Hashtable JU.PT JSV.common.Coordinate $.Parameters $.PeakInfo JSV.source.JDXSourceStreamTokenizer JU.Logger".split(" "),function(){var b=q(function(){this.id="";this.convertedSpectrum=this.highlightedPeak=this.selectedPeak=this.peakYLabel=this.peakXLabel=this.peakList=this.subSpectra=this.fillColor=null;this.specShift=0;this.userYFactor=1;this.currentSubSpectrumIndex=0;this.exportXAxisLeftToRight=this.$isForcedSubset=!1;this.titleLabel=
null;s(this,arguments)},JSV.common,"Spectrum",JSV.source.JDXDataObject);H(b,function(){this.peakList=new JU.Lst});c(b,"dispose",function(){});c(b,"isForcedSubset",function(){return this.$isForcedSubset});c(b,"setId",function(a){this.id=a},"~S");p(b,function(){B(this,JSV.common.Spectrum,[]);this.headerTable=new JU.Lst;this.xyCoords=[];this.parent=this});c(b,"copy",function(){var a=new JSV.common.Spectrum;this.copyTo(a);a.setPeakList(this.peakList,this.peakXLabel,null);a.fillColor=this.fillColor;return a});
c(b,"getXYCoords",function(){return this.getCurrentSubSpectrum().xyCoords});c(b,"getPeakList",function(){return this.peakList});c(b,"setPeakList",function(a,d,b){this.peakList=a;this.peakXLabel=d;this.peakYLabel=b;for(d=a.size();0<=--d;)this.peakList.get(d).spectrum=this;JU.Logger.debugging&&JU.Logger.info("Spectrum "+this.getTitle()+" peaks: "+a.size());return a.size()},"JU.Lst,~S,~S");c(b,"selectPeakByFileIndex",function(a,d,b){if(null!=this.peakList&&0<this.peakList.size()&&(null==b||this.sourceID.equals(d)))for(var c=
0;c<this.peakList.size();c++)if(this.peakList.get(c).checkFileIndex(a,d,b))return System.out.println("selecting peak by FileIndex "+this+" "+this.peakList.get(c)),this.selectedPeak=this.peakList.get(c);return null},"~S,~S,~S");c(b,"selectPeakByFilePathTypeModel",function(a,d,b){if(null!=this.peakList&&0<this.peakList.size())for(var c=0;c<this.peakList.size();c++)if(this.peakList.get(c).checkFileTypeModel(a,d,b))return System.out.println("selecting peak byFilePathTypeModel "+this+" "+this.peakList.get(c)),
this.selectedPeak=this.peakList.get(c);return null},"~S,~S,~S");c(b,"matchesPeakTypeModel",function(a,d){if(a.equals("ID"))return this.sourceID.equalsIgnoreCase(d);if(null!=this.peakList&&0<this.peakList.size())for(var b=0;b<this.peakList.size();b++)if(this.peakList.get(b).checkTypeModel(a,d))return!0;return!1},"~S,~S");c(b,"setSelectedPeak",function(a){this.selectedPeak=a},"JSV.common.PeakInfo");c(b,"setHighlightedPeak",function(a){this.highlightedPeak=a},"JSV.common.PeakInfo");c(b,"getSelectedPeak",
function(){return this.selectedPeak});c(b,"getModelPeakInfoForAutoSelectOnLoad",function(){if(null!=this.peakList)for(var a=0;a<this.peakList.size();a++)if(this.peakList.get(a).autoSelectOnLoad())return this.peakList.get(a);return null});c(b,"getAssociatedPeakInfo",function(a,d){this.selectedPeak=this.findPeakByCoord(a,d);return null==this.selectedPeak?this.getBasePeakInfo():this.selectedPeak},"~N,JSV.common.Coordinate");c(b,"findPeakByCoord",function(a,d){if(null!=d&&null!=this.peakList&&0<this.peakList.size()){for(var b=
d.getXVal(),c=-1,f=1E100,e=0;e<this.peakList.size();e++){var k=this.peakList.get(e).checkRange(a,b);k<f&&(f=k,c=e)}if(0<=c)return this.peakList.get(c)}return null},"~N,JSV.common.Coordinate");c(b,"getPeakTitle",function(){return null!=this.selectedPeak?this.selectedPeak.getTitle():null!=this.highlightedPeak?this.highlightedPeak.getTitle():this.getTitleLabel()});c(b,"getTitleLabel",function(){if(null!=this.titleLabel)return this.titleLabel;var a=null==this.peakList||0==this.peakList.size()?this.getQualifiedDataType():
this.peakList.get(0).getType();null!=a&&a.startsWith("NMR")&&(a=null!=this.nucleusY&&!this.nucleusY.equals("?")?"2D"+a:JSV.source.JDXDataObject.getNominalSpecFreq(this.nucleusX,this.getObservedFreq())+" MHz "+this.nucleusX+" "+a);return this.titleLabel=(null!=a&&0<a.length?a+" ":"")+this.getTitle()});c(b,"setNextPeak",function(a,d){if(null==this.peakList||0==this.peakList.size())return-1;for(var b=a.getXVal()+1E-6*d,c=-1,f=-1,e=1.7976931348623157E308*d,k=0,j=this.peakList.size();0<=--j;){var l=this.peakList.get(j).getX();
0<d?l>b&&l<e?(c=j,e=l):l<b&&l-b<k&&(f=j,k=l-b):l<b&&l>e?(c=j,e=l):l>b&&l-b>k&&(f=j,k=l-b)}if(0>c){if(0>f)return-1;c=f}return c},"JSV.common.Coordinate,~N");c(b,"getPercentYValueAt",function(a){return!this.isContinuous()?NaN:this.getYValueAt(a)},"~N");c(b,"getYValueAt",function(a){return JSV.common.Coordinate.getYValueAt(this.xyCoords,a)},"~N");c(b,"setUserYFactor",function(a){this.userYFactor=a},"~N");c(b,"getUserYFactor",function(){return this.userYFactor});c(b,"getConvertedSpectrum",function(){return this.convertedSpectrum});
c(b,"setConvertedSpectrum",function(a){this.convertedSpectrum=a},"JSV.common.Spectrum");b.taConvert=c(b,"taConvert",function(a,d){if(!a.isContinuous())return a;switch(d){case JSV.common.Spectrum.IRMode.NO_CONVERT:return a;case JSV.common.Spectrum.IRMode.TO_ABS:if(!a.isTransmittance())return a;break;case JSV.common.Spectrum.IRMode.TO_TRANS:if(!a.isAbsorbance())return a}var b=a.getConvertedSpectrum();return null!=b?b:a.isAbsorbance()?JSV.common.Spectrum.toT(a):JSV.common.Spectrum.toA(a)},"JSV.common.Spectrum,JSV.common.Spectrum.IRMode");
b.toT=c(b,"toT",function(a){if(!a.isAbsorbance())return null;var d=a.getXYCoords(),b=Array(d.length);JSV.common.Coordinate.isYInRange(d,0,4)||(d=JSV.common.Coordinate.normalise(d,0,4));for(var c=0;c<d.length;c++)b[c]=(new JSV.common.Coordinate).set(d[c].getXVal(),JSV.common.Spectrum.toTransmittance(d[c].getYVal()));return JSV.common.Spectrum.newSpectrum(a,b,"TRANSMITTANCE")},"JSV.common.Spectrum");b.toA=c(b,"toA",function(a){if(!a.isTransmittance())return null;for(var d=a.getXYCoords(),b=Array(d.length),
c=JSV.common.Coordinate.isYInRange(d,-2,2),f=0;f<d.length;f++)b[f]=(new JSV.common.Coordinate).set(d[f].getXVal(),JSV.common.Spectrum.toAbsorbance(d[f].getYVal(),c));return JSV.common.Spectrum.newSpectrum(a,b,"ABSORBANCE")},"JSV.common.Spectrum");b.newSpectrum=c(b,"newSpectrum",function(a,d,b){var c=a.copy();c.setOrigin("JSpecView Converted");c.setOwner("JSpecView Generated");c.setXYCoords(d);c.setYUnits(b);a.setConvertedSpectrum(c);c.setConvertedSpectrum(a);return c},"JSV.common.Spectrum,~A,~S");
b.toAbsorbance=c(b,"toAbsorbance",function(a,d){return Math.min(4,d?2-JSV.common.Spectrum.log10(a):-JSV.common.Spectrum.log10(a))},"~N,~B");b.toTransmittance=c(b,"toTransmittance",function(a){return 0>=a?1:Math.pow(10,-a)},"~N");b.log10=c(b,"log10",function(a){return Math.log(a)/Math.log(10)},"~N");b.process=c(b,"process",function(a,d){if(d===JSV.common.Spectrum.IRMode.TO_ABS||d===JSV.common.Spectrum.IRMode.TO_TRANS)for(var b=0;b<a.size();b++)a.set(b,JSV.common.Spectrum.taConvert(a.get(b),d));return!0},
"JU.Lst,JSV.common.Spectrum.IRMode");c(b,"getSubSpectra",function(){return this.subSpectra});c(b,"getCurrentSubSpectrum",function(){return null==this.subSpectra?this:this.subSpectra.get(this.currentSubSpectrumIndex)});c(b,"advanceSubSpectrum",function(a){return this.setCurrentSubSpectrum(this.currentSubSpectrumIndex+a)},"~N");c(b,"setCurrentSubSpectrum",function(a){return this.currentSubSpectrumIndex=JSV.common.Coordinate.intoRange(a,0,this.subSpectra.size()-1)},"~N");c(b,"addSubSpectrum",function(a,
d){if(!d&&(this.is1D()||this.blockID!=a.blockID)||!JSV.common.Spectrum.allowSubSpec(this,a))return!1;this.$isForcedSubset=d;null==this.subSpectra&&(this.subSpectra=new JU.Lst,this.addSubSpectrum(this,!0));this.subSpectra.addLast(a);a.parent=this;return!0},"JSV.common.Spectrum,~B");c(b,"getSubIndex",function(){return null==this.subSpectra?-1:this.currentSubSpectrumIndex});c(b,"setExportXAxisDirection",function(a){this.exportXAxisLeftToRight=a},"~B");c(b,"isExportXAxisLeftToRight",function(){return this.exportXAxisLeftToRight});
c(b,"getInfo",function(a){var d=new java.util.Hashtable;if("id".equalsIgnoreCase(a))return d.put(a,this.id),d;var b=null;"".equals(a)&&(b="id specShift header");d.put("id",this.id);JSV.common.Parameters.putInfo(a,d,"specShift",Double.$valueOf(this.specShift));var c="header".equals(a);if(!c&&null!=a&&null==b)for(var f=this.headerTable.size();0<=--f;){var e=this.headerTable.get(f);if(e[0].equalsIgnoreCase(a)||e[2].equalsIgnoreCase(a))return d.put(a,e[1]),d}for(var e=new java.util.Hashtable,k=this.getHeaderRowDataAsArray(),
f=0;f<k.length;f++){var j=JSV.source.JDXSourceStreamTokenizer.cleanLabel(k[f][0]);if(null!=b)b+=" "+j;else if(!(null!=a&&!c&&!j.equals(a))){var l=JSV.common.Spectrum.fixInfoValue(k[f][1]);if(null==a){var r=new java.util.Hashtable;r.put("value",l);r.put("index",Integer.$valueOf(f+1));d.put(j,r)}else d.put(j,l)}}0<e.size()&&d.put("header",e);c||(null!=b?b+="  titleLabel type isHZToPPM subSpectrumCount":(JSV.common.Parameters.putInfo(a,d,"titleLabel",this.getTitleLabel()),JSV.common.Parameters.putInfo(a,
d,"type",this.getDataType()),JSV.common.Parameters.putInfo(a,d,"isHZToPPM",Boolean.$valueOf(this.isHZtoPPM())),JSV.common.Parameters.putInfo(a,d,"subSpectrumCount",Integer.$valueOf(null==this.subSpectra?0:this.subSpectra.size()))));null!=b&&d.put("KEYS",b);return d},"~S");b.fixInfoValue=c(b,"fixInfoValue",function(a){try{return Integer.$valueOf(a)}catch(d){if(!z(d,Exception))throw d;}try{return Double.$valueOf(a)}catch(b){if(!z(b,Exception))throw b;}return a},"~S");c(b,"findMatchingPeakInfo",function(a){for(var d=
0;d<this.peakList.size();d++)if(this.peakList.get(d).checkTypeMatch(a))return this.peakList.get(d);return null},"JSV.common.PeakInfo");c(b,"getBasePeakInfo",function(){return 0==this.peakList.size()?new JSV.common.PeakInfo:new JSV.common.PeakInfo(' baseModel="" '+this.peakList.get(0))});c(b,"getAxisLabel",function(a){var d=a?this.peakXLabel:this.peakYLabel;null==d&&(d=a?this.xLabel:this.yLabel);null==d&&(d=a?this.xUnits:this.yUnits);return null==d?"":d.equalsIgnoreCase("WAVENUMBERS")?"1/cm":d.equalsIgnoreCase("nanometers")?
"nm":d},"~B");c(b,"findXForPeakNearest",function(a){return JSV.common.Coordinate.findXForPeakNearest(this.xyCoords,a,this.isInverted())},"~N");c(b,"addSpecShift",function(a){if(0!=a&&(this.specShift+=a,JSV.common.Coordinate.shiftX(this.xyCoords,a),null!=this.subSpectra))for(var d=this.subSpectra.size();0<=--d;){var b=this.subSpectra.get(d);b!==this&&b!==this.parent&&b.addSpecShift(a)}return this.specShift},"~N");b.allowSubSpec=c(b,"allowSubSpec",function(a,d){return a.is1D()==d.is1D()&&a.xUnits.equalsIgnoreCase(d.xUnits)&&
a.isHNMR()==d.isHNMR()},"JSV.common.Spectrum,JSV.common.Spectrum");b.areXScalesCompatible=c(b,"areXScalesCompatible",function(a,d,b,c){var f=a.isNMR();if(f!=d.isNMR()||a.isContinuous()!=d.isContinuous()||!c&&!JSV.common.Spectrum.areUnitsCompatible(a.xUnits,d.xUnits))return!1;if(b){if(a.is1D()!=d.is1D())return!1}else if(c){if(!f)return!0}else if(!a.is1D()||!d.is1D())return!1;return!f||d.is1D()&&a.parent.nucleusX.equals(d.parent.nucleusX)},"JSV.common.Spectrum,JSV.common.Spectrum,~B,~B");b.areUnitsCompatible=
c(b,"areUnitsCompatible",function(a,d){if(a.equalsIgnoreCase(d))return!0;a=a.toUpperCase();d=d.toUpperCase();return a.equals("HZ")&&d.equals("PPM")||a.equals("PPM")&&d.equals("HZ")},"~S,~S");b.areLinkableX=c(b,"areLinkableX",function(a,d){return a.isNMR()&&d.isNMR()&&a.nucleusX.equals(d.nucleusX)},"JSV.common.Spectrum,JSV.common.Spectrum");b.areLinkableY=c(b,"areLinkableY",function(a,d){return a.isNMR()&&d.isNMR()&&a.nucleusX.equals(d.nucleusY)},"JSV.common.Spectrum,JSV.common.Spectrum");c(b,"getPeakWidth",
function(){return(this.getLastX()-this.getFirstX())/100});c(b,"setSimulated",function(a){this.isSimulation=!0;var d=this.sourceID;0==d.length&&(d=JU.PT.rep(a,"http://SIMULATION/",""));0<=d.indexOf("MOL=")&&(d="");this.title="SIMULATED "+JU.PT.rep(d,"$","")},"~S");c(b,"setFillColor",function(a){this.fillColor=a;null!=this.convertedSpectrum&&(this.convertedSpectrum.fillColor=a)},"javajs.api.GenericColor");e(b,"toString",function(){return this.getTitleLabel()+(null==this.xyCoords?"":" xyCoords.length="+
this.xyCoords.length)});b=u(JSV.common.Spectrum,"IRMode",Enum);b.getMode=c(b,"getMode",function(a){switch((null==a?"I":a.toUpperCase().charAt(0)).charCodeAt(0)){case 65:return JSV.common.Spectrum.IRMode.TO_ABS;case 84:return a.equalsIgnoreCase("TOGGLE")?JSV.common.Spectrum.IRMode.TOGGLE:JSV.common.Spectrum.IRMode.TO_TRANS;case 78:return JSV.common.Spectrum.IRMode.NO_CONVERT;default:return JSV.common.Spectrum.IRMode.TOGGLE}},"~S");m(b,"NO_CONVERT",0,[]);m(b,"TO_TRANS",1,[]);m(b,"TO_ABS",2,[]);m(b,
"TOGGLE",3,[])});t("JSV.common");n=u(JSV.common,"JSVersion");G=Q=null;Q=Jmol.___JmolVersion;G=Jmol.___JmolDate;null!=G&&(G=G.substring(7,23));JSV.common.JSVersion.VERSION_SHORT=null!=Q?Q:"(Unknown_version)";da=null!=Q?Q:"(Unknown_version)";JSV.common.JSVersion.date=null!=G?G:"";JSV.common.JSVersion.VERSION=JSV.common.JSVersion.VERSION_SHORT+(null==JSV.common.JSVersion.date?"":" "+JSV.common.JSVersion.date);G=-1;if(null!=Q)try{var F=JSV.common.JSVersion.VERSION_SHORT;Q="";var O=F.indexOf(".");0>O&&
(G=1E5*Integer.parseInt(F),F=null);if(null!=F&&(G=1E5*Integer.parseInt(Q=F.substring(0,O)),F=F.substring(O+1),O=F.indexOf("."),0>O&&(G+=1E3*Integer.parseInt(F),F=null),null!=F)){var oa=F.substring(0,O);da=Q+("."+oa);G+=1E3*Integer.parseInt(oa);F=F.substring(O+1);O=F.indexOf("_");0<=O&&(F=F.substring(0,O));O=F.indexOf(" ");0<=O&&(F=F.substring(0,O));G+=Integer.parseInt(F)}}catch(pa){if(!z(pa,"NumberFormatException"))throw pa;}JSV.common.JSVersion.majorVersion=da;JSV.common.JSVersion.versionInt=G;t("JSV.common");
v(["java.util.Hashtable"],"JSV.common.JSVFileManager","java.io.BufferedInputStream $.BufferedReader $.InputStreamReader $.StringReader java.net.URL JU.AU $.BS $.Encoding $.JSJSONParser $.P3 $.PT $.SB JSV.common.JSVersion $.JSViewer JSV.exception.JSVException JU.Logger".split(" "),function(){var b=u(JSV.common,"JSVFileManager");c(b,"isApplet",function(){return null!=JSV.common.JSVFileManager.appletDocumentBase});b.getFileAsString=c(b,"getFileAsString",function(a){if(null==a)return null;var d,b=new JU.SB;
try{d=JSV.common.JSVFileManager.getBufferedReaderFromName(a,null);for(var c;null!=(c=d.readLine());)b.append(c),b.appendC("\n");d.close()}catch(f){if(z(f,Exception))return null;throw f;}return b.toString()},"~S");b.getBufferedReaderForInputStream=c(b,"getBufferedReaderForInputStream",function(a){try{return new java.io.BufferedReader(new java.io.InputStreamReader(a,"UTF-8"))}catch(d){if(z(d,Exception))return null;throw d;}},"java.io.InputStream");b.getBufferedReaderForStringOrBytes=c(b,"getBufferedReaderForStringOrBytes",
function(a){return null==a?null:new java.io.BufferedReader(new java.io.StringReader("string"==typeof a?a:String.instantialize(a)))},"~O");b.getBufferedReaderFromName=c(b,"getBufferedReaderFromName",function(a,d){if(null==a)throw new JSV.exception.JSVException("Cannot find "+a);JU.Logger.info("JSVFileManager getBufferedReaderFromName "+a);var b=JSV.common.JSVFileManager.getFullPathName(a);b.equals(a)||JU.Logger.info("JSVFileManager getBufferedReaderFromName "+b);return JSV.common.JSVFileManager.getUnzippedBufferedReaderFromName(b,
d)},"~S,~S");b.getFullPathName=c(b,"getFullPathName",function(a){try{if(null==JSV.common.JSVFileManager.appletDocumentBase){if(JSV.common.JSVFileManager.isURL(a)){var d=new java.net.URL(X("java.net.URL"),a,null);return d.toString()}return JSV.common.JSVFileManager.viewer.apiPlatform.newFile(a).getFullPath()}if(1==a.indexOf(":\\")||1==a.indexOf(":/"))a="file:///"+a;else if(a.startsWith("cache://"))return a;d=new java.net.URL(JSV.common.JSVFileManager.appletDocumentBase,a,null);return d.toString()}catch(b){if(z(b,
Exception))throw new JSV.exception.JSVException("Cannot create path for "+a);throw b;}},"~S");b.isURL=c(b,"isURL",function(a){for(var d=JSV.common.JSVFileManager.urlPrefixes.length;0<=--d;)if(a.startsWith(JSV.common.JSVFileManager.urlPrefixes[d]))return!0;return!1},"~S");b.urlTypeIndex=c(b,"urlTypeIndex",function(a){for(var d=0;d<JSV.common.JSVFileManager.urlPrefixes.length;++d)if(a.startsWith(JSV.common.JSVFileManager.urlPrefixes[d]))return d;return-1},"~S");b.isLocal=c(b,"isLocal",function(a){if(null==
a)return!1;a=JSV.common.JSVFileManager.urlTypeIndex(a);return 0>a||4==a},"~S");b.getUnzippedBufferedReaderFromName=c(b,"getUnzippedBufferedReaderFromName",function(a){var d=null;0<=a.indexOf("|")&&(d=JU.PT.split(a,"|"),null!=d&&0<d.length&&(a=d[0]));if(a.startsWith("http://SIMULATION/"))return JSV.common.JSVFileManager.getSimulationReader(a);try{var b=JSV.common.JSVFileManager.getInputStream(a,!0,null);if(x(b,"JU.SB")||"string"==typeof b)return new java.io.BufferedReader(new java.io.StringReader(b.toString()));
if(JSV.common.JSVFileManager.isAB(b))return new java.io.BufferedReader(new java.io.StringReader(String.instantialize(b)));var c=new java.io.BufferedInputStream(b),d=c;JSV.common.JSVFileManager.isGzip(c)&&(d=JSV.common.JSViewer.getInterface("JSV.common.JSVZipUtil").newGZIPInputStream(d));return new java.io.BufferedReader(new java.io.InputStreamReader(d,"UTF-8"))}catch(f){if(z(f,Exception))throw new JSV.exception.JSVException("Cannot read file "+a+" "+f);throw f;}},"~S,~S");b.getAbbrSimulationFileName=
c(b,"getAbbrSimulationFileName",function(a){var d=JSV.common.JSVFileManager.getSimulationType(a);return JSV.common.JSVFileManager.getAbbreviatedSimulationName(a,d,!0)},"~S");b.getAbbreviatedSimulationName=c(b,"getAbbreviatedSimulationName",function(a,d,b){return 0<=a.indexOf("MOL=")?(b?"http://SIMULATION/":"")+"MOL="+JSV.common.JSVFileManager.getSimulationHash(a,d):a},"~S,~S,~B");b.getSimulationHash=c(b,"getSimulationHash",function(a,d){var b=d+Math.abs(a.substring(a.indexOf("V2000")+1).hashCode());
JU.Logger.debugging&&System.out.println("JSVFileManager hash for "+a+" = "+b);return b},"~S,~S");b.getSimulationFileData=c(b,"getSimulationFileData",function(a,d){return JSV.common.JSVFileManager.cacheGet(a.startsWith("MOL=")?a.substring(4):JSV.common.JSVFileManager.getAbbreviatedSimulationName(a,d,!1))},"~S,~S");b.cachePut=c(b,"cachePut",function(a,d){JU.Logger.debugging&&JU.Logger.debug("JSVFileManager cachePut "+d+" for "+a);null!=d&&JSV.common.JSVFileManager.htCorrelationCache.put(a,d)},"~S,~S");
b.cacheGet=c(b,"cacheGet",function(a){var d=JSV.common.JSVFileManager.htCorrelationCache.get(a);JU.Logger.debugging&&JU.Logger.info("JSVFileManager cacheGet "+d+" for "+a);return d},"~S");b.getSimulationReader=c(b,"getSimulationReader",function(a){var d=JSV.common.JSVFileManager.cacheGet(a);null==d&&JSV.common.JSVFileManager.cachePut(a,d=JSV.common.JSVFileManager.getNMRSimulationJCampDX(a.substring(18)));return JSV.common.JSVFileManager.getBufferedReaderForStringOrBytes(d)},"~S");b.isAB=c(b,"isAB",
function(a){return JU.AU.isAB(a)},"~O");b.isZipFile=c(b,"isZipFile",function(a){try{var d=K(4,0);a.mark(5);var b=a.read(d,0,4);a.reset();return 4==b&&80==d[0]&&75==d[1]&&3==d[2]&&4==d[3]}catch(c){if(z(c,Exception))throw new JSV.exception.JSVException(c.toString());throw c;}},"java.io.InputStream");b.isGzip=c(b,"isGzip",function(a){try{var d=K(4,0);a.mark(5);var b=a.read(d,0,4);a.reset();return 4==b&&31==d[0]&&139==d[1]}catch(c){if(z(c,Exception))throw new JSV.exception.JSVException(c.toString());
throw c;}},"java.io.InputStream");b.getStreamAsBytes=c(b,"getStreamAsBytes",function(a,d){try{for(var b=K(1024,0),c=null==d?K(4096,0):null,f=0,e=0;0<(f=a.read(b,0,1024));)e+=f,null==d?(e>=c.length&&(c=JU.AU.ensureLengthByte(c,2*e)),System.arraycopy(b,0,c,e-f,f)):d.write(b,0,f);a.close();return null==d?JU.AU.arrayCopyByte(c,e):e+" bytes"}catch(k){if(z(k,Exception))throw new JSV.exception.JSVException(k.toString());throw k;}},"java.io.BufferedInputStream,JU.OC");b.postByteArray=c(b,"postByteArray",
function(a,d){var b=null;try{b=JSV.common.JSVFileManager.getInputStream(a,!1,d)}catch(c){if(z(c,Exception))b=c.toString();else throw c;}if("string"==typeof b)return b;try{b=JSV.common.JSVFileManager.getStreamAsBytes(b,null)}catch(f){if(z(f,"JSV.exception.JSVException"))try{b.close()}catch(e){if(!z(e,Exception))throw e;}else throw f;}return null==b?"":JSV.common.JSVFileManager.fixUTF(b)},"~S,~A");b.getUTFEncoding=c(b,"getUTFEncoding",function(a){return 3<=a.length&&239==a[0]&&187==a[1]&&191==a[2]?
JU.Encoding.UTF8:4<=a.length&&0==a[0]&&0==a[1]&&254==a[2]&&255==a[3]?JU.Encoding.UTF_32BE:4<=a.length&&255==a[0]&&254==a[1]&&0==a[2]&&0==a[3]?JU.Encoding.UTF_32LE:2<=a.length&&255==a[0]&&254==a[1]?JU.Encoding.UTF_16LE:2<=a.length&&254==a[0]&&255==a[1]?JU.Encoding.UTF_16BE:JU.Encoding.NONE},"~A");b.fixUTF=c(b,"fixUTF",function(a){var d=JSV.common.JSVFileManager.getUTFEncoding(a);if(d!==JU.Encoding.NONE)try{var b=String.instantialize(a,d.name().$replace("_","-"));switch(d){case JU.Encoding.UTF8:case JU.Encoding.UTF_16BE:case JU.Encoding.UTF_16LE:b=
b.substring(1)}return b}catch(c){if(z(c,"java.io.IOException"))JU.Logger.error("fixUTF error "+c);else throw c;}return String.instantialize(a)},"~A");b.getInputStream=c(b,"getInputStream",function(a,d,b){var c=JSV.common.JSVFileManager.isURL(a),f=null!=JSV.common.JSVFileManager.appletDocumentBase,e=null,e=null,k;if(c&&0<=(k=a.indexOf("?POST?")))e=a.substring(k+6),a=a.substring(0,k);if(f||c){var j;try{j=new java.net.URL(JSV.common.JSVFileManager.appletDocumentBase,a,null)}catch(l){if(z(l,Exception))throw new JSV.exception.JSVException("Cannot read "+
a);throw l;}JU.Logger.info("JSVFileManager opening URL "+j+(null==e?"":" with POST of "+e.length+" bytes"));e=JSV.common.JSVFileManager.viewer.apiPlatform.getURLContents(j,b,e,!1)}else d&&JU.Logger.info("JSVFileManager opening file "+a),e=JSV.common.JSVFileManager.viewer.apiPlatform.getBufferedFileInputStream(a);if("string"==typeof e)throw new JSV.exception.JSVException(e);return e},"~S,~B,~A");b.getNMRSimulationJCampDX=c(b,"getNMRSimulationJCampDX",function(a){var d=0,b=null,c=JSV.common.JSVFileManager.getSimulationType(a);
a.startsWith(c)&&(a=a.substring(c.length+1));var f=a.startsWith("MOL=");f&&(a=a.substring(4),d=a.indexOf("/n__Jmol"),0<d&&(a=a.substring(0,d)+JU.PT.rep(a.substring(d),"/n","\n")),b=a=JU.PT.rep(a,"\\n","\n"));var e=""+JSV.common.JSVFileManager.getSimulationHash(a,c);JU.Logger.debugging&&JU.Logger.info("JSVFileManager type="+c+" key="+e+" name="+a);var k=JSV.common.JSVFileManager.cacheGet(e);if(null!=k)return k;var j=f?null:JU.PT.rep(JSV.common.JSVFileManager.nciResolver,"%FILE",JU.PT.escapeUrl(a));
if(!f&&null==(b=JSV.common.JSVFileManager.getFileAsString(j))||0<=b.indexOf("<html"))return JU.Logger.error("no MOL data returned by NCI"),null;var k=c.equals("C13"),l=JSV.common.JSVFileManager.getFileAsString((k?JSV.common.JSVFileManager.nmrdbServerC13:JSV.common.JSVFileManager.nmrdbServerH1)+b),d=(new JU.JSJSONParser).parseMap(l,!0);JSV.common.JSVFileManager.cachePut("json",l);k&&(d=d.get("result"));l=d.get("molfile");null==l?(System.out.println("JSVFileManager: no MOL file returned from EPFL"),
l=b):System.out.println("JSVFileManager: MOL file hash="+l.hashCode());l=JSV.common.JSVFileManager.getAtomMap(l,b);JSV.common.JSVFileManager.cachePut("mol",b);f||Jmol.Cache.put("http://SIMULATION/"+c+"/"+a+"#molfile",b.getBytes());var r="<Signals src="+JU.PT.esc(JU.PT.rep(k?JSV.common.JSVFileManager.nmrdbServerC13:JSV.common.JSVFileManager.nmrdbServerH1,"?POST?molfile=",""))+">\n";if(k){for(var d=d.get("spectrum13C"),k=d.get("jcamp").get("value"),m=d.get("predCSNuc"),p=new JU.SB,n=m.size();0<=--n;)d=
m.get(n),p.append("<Signal "),JSV.common.JSVFileManager.setAttr(p,"type","nucleus",d),null==l?JSV.common.JSVFileManager.setAttr(p,"atoms","assignment",d):p.append('atoms="').appendI(l[JU.PT.parseInt(d.get("assignment"))]).append('" '),JSV.common.JSVFileManager.setAttr(p,"multiplicity","multiplicity",d),d=d.get("integralData"),JSV.common.JSVFileManager.setAttr(p,"xMin","from",d),JSV.common.JSVFileManager.setAttr(p,"xMax","to",d),JSV.common.JSVFileManager.setAttr(p,"integral","value",d),p.append("></Signal>\n");
p.append("</Signals>");r+=p.toString()}else{r=JU.PT.rep(d.get("xml"),"<Signals>",r);if(null!=l){p=new JU.SB;r=JU.PT.split(r,' atoms="');p.append(r[0]);for(n=1;n<r.length;n++)k=r[n],m=JU.PT.parseInt(k),p.append(' atoms="').appendI(l[m]).append(k.substring(k.indexOf('"')));r=p.toString()}r=JU.PT.rep(r,"</","\n</");r=JU.PT.rep(r,"><",">\n<");r=JU.PT.rep(r,'\\"','"');k=d.get("jcamp")}JU.Logger.debugging&&JU.Logger.info(r);JSV.common.JSVFileManager.cachePut("xml",r);k="##TITLE="+(f?"JMOL SIMULATION/"+
c:a)+"\n"+k.substring(k.indexOf("\n##")+1);d=b.indexOf("\n");d=b.indexOf("\n",d+1);0<d&&d==b.indexOf("\n \n")&&(b=b.substring(0,d+1)+"Created "+JSV.common.JSVFileManager.viewer.apiPlatform.getDateFormat("8824")+" by JSpecView "+JSV.common.JSVersion.VERSION+b.substring(d+1));d=k.indexOf("##.");a=JSV.common.JSVFileManager.getAbbreviatedSimulationName(a,c,!1);c=a.indexOf("id='");f&&0<c&&(a=a.substring(c+4,(a+"'").indexOf("'",c+4)));k=k.substring(0,d)+"##$MODELS=\n<Models>\n<ModelData id="+JU.PT.esc(a)+
' type="MOL" src='+JU.PT.esc(j)+">\n"+b+"</ModelData>\n</Models>\n##$SIGNALS=\n"+r+"\n"+k.substring(d);JSV.common.JSVFileManager.cachePut("jcamp",k);JSV.common.JSVFileManager.cachePut(e,k);return k},"~S");b.getAtomMap=c(b,"getAtomMap",function(a,d){var b=JSV.common.JSVFileManager.getCoord(a),c=JSV.common.JSVFileManager.getCoord(d),f=b.length;if(f!=c.length)return null;var e=D(f,0),k=new JU.BS;k.setBits(0,f);for(var j=!1,l=0;l<f;l++)for(var r=b[l],m=k.nextSetBit(0);0<=m;m=k.nextSetBit(m+1))if(0.1>
r.distanceSquared(c[m])){k.clear(m);e[l]=m;l!=m&&(j=!0);break}return j?e:null},"~S,~S");b.getCoord=c(b,"getCoord",function(a){a=JU.PT.split(a,"\n");for(var d=V(3,0),b=Integer.parseInt(a[3].substring(0,3).trim()),c=Array(b),f=0;f<b;f++)JU.PT.parseFloatArrayInfested(JU.PT.getTokens(a[4+f].substring(0,31)),d),c[f]=JU.P3.new3(d[0],d[1],d[2]);return c},"~S");b.setAttr=c(b,"setAttr",function(a,d,b,c){a.append(d+'="').appendO(c.get(b)).append('" ')},"JU.SB,~S,~S,java.util.Map");b.getResource=c(b,"getResource",
function(a,d,b){var c=null;try{if(null==(c=a.getClass().getResource(d)))b[0]="Couldn't find file: "+d}catch(f){if(z(f,Exception))b[0]="Exception "+f+" in getResource "+d;else throw f;}return c},"~O,~S,~A");b.getResourceString=c(b,"getResourceString",function(a,d,b){a=JSV.common.JSVFileManager.getResource(a,d,b);if(null==a)return b[0]="Error loading resource "+d,null;if("string"==typeof a)return JSV.common.JSVFileManager.getFileAsString(a);d=new JU.SB;try{for(var c=new java.io.BufferedReader(new java.io.InputStreamReader(a.getContent(),
"UTF-8")),f;null!=(f=c.readLine());)d.append(f).append("\n");c.close()}catch(e){if(z(e,Exception))b[0]=e.toString();else throw e;}return d.toString()},"~O,~S,~A");b.getJmolFilePath=c(b,"getJmolFilePath",function(a){try{a=JSV.common.JSVFileManager.getFullPathName(a)}catch(d){if(z(d,"JSV.exception.JSVException"))return null;throw d;}return null==JSV.common.JSVFileManager.appletDocumentBase?a.$replace("\\","/"):a},"~S");b.getTagName=c(b,"getTagName",function(a){if(null==a)return"String"+ ++JSV.common.JSVFileManager.stringCount;
if(JSV.common.JSVFileManager.isURL(a))try{if(a.startsWith("http://SIMULATION/"))return JSV.common.JSVFileManager.getAbbrSimulationFileName(a);var d=(new java.net.URL(X("java.net.URL"),a,null)).getFile();return d.substring(d.lastIndexOf("/")+1)}catch(b){if(z(b,"java.io.IOException"))return null;throw b;}return JSV.common.JSVFileManager.viewer.apiPlatform.newFile(a).getName()},"~S");b.setDocumentBase=c(b,"setDocumentBase",function(a,d){JSV.common.JSVFileManager.viewer=a;JSV.common.JSVFileManager.appletDocumentBase=
d},"JSV.common.JSViewer,java.net.URL");b.getSimulationType=c(b,"getSimulationType",function(a){return 0<=a.indexOf("C13/")?"C13":"H1"},"~S");E(b,"appletDocumentBase",null,"viewer",null,"jsDocumentBase","");b.urlPrefixes=b.prototype.urlPrefixes=y(-1,["http:","https:","ftp:","http://SIMULATION/","file:"]);b.htCorrelationCache=b.prototype.htCorrelationCache=new java.util.Hashtable;E(b,"nciResolver","https://cactus.nci.nih.gov/chemical/structure/%FILE/file?format=sdf&get3d=True","nmrdbServerH1","https://www.nmrdb.org/tools/jmol/predict.php?POST?molfile=",
"nmrdbServerC13","https://www.nmrdb.org/service/jsmol13c?POST?molfile=","stringCount",0)});t("JSV.common");v(["javajs.api.BytePoster","J.api.PlatformViewer","JSV.common.Spectrum"],"JSV.common.JSViewer","java.io.File java.lang.Boolean $.Character $.Double $.Float $.Thread java.net.URL java.util.Arrays $.Hashtable JU.CU $.Lst $.OC $.PT $.SB JSV.common.Annotation $.ExportType $.JSVFileManager $.PanelData $.PanelNode $.Parameters $.PeakInfo $.PrintLayout $.RepaintManager $.ScriptToken $.ScriptTokenizer JSV.source.JDXReader $.JDXSource JSV.tree.SimpleTree JU.Logger".split(" "),
function(){var b=q(function(){this.irMode=this.overlayLegendDialog=this.viewDialog=this.dialogManager=this.jsvpPopupMenu=this.fileHelper=this.scriptQueue=this.properties=this.mainPanel=this.selectedPanel=this.repaintManager=this.parameters=this.panelNodes=this.currentSource=this.spectraTree=this.g2d=this.si=null;this.autoShowLegend=this.autoIntegrate=this.interfaceOverlaid=this.loadImaginary=!1;this.obscureTitleFromUser=null;this.allowMenu=!0;this.initialEndIndex=this.initialStartIndex=-1;this.isSigned=
this.isApplet=this.isSingleThreaded=!1;this.recentScript="";this.display=this.html5Applet=this.syncID=this.fullName=this.appletName=null;this.maximumSize=2147483647;this.scriptLevelCount=this.nViews=this.fileCount=this.screenWidth=this.screenHeight=0;this.apiPlatform=this.integrationRatios=this.returnFromJmolModel=null;this.popupZoomEnabled=this.popupAllowMenu=!0;this.defaultLoadScript=null;this.nmrMaxY=NaN;this.overlayLegendVisible=!1;this.recentStackPercent=5;this.offWindowFrame=this.lastPrintLayout=
null;this.recentOpenURL="http://";this.recentURL=null;this.recentSimulation="tylenol";s(this,arguments)},JSV.common,"JSViewer",null,[J.api.PlatformViewer,javajs.api.BytePoster]);H(b,function(){this.irMode=JSV.common.Spectrum.IRMode.NO_CONVERT});c(b,"setProperty",function(a,d){null!=this.properties&&this.properties.setProperty(a,d)},"~S,~S");c(b,"setNode",function(a){a.jsvp!==this.selectedPanel&&this.si.siSetSelectedPanel(a.jsvp);this.si.siSendPanelChange();this.si.siNodeSet(a)},"JSV.common.PanelNode");
p(b,function(a,d,b){this.si=a;this.isApplet=d;JSV.common.JSViewer.isJS=d&&b;b=null;self.Jmol&&(b=Jmol);JSV.common.JSViewer.jmolObject=b;this.isSigned=a.isSigned();this.apiPlatform=this.getPlatformInterface("Platform");this.apiPlatform.setViewer(this,this.display);this.g2d=this.getPlatformInterface("G2D");this.spectraTree=new JSV.tree.SimpleTree(this);this.parameters=this.getPlatformInterface("Parameters");this.parameters.setName("applet");this.fileHelper=this.getPlatformInterface("FileHelper").set(this);
this.isSingleThreaded=this.apiPlatform.isSingleThreaded();this.panelNodes=new JU.Lst;this.repaintManager=new JSV.common.RepaintManager(this);d||this.setPopupMenu(!0,!0)},"JSV.api.ScriptInterface,~B,~B");c(b,"setPopupMenu",function(a,d){this.popupAllowMenu=a;this.popupZoomEnabled=d},"~B,~B");c(b,"showMenu",function(a,d){if(this.popupAllowMenu){if(null==this.jsvpPopupMenu)try{this.jsvpPopupMenu=this.getPlatformInterface("Popup"),this.jsvpPopupMenu.jpiInitialize(this,this.isApplet?"appletMenu":"appMenu"),
this.jsvpPopupMenu.setEnabled(this.popupAllowMenu,this.popupZoomEnabled)}catch(b){if(z(b,Exception)){JU.Logger.error(b+" initializing popup menu");return}throw b;}this.jsvpPopupMenu.jpiShow(a,d)}},"~N,~N");c(b,"runScriptNow",function(a){System.out.println(this.checkScript(a));this.scriptLevelCount++;null==a&&(a="");a=a.trim();if(a.startsWith("!"))a=a.substring(1).trim();else if(a.startsWith(">"))return JU.Logger.error(a),!0;if(0<=a.indexOf("<PeakData"))return this.syncScript(a),!0;JU.Logger.info("RUNSCRIPT "+
a);var d=!0,b=10;a=new JSV.common.ScriptTokenizer(a,!0);for(var c=null;null!=a&&a.hasMoreTokens()&&0<b&&d;){var f=a.nextToken(),e=new JSV.common.ScriptTokenizer(f,!1),k=JSV.common.ScriptToken.getKey(e);if(null!=k){var j=JSV.common.ScriptToken.getScriptToken(k),e=JSV.common.ScriptToken.getValue(j,e,f);try{switch(j){case JSV.common.ScriptToken.UNKNOWN:JU.Logger.info("Unrecognized parameter: "+k);--b;break;default:if(null==this.selectedPanel)break;this.parameters.set(this.pd(),j,e);this.si.siUpdateBoolean(j,
JSV.common.Parameters.isTrue(e));break;case JSV.common.ScriptToken.PEAKCALLBACKFUNCTIONNAME:case JSV.common.ScriptToken.SYNCCALLBACKFUNCTIONNAME:case JSV.common.ScriptToken.COORDCALLBACKFUNCTIONNAME:case JSV.common.ScriptToken.LOADFILECALLBACKFUNCTIONNAME:this.si.siExecSetCallback(j,e);break;case JSV.common.ScriptToken.DEFAULTLOADSCRIPT:e=JU.PT.rep(e,"''",'"');this.defaultLoadScript=0<e.length?e:null;break;case JSV.common.ScriptToken.DEFAULTNMRNORMALIZATION:this.nmrMaxY=JU.PT.parseFloat(e);break;
case JSV.common.ScriptToken.AUTOINTEGRATE:this.autoIntegrate=JSV.common.Parameters.isTrue(e);break;case JSV.common.ScriptToken.CLOSE:this.execClose(e);break;case JSV.common.ScriptToken.DEBUG:JU.Logger.setLogLevel(e.toLowerCase().equals("high")?6:JSV.common.Parameters.isTrue(e)?5:4);break;case JSV.common.ScriptToken.GETPROPERTY:var l=null==this.selectedPanel?null:this.getPropertyAsJavaObject(e);null!=l&&this.selectedPanel.showMessage(JU.PT.toJSON(null,l),e);break;case JSV.common.ScriptToken.HELP:this.execHelp(e);
break;case JSV.common.ScriptToken.HIDDEN:this.si.siExecHidden(JSV.common.Parameters.isTrue(e));break;case JSV.common.ScriptToken.INTEGRATIONRATIOS:this.integrationRatios=e;this.execIntegrate(null);break;case JSV.common.ScriptToken.INTERFACE:this.interfaceOverlaid=this.checkOvelayInterface(e);break;case JSV.common.ScriptToken.INTEGRALOFFSET:case JSV.common.ScriptToken.INTEGRALRANGE:this.execSetIntegralParameter(j,Double.parseDouble(e));break;case JSV.common.ScriptToken.INVERTY:this.execZoom("invertY");
break;case JSV.common.ScriptToken.JMOL:this.si.syncToJmol(e);break;case JSV.common.ScriptToken.JSV:this.syncScript(JU.PT.trimQuotes(e));break;case JSV.common.ScriptToken.LOAD:if(0==e.length){null!=this.defaultLoadScript&&this.runScriptNow(this.defaultLoadScript);break}this.execLoad(e,(null==this.defaultLoadScript?"":this.defaultLoadScript+";")+a.getRemainingScript());c=null==this.selectedPanel?null:this.si.siLoaded(e);a=null;break;case JSV.common.ScriptToken.LOADIMAGINARY:this.loadImaginary=JSV.common.Parameters.isTrue(e);
break;case JSV.common.ScriptToken.PEAK:this.execPeak(e);break;case JSV.common.ScriptToken.PEAKLIST:this.execPeakList(e);break;case JSV.common.ScriptToken.SCALEBY:this.scaleSelectedBy(this.panelNodes,e);break;case JSV.common.ScriptToken.SCRIPT:if(e.equals("")||e.toLowerCase().startsWith("inline"))this.execScriptInline(e);else{var m=JSV.common.JSVFileManager.getFileAsString(e);null!=m&&100>this.scriptLevelCount&&this.runScriptNow(m)}break;case JSV.common.ScriptToken.SELECT:this.execSelect(e);break;
case JSV.common.ScriptToken.SPECTRUM:case JSV.common.ScriptToken.SPECTRUMNUMBER:this.setSpectrum(e)||(d=!1);break;case JSV.common.ScriptToken.STACKOFFSETY:this.execOverlayOffsetY(JU.PT.parseInt(""+JU.PT.parseFloat(e)));break;case JSV.common.ScriptToken.TEST:this.si.siExecTest(e);break;case JSV.common.ScriptToken.OVERLAY:case JSV.common.ScriptToken.VIEW:this.execView(e,!0);break;case JSV.common.ScriptToken.HIGHLIGHT:d=this.highlight(f);break;case JSV.common.ScriptToken.FINDX:case JSV.common.ScriptToken.GETSOLUTIONCOLOR:case JSV.common.ScriptToken.INTEGRATION:case JSV.common.ScriptToken.INTEGRATE:case JSV.common.ScriptToken.IRMODE:case JSV.common.ScriptToken.LABEL:case JSV.common.ScriptToken.LINK:case JSV.common.ScriptToken.OVERLAYSTACKED:case JSV.common.ScriptToken.PRINT:case JSV.common.ScriptToken.SETPEAK:case JSV.common.ScriptToken.SETX:case JSV.common.ScriptToken.SHIFTX:case JSV.common.ScriptToken.SHOWERRORS:case JSV.common.ScriptToken.SHOWMEASUREMENTS:case JSV.common.ScriptToken.SHOWMENU:case JSV.common.ScriptToken.SHOWKEY:case JSV.common.ScriptToken.SHOWPEAKLIST:case JSV.common.ScriptToken.SHOWINTEGRATION:case JSV.common.ScriptToken.SHOWPROPERTIES:case JSV.common.ScriptToken.SHOWSOURCE:case JSV.common.ScriptToken.YSCALE:case JSV.common.ScriptToken.WRITE:case JSV.common.ScriptToken.ZOOM:if(this.isClosed()){d=
!1;break}switch(j){case JSV.common.ScriptToken.FINDX:this.pd().findX(null,Double.parseDouble(e));break;case JSV.common.ScriptToken.GETSOLUTIONCOLOR:this.show("solutioncolor"+e.toLowerCase());break;case JSV.common.ScriptToken.INTEGRATION:case JSV.common.ScriptToken.INTEGRATE:this.execIntegrate(e);break;case JSV.common.ScriptToken.IRMODE:this.execIRMode(e);break;case JSV.common.ScriptToken.LABEL:this.pd().addAnnotation(JSV.common.ScriptToken.getTokens(e));break;case JSV.common.ScriptToken.LINK:this.pd().linkSpectra(JSV.common.PanelData.LinkMode.getMode(e));
break;case JSV.common.ScriptToken.OVERLAYSTACKED:this.pd().splitStack(!JSV.common.Parameters.isTrue(e));break;case JSV.common.ScriptToken.PRINT:c=this.execWrite(null);break;case JSV.common.ScriptToken.SETPEAK:case JSV.common.ScriptToken.SETX:case JSV.common.ScriptToken.SHIFTX:this.execShiftSpectrum(j,f);break;case JSV.common.ScriptToken.SHOWERRORS:this.show("errors");break;case JSV.common.ScriptToken.SHOWINTEGRATION:this.pd().showAnnotation(JSV.common.Annotation.AType.Integration,JSV.common.Parameters.getTFToggle(e));
break;case JSV.common.ScriptToken.SHOWKEY:this.setOverlayLegendVisibility(JSV.common.Parameters.getTFToggle(e),!0);break;case JSV.common.ScriptToken.SHOWMEASUREMENTS:this.pd().showAnnotation(JSV.common.Annotation.AType.Measurements,JSV.common.Parameters.getTFToggle(e));break;case JSV.common.ScriptToken.SHOWMENU:this.showMenu(-2147483648,0);break;case JSV.common.ScriptToken.SHOWPEAKLIST:this.pd().showAnnotation(JSV.common.Annotation.AType.PeakList,JSV.common.Parameters.getTFToggle(e));break;case JSV.common.ScriptToken.SHOWPROPERTIES:this.show("properties");
break;case JSV.common.ScriptToken.SHOWSOURCE:this.show("source");break;case JSV.common.ScriptToken.YSCALE:this.setYScale(e);break;case JSV.common.ScriptToken.WINDOW:this.si.siNewWindow(JSV.common.Parameters.isTrue(e),!1);break;case JSV.common.ScriptToken.WRITE:c=this.execWrite(e);break;case JSV.common.ScriptToken.ZOOM:d=this.execZoom(e)}}}catch(p){if(z(p,Exception))c=p.toString(),JU.Logger.error(p.toString()),d=!1,--b;else throw p;}}}this.scriptLevelCount--;this.si.siExecScriptComplete(c,!0);return d},
"~S");c(b,"execShiftSpectrum",function(a,d){var b=JSV.common.ScriptToken.getTokens(d),c=NaN,e=NaN;switch(b.size()){case 2:e=b.get(1);e.equals("")&&(e="?");e=e.equalsIgnoreCase("NONE")?1.7976931348623157E308:e.equalsIgnoreCase("?")?NaN:Double.parseDouble(e);break;case 3:c=Double.parseDouble(b.get(1));e=Double.parseDouble(b.get(2));break;default:Double.parseDouble("")}b=0;switch(a){case JSV.common.ScriptToken.SETPEAK:b=1;break;case JSV.common.ScriptToken.SETX:b=2;break;case JSV.common.ScriptToken.SHIFTX:b=
3;Double.isNaN(e)&&Double.parseDouble("");break;default:return}this.pd().shiftSpectrum(b,c,e)},"JSV.common.ScriptToken,~S");c(b,"execClose",function(a){var d=!a.startsWith("!");d||(a=a.substring(1));this.close(JU.PT.trimQuotes(a));(!d||0==this.panelNodes.size())&&this.si.siValidateAndRepaint(!0)},"~S");c(b,"checkOvelayInterface",function(a){return a.equalsIgnoreCase("single")||a.equalsIgnoreCase("overlay")},"~S");c(b,"execPeak",function(a){try{var d=JSV.common.ScriptToken.getTokens(JU.PT.rep(a,"#",
"INDEX="));a=' type="'+d.get(0).toUpperCase()+'" _match="'+JU.PT.trimQuotes(d.get(1).toUpperCase())+'"';2<d.size()&&d.get(2).equalsIgnoreCase("all")&&(a+=' title="ALL"');this.processPeakPickEvent(new JSV.common.PeakInfo(a),!1)}catch(b){if(!z(b,Exception))throw b;}},"~S");c(b,"execPeakList",function(a){var d=this.parameters,b=JSV.common.Parameters.getTFToggle(a);if(0>a.indexOf("="))this.isClosed()||this.pd().getPeakListing(null,b);else{var b=JSV.common.ScriptToken.getTokens(a),c=d.peakListThreshold,
e=d.peakListInterpolation;try{for(var h=b.size();0<=--h;){var k=b.get(h),j=k.indexOf("=");if(!(0>=j)){var l=k.substring(0,j);a=k.substring(j+1);l.startsWith("thr")?c=Double.$valueOf(a).doubleValue():l.startsWith("int")&&(e=a.equalsIgnoreCase("none")?"NONE":"parabolic")}}d.peakListThreshold=c;d.peakListInterpolation=e;this.isClosed()||this.pd().getPeakListing(d,Boolean.TRUE)}catch(m){if(!z(m,Exception))throw m;}}},"~S");c(b,"highlight",function(a){var d=JSV.common.ScriptToken.getTokens(a),b=d.size();
switch(b){case 3:case 5:case 6:case 7:break;case 2:case 4:if(d.get(b-1).equalsIgnoreCase("OFF"))break;default:return!1}if(!this.isClosed()){a=JU.PT.parseFloat(1<b?d.get(1):"");var c=JU.PT.parseFloat(2<b?d.get(2):""),e=this.getRGB(3<b?d.get(3):"100"),h=this.getRGB(4<b?d.get(4):"100"),k=this.getRGB(5<b?d.get(5):"100"),d=this.getRGB(6<b?d.get(6):"100");Float.isNaN(a)||Float.isNaN(c)?this.pd().removeAllHighlights():(this.pd().removeHighlight(a,c),0>d&&(d=150),0<=e&&(0<=h&&0<=k)&&this.pd().addHighlight(null,
a,c,null,e,h,k,d));this.repaint(!0)}return!0},"~S");c(b,"getRGB",function(a){a=JU.PT.parseFloat(a);return I(Float.isNaN(a)?-1:1<a?a:255*a)},"~S");c(b,"execZoom",function(a){var d=0,b=0,c=0,e=0;a=JU.PT.rep(a," - "," ").$replace(","," ");a=JSV.common.ScriptToken.getTokens(a);switch(a.size()){default:return!1;case 0:return d=this.pd().getCurrentGraphSet().getCurrentView(),a=Math.round(100*d.minXOnScale)/100+","+Math.round(100*d.maxXOnScale)/100,a=this.selectedPanel.getInput("Enter zoom range x1 x2",
"Zoom",a),null==a||this.execZoom(a);case 1:return a=a.get(0),a.equalsIgnoreCase("next")?this.pd().nextView():a.toLowerCase().startsWith("prev")?this.pd().previousView():a.equalsIgnoreCase("out")?this.pd().resetView():a.equalsIgnoreCase("clear")?this.pd().clearAllView():a.equalsIgnoreCase("invertY")&&this.pd().getCurrentGraphSet().invertYAxis(),!0;case 2:d=Double.parseDouble(a.get(0));b=Double.parseDouble(a.get(1));break;case 3:var h=a.get(0);h.equalsIgnoreCase("X")?(d=Double.parseDouble(a.get(1)),
b=Double.parseDouble(a.get(2))):h.equalsIgnoreCase("Y")&&(c=Double.parseDouble(a.get(1)),e=Double.parseDouble(a.get(2)));break;case 4:d=Double.parseDouble(a.get(0)),c=Double.parseDouble(a.get(1)),b=Double.parseDouble(a.get(2)),e=Double.parseDouble(a.get(3))}this.pd().setZoom(d,c,b,e);return!0},"~S");c(b,"scaleSelectedBy",function(a,d){try{for(var b=Double.parseDouble(d),c=a.size();0<=--c;)a.get(c).pd().scaleSelectedBy(b)}catch(e){if(!z(e,Exception))throw e;}},"JU.Lst,~S");c(b,"pd",function(){return null==
this.selectedPanel?null:this.selectedPanel.getPanelData()});c(b,"isClosed",function(){return null==this.pd()});c(b,"execSelect",function(a){if(a.startsWith("ID ")){if(!this.isClosed())try{this.pd().selectSpectrum(null,"ID",JU.PT.trimQuotes(a.substring(3)),!0)}catch(d){if(!z(d,Exception))throw d;}}else{for(var b=this.panelNodes,c=b.size();0<=--c;)b.get(c).pd().selectFromEntireSet(-2147483648);b=new JU.Lst;this.fillSpecList(a,b,!1)}},"~S");c(b,"execView",function(a,d){if(a.equals(""))this.checkOverlay();
else{var b=new JU.Lst,c=this.fillSpecList(a,b,!0);0<b.size()&&this.si.siOpenDataOrFile(null,c,b,c,-1,-1,!1,null,null);d||this.si.siValidateAndRepaint(!1)}},"~S,~B");c(b,"execIRMode",function(a){for(var d=JSV.common.Spectrum.IRMode.getMode(a),b=this.pd().getSpectrum().dataType,c=this.panelNodes.size();0<=--c;)this.panelNodes.get(c).pd().setIRMode(d,b);this.setIRmode(a)},"~S");c(b,"execIntegrate",function(a){this.isClosed()||(this.pd().checkIntegral(this.parameters,a),null!=this.integrationRatios&&
this.pd().setIntegrationRatios(this.integrationRatios),this.integrationRatios=null,this.repaint(!0))},"~S");c(b,"repaint",function(a){this.selectedPanel.doRepaint(a)},"~B");c(b,"execSetIntegralParameter",function(a,d){var b=this.parameters;switch(a){case JSV.common.ScriptToken.INTEGRALRANGE:b.integralRange=d;break;case JSV.common.ScriptToken.INTEGRALOFFSET:b.integralOffset=d}this.isClosed()||this.pd().checkIntegral(this.parameters,"update")},"JSV.common.ScriptToken,~N");c(b,"setYScale",function(a){var d=
JSV.common.ScriptToken.getTokens(a),b=0,c=!1;1<d.size()&&d.get(0).equalsIgnoreCase("ALL")&&(c=!0,b++);a=Double.parseDouble(d.get(b++));d=Double.parseDouble(d.get(b));if(c){c=this.pd().getSpectrum();for(b=this.panelNodes.size();0<=--b;){var e=this.panelNodes.get(b);e.source===this.currentSource&&JSV.common.Spectrum.areXScalesCompatible(c,e.getSpectrum(),!1,!1)&&e.pd().setZoom(0,a,0,d)}}else this.pd().setZoom(0,a,0,d)},"~S");c(b,"setOverlayLegendVisibility",function(a,d){d&&(this.overlayLegendVisible=
null==a?!this.overlayLegendVisible:a===Boolean.TRUE);for(var b=JSV.common.PanelNode.findNode(this.selectedPanel,this.panelNodes),c=this.panelNodes.size();0<=--c;)this.showOverlayLegend(this.panelNodes.get(c),this.panelNodes.get(c)===b&&this.overlayLegendVisible)},"Boolean,~B");c(b,"showOverlayLegend",function(a,d){var b=a.legend;null==b&&d&&(b=a.setLegend(1<a.pd().getNumberOfSpectraInCurrentSet()&&1==a.pd().getNumberOfGraphSets()?this.getDialog(JSV.common.Annotation.AType.OverlayLegend,null):null));
null!=b&&b.setVisible(d)},"JSV.common.PanelNode,~B");c(b,"syncScript",function(a){a.equals("TEST")&&(a=JSV.common.JSViewer.testScript);JU.Logger.info("JSViewer.syncScript Jmol>JSV "+a);if(0>a.indexOf("<PeakData"))a.startsWith("JSVSTR:")?this.si.syncToJmol(a):(this.runScriptNow(a),0<=a.indexOf("#SYNC_PEAKS")&&this.syncPeaksAfterSyncScript());else{JU.Logger.info(">>toJSV>> "+a);var d=JU.PT.getQuotedAttribute(a,"sourceID"),b,c,e,h;if(null==d){c=JU.PT.getQuotedAttribute(a,"file");e=JU.PT.getQuotedAttribute(a,
"index");if(null==c||null==e)return;c=JU.PT.rep(c,"#molfile","");b=JU.PT.getQuotedAttribute(a,"model");d=JU.PT.getQuotedAttribute(a,"src");h=null!=d&&d.startsWith("Jmol")?null:this.returnFromJmolModel;if(null!=b&&null!=h&&!b.equals(h)){JU.Logger.info("JSV ignoring model "+b+"; should be "+h);return}this.returnFromJmolModel=null;if(0==this.panelNodes.size()||!this.checkFileAlreadyLoaded(c))JU.Logger.info("file "+c+" not found -- JSViewer closing all and reopening"),this.si.siSyncLoad(c);a=JU.PT.getQuotedAttribute(a,
"type");h=null}else c=null,e=b=d,h=","+JU.PT.getQuotedAttribute(a,"atom")+",",a="ID";e=this.selectPanelByPeak(c,e,h);h=this.pd();h.selectSpectrum(c,a,b,!0);this.si.siSendPanelChange();h.addPeakHighlight(e);this.repaint(!0);(null==d||null!=e&&null!=e.getAtoms())&&this.si.syncToJmol(this.jmolSelect(e))}},"~S");c(b,"syncPeaksAfterSyncScript",function(){var a=this.currentSource;if(null!=a)try{var d="file="+JU.PT.esc(a.getFilePath()),b=a.getSpectra().get(0).getPeakList(),c=new JU.SB;c.append("[");for(var e=
b.size(),a=0;a<e;a++){var h=b.get(a).toString(),h=h+" "+d;c.append(JU.PT.esc(h));0<a&&c.append(",")}c.append("]");this.si.syncToJmol("Peaks: "+c)}catch(k){if(!z(k,Exception))throw k;}});c(b,"checkFileAlreadyLoaded",function(a){if(this.isClosed())return!1;if(this.pd().hasFileLoaded(a))return!0;for(var d=this.panelNodes.size();0<=--d;)if(this.panelNodes.get(d).pd().hasFileLoaded(a))return this.si.siSetSelectedPanel(this.panelNodes.get(d).jsvp),!0;return!1},"~S");c(b,"selectPanelByPeak",function(a,d,
b){if(null==this.panelNodes)return null;for(var c=null,e=this.panelNodes.size();0<=--e;)this.panelNodes.get(e).pd().addPeakHighlight(null);c=this.pd().selectPeakByFileIndex(a,d,b);if(null!=c)this.setNode(JSV.common.PanelNode.findNode(this.selectedPanel,this.panelNodes));else for(e=this.panelNodes.size();0<=--e;){var h=this.panelNodes.get(e);if(null!=(c=h.pd().selectPeakByFileIndex(a,d,b))){this.setNode(h);break}}return c},"~S,~S,~S");c(b,"processPeakPickEvent",function(a){if(x(a,"JSV.common.PeakInfo")){var d=
this.pd().findMatchingPeakInfo(a);if(null==d){if(!"ALL".equals(a.getTitle()))return;for(var b=null,c=0;c<this.panelNodes.size();c++)if(null!=(d=this.panelNodes.get(c).pd().findMatchingPeakInfo(a))){b=this.panelNodes.get(c);break}if(null==b)return;this.setNode(b)}a=d}else this.si.siSetSelectedPanel(a.getSource()),a=a.getPeakInfo();this.pd().addPeakHighlight(a);this.syncToJmol(a);a.isClearAll()?this.repaint(!1):this.pd().selectSpectrum(a.getFilePath(),a.getType(),a.getModel(),!0);this.si.siCheckCallbacks(a.getTitle())},
"~O,~B");c(b,"newStructToJmol",function(a){JU.Logger.info("sending new structure to Jmol:\n"+a);this.si.syncToJmol("struct:"+a)},"~S");c(b,"syncToJmol",function(a){this.repaint(!0);this.returnFromJmolModel=a.getModel();this.si.syncToJmol(this.jmolSelect(a))},"JSV.common.PeakInfo");c(b,"sendPanelChange",function(){var a=this.pd(),d=a.getSpectrum(),b=d.getSelectedPeak();null==b&&(b=d.getModelPeakInfoForAutoSelectOnLoad());null==b&&(b=d.getBasePeakInfo());a.addPeakHighlight(b);JU.Logger.info(Thread.currentThread()+
"JSViewer sendFrameChange "+this.selectedPanel);this.syncToJmol(b)});c(b,"jmolSelect",function(a){var d="IR".equals(a.getType())||"RAMAN".equals(a.getType())?"vibration ON; selectionHalos OFF;":"vibration OFF; selectionhalos "+(null==a.getAtoms()?"OFF":"ON");return"Select: "+a+' script="'+d+' " sourceID="'+this.pd().getSpectrum().sourceID+'"'},"JSV.common.PeakInfo");c(b,"getPropertyAsJavaObject",function(a){var d=new java.util.Hashtable;if("SOURCEID".equalsIgnoreCase(a))return d.put(a,null==this.pd()?
"":this.pd().getSpectrum().sourceID),d;if(null!=a&&a.startsWith("DATA_"))return d.put(a,""+JSV.common.JSVFileManager.cacheGet(a.substring(5))),d;var b=!1;if(null!=a&&a.toUpperCase().startsWith("ALL ")||"all".equalsIgnoreCase(a))a=a.substring(3).trim(),b=!0;"".equals(a)&&(a=null);if("NAMES".equalsIgnoreCase(a)||"KEYS".equalsIgnoreCase(a))a="";var c=this.pd().getInfo(!0,a);if(!b&&null!=c)return c;null!=c&&d.put("current",c);b=new JU.Lst;for(c=0;c<this.panelNodes.size();c++)null!=this.panelNodes.get(c).jsvp&&
b.addLast(this.panelNodes.get(c).getInfo(a));d.put("items",b);return d},"~S");c(b,"getCoordinate",function(){if(!this.isClosed()){var a=this.pd().getClickedCoordinate();if(null!=a)return a.getXVal()+" "+a.getYVal()}return""});c(b,"fillSpecList",function(a,d,b){var c,e=null,h=a.equalsIgnoreCase("NONE");if(h||a.equalsIgnoreCase("all"))a="*";if(0>a.indexOf("*")){c=a.$plit(" ");a=new JU.SB;for(var k=0;k<c.length;k++){var j=c[k].indexOf(".");j!=c[k].lastIndexOf(".")&&(c[k]=c[k].substring(0,j+1)+c[k].substring(j+
1).$replace(".","_"));a.append(c[k]).append(" ")}a=a.toString().trim()}if(a.equals("*"))c=JSV.common.ScriptToken.getTokens(JSV.common.PanelNode.getSpectrumListAsString(this.panelNodes));else if(a.startsWith('"')||a.startsWith("'"))c=JSV.common.ScriptToken.getTokens(a);else if(a=JU.PT.rep(a,"_"," _ "),a=JU.PT.rep(a,"-"," - "),c=JSV.common.ScriptToken.getTokens(a),e=JSV.common.ScriptToken.getTokens(JSV.common.PanelNode.getSpectrumListAsString(this.panelNodes)),0==e.size())return null;var l=this.isClosed()?
"1.":JSV.common.PanelNode.findNode(this.selectedPanel,this.panelNodes).id,l=l.substring(0,l.indexOf(".")+1);a=new JU.SB;for(var m=c.size(),p=null,k=0;k<m;k++){var n=c.get(k),j=NaN,q=-1;k+1<m&&c.get(k+1).equals("*")?(k+=2,j=Double.parseDouble(c.get(k))):k+1<m&&c.get(k+1).equals("_")&&(k+=2,q=Integer.parseInt(c.get(k)));if(n.equals("-")){null==p&&(p=e.get(0));n=k+1==m?e.get(e.size()-1):c.get(++k);n.contains(".")||(n=l+n);for(j=0;j<e.size()&&!e.get(j).equals(p);)j++;for(j++;j<e.size()&&!p.equals(n);){var s=
JSV.common.PanelNode.findNodeById(p=e.get(j++),this.panelNodes);d.addLast(s.pd().getSpectrumAt(0));a.append(",").append(p)}}else if(n.startsWith("'")&&n.endsWith("'")&&(n='"'+JU.PT.trim(n,"'")+'"'),n.startsWith('"'))for(var n=JU.PT.trim(n,'"'),q=this.panelNodes.size(),t=0;t<q;t++){if(s=this.panelNodes.get(t),null!=s.fileName&&s.fileName.startsWith(n)||null!=s.frameTitle&&s.frameTitle.startsWith(n))this.addSpecToList(s.pd(),j,-1,d,b),a.append(",").append(s.id)}else n.contains(".")||(n=l+n),s=JSV.common.PanelNode.findNodeById(n,
this.panelNodes),null!=s&&(p=n,this.addSpecToList(s.pd(),j,q,d,b),a.append(",").append(n),0<q&&a.append(".").appendI(q))}b&&0<d.size()&&(s=JSV.common.PanelNode.findNodeById(a.substring(1),this.panelNodes),null!=s&&(this.setNode(s),d.clear()));return h?"NONE":0<a.length()?a.toString().substring(1):null},"~S,JU.Lst,~B");c(b,"addSpecToList",function(a,d,b,c,e){e?(a.getSpectrumAt(0).setUserYFactor(Double.isNaN(d)?1:d),a.addToList(b-1,c)):a.selectFromEntireSet(b-1)},"JSV.common.PanelData,~N,~N,JU.Lst,~B");
c(b,"getSolutionColor",function(a){var d=this.pd().getSpectrum(),b=d.canShowSolutionColor()?JSV.common.JSViewer.getInterface("JSV.common.Visible"):null;return null==b?-1:b.getColour(d,a)},"~B");c(b,"openDataOrFile",function(a,d,b,c,e,h,k,j){if("NONE".equals(d))return this.close("View*"),0;this.si.writeStatus("");var l=null,m=null,p=null,n=!1;null!=c&&c.startsWith("cache://")&&(a=Jmol.Cache.get(d=c));var q=null;if(null!=a)try{p=d,m=l=JSV.common.JSVFileManager.getFullPathName(d)}catch(s){if(!z(s,"JSV.exception.JSVException"))throw s;
}else if(null!=b)n=!0,m=p=l="View"+ ++this.nViews;else if(null!=c)try{q=this.apiPlatform.newFile(c),this.recentURL=l=(new java.net.URL(JSV.common.JSVFileManager.appletDocumentBase,c,null)).toString(),p=JSV.common.JSVFileManager.getTagName(l)}catch(t){if(z(t,"java.net.MalformedURLException"))p=q.getName(),m=l=q.getFullPath(),this.recentURL=null;else throw t;}d=-1;if(0<=(d=JSV.common.PanelNode.isOpen(this.panelNodes,l))||0<=(d=JSV.common.PanelNode.isOpen(this.panelNodes,c)))return n?(--this.nViews,
this.setNode(this.panelNodes.get(d))):this.si.writeStatus(l+" is already open"),-1;!k&&!n&&this.close("all");this.si.setCursor(3);try{this.si.siSetCurrentSource(n?JSV.source.JDXSource.createView(b):JSV.source.JDXReader.createJDXSource(q,a,l,this.obscureTitleFromUser===Boolean.TRUE,this.loadImaginary,e,h,this.nmrMaxY))}catch(u){if(z(u,Exception))return alert(u.toString()),this.si.setCursor(0),this.isApplet&&this.selectedPanel.showMessage(u.toString(),"Error Opening File"),-3;throw u;}this.si.setCursor(0);
System.gc();null==m?(m=this.currentSource.getFilePath(),null!=m&&(p=m.substring(m.lastIndexOf("/")+1))):this.currentSource.setFilePath(m);null==j&&!n&&(j=m);null!=j&&this.currentSource.setID(j);this.si.siSetLoaded(p,m);a=this.currentSource.getJDXSpectrum(0);if(null==a)return-4;b=this.currentSource.getSpectra();JSV.common.Spectrum.process(b,this.irMode);b=this.interfaceOverlaid||a.isAutoOverlayFromJmolClick();n||b&&this.currentSource.isCompoundSource?this.combineSpectra(n?c:null):this.splitSpectra();
this.pd().setTaintedAll();n||this.si.siUpdateRecentMenus(l);return 0},"~O,~S,JU.Lst,~S,~N,~N,~B,~S");c(b,"close",function(a){var d=0,b=null==a?-2:a.indexOf(">");0<b&&(d=JU.PT.parseInt(a.substring(b+1).trim()),a=a.substring(0,b).trim());"*".equals(a)&&(a="all");var c="all"===a;if(null==a||0==d&&a.equalsIgnoreCase("all"))this.closeSource(null);else{var e=a.equalsIgnoreCase("views"),b=new JU.Lst;a=a.$replace("\\","/");var h=this.panelNodes.size(),d=h-d;if(a.endsWith("*"))for(a=a.substring(0,a.length-
1);0<=--h;)this.panelNodes.get(h).fileName.startsWith(a)&&b.addLast(this.panelNodes.get(h).source);else if(a.equalsIgnoreCase("selected"))for(a=null;0<=--h;)c=this.panelNodes.get(h).source,this.panelNodes.get(h).isSelected&&(null==a||a!==c)&&b.addLast(c),a=c;else if(c||e||a.equalsIgnoreCase("simulations"))for(a=0;0<=--h&&a<d;){if(c||(e?this.panelNodes.get(h).isView:this.panelNodes.get(h).isSimulation))b.addLast(this.panelNodes.get(h).source),a++}else c=0==a.length?this.currentSource:JSV.common.PanelNode.findSourceByNameOrId(a,
this.panelNodes),null!=c&&b.addLast(c);for(h=b.size();0<=--h;)this.closeSource(b.get(h));null==this.selectedPanel&&0<this.panelNodes.size()&&this.si.siSetSelectedPanel(JSV.common.PanelNode.getLastFileFirstNode(this.panelNodes))}},"~S");c(b,"execLoad",function(a,d){var b=JSV.common.ScriptToken.getTokens(a),c=b.get(0),e=null,h=0;c.equalsIgnoreCase("ID")&&(e=JU.PT.trimQuotes(b.get(1)),c=b.get(2),h=2);var k=c.equalsIgnoreCase("APPEND"),j=c.equalsIgnoreCase("CHECK");(k||j)&&h++;0<h&&(c=b.get(h));null==
d&&(d=this.defaultLoadScript);if(c.equals("?"))this.openFileFromDialog(k,!1,null,d);else if(c.equals("http://?"))this.openFileFromDialog(k,!0,null,null);else if(c.equals("$?")||c.equals("$H1?"))this.openFileFromDialog(k,!0,"H1",null);else if(c.equals("$C13?"))this.openFileFromDialog(k,!0,"C13",null);else{var l=c.equalsIgnoreCase("MOL")||c.equalsIgnoreCase("H1"),m=c.equalsIgnoreCase("C13");if(l||m)c="http://SIMULATION/"+(l?"H1/":"C13/")+"MOL="+JU.PT.trimQuotes(b.get(++h));!j&&!k&&(c.equals('""')&&
null!=this.currentSource&&(c=this.currentSource.getFilePath()),this.close("all"));c=JU.PT.trimQuotes(c);if(j=c.startsWith("$"))!c.startsWith("$H1")&&!c.startsWith("$C13")&&(c="$H1/"+c.substring(1)),c="http://SIMULATION/"+c.substring(1);l=h+1<b.size()?Integer.$valueOf(b.get(++h)).intValue():-1;b=h+1<b.size()?Integer.$valueOf(b.get(++h)).intValue():l;this.si.siOpenDataOrFile(null,null,null,c,l,b,k,d,e);j&&(this.close("views"),this.execView("*",!0))}},"~S,~S");c(b,"combineSpectra",function(a){for(var d=
this.currentSource,b=d.getSpectra(),c=!1,e=b.size();0<=--e;)if(b.get(e).isSimulation){c=!0;break}b=this.si.siGetNewJSVPanel2(b);b.setTitle(d.getTitle());b.getTitle().equals("")&&(b.getPanelData().setViewTitle(d.getFilePath()),b.setTitle(a));this.si.siSetPropertiesFromPreferences(b,!0);this.spectraTree.createTree(++this.fileCount,d,y(-1,[b])).getPanelNode().isView=!0;d=JSV.common.PanelNode.findNode(this.selectedPanel,this.panelNodes);d.setFrameTitle(a);d.isView=!0;this.autoShowLegend&&1==this.pd().getNumberOfGraphSets()&&
d.setLegend(this.getDialog(JSV.common.Annotation.AType.OverlayLegend,null));this.si.siSetMenuEnables(d,!1);c&&this.pd().splitStack(!0)},"~S");c(b,"closeSource",function(a){for(var d=this.spectraTree.getRootNode(),b=null==a?null:a.getFilePath(),c=new JU.Lst,d=d.children();d.hasMoreElements();){var e=d.nextElement();if(null==b||e.getPanelNode().source.matchesFilePath(b)){JU.Logger.info("Closing "+e.getPanelNode().source.getFilePath());for(var h=e.children();h.hasMoreElements();){var k=h.nextElement();
c.addLast(k);this.panelNodes.removeObj(k.getPanelNode())}c.addLast(e);if(null!=b)break}}this.spectraTree.deleteNodes(c);null==a&&(null!=this.currentSource&&this.currentSource.dispose(),this.currentSource=null,null!=this.selectedPanel&&this.selectedPanel.dispose());this.currentSource===a&&(this.si.siSetSelectedPanel(null),this.si.siSetCurrentSource(null));for(c=b=0;c<this.panelNodes.size();c++)d=JU.PT.parseFloat(this.panelNodes.get(c).id),d>=b+1&&(b=w(Math.floor(d)));this.fileCount=b;System.gc();JU.Logger.debugging&&
JU.Logger.checkMemory();this.si.siSourceClosed(a)},"JSV.source.JDXSource");c(b,"setFrameAndTreeNode",function(a){null==this.panelNodes||(0>a||a>=this.panelNodes.size())||this.setNode(this.panelNodes.get(a))},"~N");c(b,"selectFrameNode",function(a){a=JSV.common.PanelNode.findNode(a,this.panelNodes);if(null==a)return null;this.spectraTree.setPath(this.spectraTree.newTreePath(a.treeNode.getPath()));this.setOverlayLegendVisibility(null,!1);return a},"JSV.api.JSVPanel");c(b,"setSpectrum",function(a){if(0<=
a.indexOf(".")){a=JSV.common.PanelNode.findNodeById(a,this.panelNodes);if(null==a)return!1;this.setNode(a)}else{a=JU.PT.parseInt(a);if(0>=a)return this.checkOverlay(),!1;this.setFrameAndTreeNode(a-1)}return!0},"~S");c(b,"splitSpectra",function(){for(var a=this.currentSource,b=a.getSpectra(),c=Array(b.size()),e=null,f=0;f<b.size();f++)e=b.get(f),e=this.si.siGetNewJSVPanel(e),this.si.siSetPropertiesFromPreferences(e,!0),c[f]=e;this.spectraTree.createTree(++this.fileCount,a,c);this.si.siGetNewJSVPanel(null);
a=JSV.common.PanelNode.findNode(this.selectedPanel,this.panelNodes);this.si.siSetMenuEnables(a,!0)});c(b,"selectedTreeNode",function(a){null!=a&&(a.isLeaf()?this.setNode(a.getPanelNode()):System.out.println("not a leaf"),this.si.siSetCurrentSource(a.getPanelNode().source))},"JSV.api.JSVTreeNode");c(b,"dispose",function(){this.fileHelper=null;null!=this.viewDialog&&this.viewDialog.dispose();this.viewDialog=null;null!=this.overlayLegendDialog&&this.overlayLegendDialog.dispose();this.overlayLegendDialog=
null;null!=this.jsvpPopupMenu&&(this.jsvpPopupMenu.jpiDispose(),this.jsvpPopupMenu=null);if(null!=this.panelNodes)for(var a=this.panelNodes.size();0<=--a;)this.panelNodes.get(a).dispose(),this.panelNodes.removeItemAt(a)});c(b,"runScript",function(a){null==this.scriptQueue?this.si.siProcessCommand(a):this.scriptQueue.addLast(a)},"~S");c(b,"requestRepaint",function(){null!=this.selectedPanel&&this.repaintManager.refresh()});c(b,"repaintDone",function(){this.repaintManager.repaintDone()});c(b,"checkOverlay",
function(){null!=this.mainPanel&&this.markSelectedPanels(this.panelNodes,this.mainPanel.getCurrentPanelIndex());this.viewDialog=this.getDialog(JSV.common.Annotation.AType.Views,null)});c(b,"markSelectedPanels",function(a,b){for(var c=a.size();0<=--c;)a.get(c).isSelected=b==c},"JU.Lst,~N");c(b,"execOverlayOffsetY",function(a){if(-2147483648==a){if(null==this.selectedPanel)return;a=this.selectedPanel.getInput("Enter a vertical offset in percent for stacked plots","Overlay",""+this.recentStackPercent);
a=JU.PT.parseFloat(a);if(Float.isNaN(a))return;a=I(a)}this.recentStackPercent=a;this.parameters.viewOffset=a;this.isClosed()&&this.pd().setYStackOffsetPercent(a)},"~N");c(b,"execScriptInline",function(a){0<a.length&&(a=a.substring(6).trim());0==a.length&&(a=this.selectedPanel.getInput("Enter a JSpecView script","Script",this.recentScript));null!=a&&(this.recentScript=a,this.runScriptNow(a))},"~S");c(b,"setDisplay",function(a){this.apiPlatform.setViewer(this,this.display=a);var b=D(2,0);this.apiPlatform.getFullScreenDimensions(a,
b);this.setScreenDimension(b[0],b[1])},"~O");c(b,"setScreenDimension",function(a,b){b=Math.min(b,this.maximumSize);a=Math.min(a,this.maximumSize);this.screenWidth==a&&this.screenHeight==b||this.resizeImage(a,b)},"~N,~N");c(b,"resizeImage",function(a,b){0<a?(this.screenWidth=a,this.screenHeight=b):(a=0==this.screenWidth?this.screenWidth=500:this.screenWidth,b=0==this.screenHeight?this.screenHeight=500:this.screenHeight);this.g2d.setWindowParameters(a,b)},"~N,~N");c(b,"updateJS",function(){null!=this.selectedPanel&&
this.selectedPanel.paintComponent(this.apiPlatform.getGraphics(null))});c(b,"processMouseEvent",function(a,b,c,e,f){return null!=this.selectedPanel&&this.selectedPanel.processMouseEvent(a,b,c,e,f)},"~N,~N,~N,~N,~N");c(b,"processTwoPointGesture",function(a){this.isClosed()||this.selectedPanel.processTwoPointGesture(a)},"~A");c(b,"getApplet",function(){return this.html5Applet});c(b,"openFileAsyncSpecial",function(a){var b=null==this.currentSource?"NO":this.getDialogManager().getDialogInput(this,"Do you want to append this file? (Answer NO to replace.)",
"Drag/Drop Action",3,null,null,"YES");null!=b&&(b=b.toLowerCase().startsWith("y")?"append":"",this.runScript("load "+b+' "'+a+'"'+(""===b?"":"; view *")))},"~S,~N");c(b,"getHeight",function(){return this.screenHeight});c(b,"getWidth",function(){return this.screenWidth});c(b,"getPlatformInterface",function(a){return JSV.common.JSViewer.getInterface("JSV."+(JSV.common.JSViewer.isJS?"js2d.Js":"java.Awt")+a)},"~S");c(b,"getDialogManager",function(){if(null!=this.dialogManager)return this.dialogManager;
this.dialogManager=this.getPlatformInterface("DialogManager");return this.dialogManager.set(this)});c(b,"getDialog",function(a,b){switch(a){case JSV.common.Annotation.AType.Integration:return JSV.common.JSViewer.getInterface("JSV.dialog.IntegrationDialog").setParams("Integration for "+b,this,b);case JSV.common.Annotation.AType.Measurements:return JSV.common.JSViewer.getInterface("JSV.dialog.MeasurementsDialog").setParams("Measurements for "+b,this,b);case JSV.common.Annotation.AType.PeakList:return JSV.common.JSViewer.getInterface("JSV.dialog.PeakListDialog").setParams("Peak List for "+
b,this,b);case JSV.common.Annotation.AType.OverlayLegend:return this.overlayLegendDialog=JSV.common.JSViewer.getInterface("JSV.dialog.OverlayLegendDialog").setParams(this.pd().getViewTitle(),this,null);case JSV.common.Annotation.AType.Views:return this.viewDialog=JSV.common.JSViewer.getInterface("JSV.dialog.ViewsDialog").setParams("View/Combine/Close Spectra",this,null);default:return null}},"JSV.common.Annotation.AType,JSV.common.Spectrum");c(b,"show",function(a){this.getDialogManager();if(a.equals("properties"))this.dialogManager.showProperties(null,
this.pd().getSpectrum());else if(a.equals("errors"))this.dialogManager.showSourceErrors(null,this.currentSource);else if(a.equals("source"))null==this.currentSource?0<this.panelNodes.size()&&this.dialogManager.showMessageDialog(null,"Please Select a Spectrum","Select Spectrum",0):this.dialogManager.showSource(this,this.pd().getSpectrum());else if(a.startsWith("solutioncolorfill"))if(0<=a.indexOf("all"))for(var b=this.panelNodes.size();0<=--b;)this.panelNodes.get(b).pd().setSolutionColor(a);else this.pd().setSolutionColor(a);
else a.startsWith("solutioncolor")&&(a=this.getSolutionColorStr(0>a.indexOf("false")),a="background-color:rgb("+a+")'><br />Predicted Solution Colour- RGB("+a+")<br /><br />",JSV.common.JSViewer.isJS?this.dialogManager.showMessage(this,"<div style='width:100%;height:100%;"+a+"</div>","Predicted Colour"):this.selectedPanel.showMessage("<html><body style='"+a+"</body></html>","Predicted Colour"))},"~S");c(b,"getDialogPrint",function(a){if(!JSV.common.JSViewer.isJS)try{var b=this.getPlatformInterface("PrintDialog").set(this.offWindowFrame,
this.lastPrintLayout,a).getPrintLayout();null!=b&&(this.lastPrintLayout=b);return b}catch(c){if(!z(c,Exception))throw c;}return new JSV.common.PrintLayout(this.pd())},"~B");c(b,"setIRmode",function(a){this.irMode=a.equals("AtoT")?JSV.common.Spectrum.IRMode.TO_TRANS:a.equals("TtoA")?JSV.common.Spectrum.IRMode.TO_ABS:JSV.common.Spectrum.IRMode.getMode(a)},"~S");c(b,"getOptionFromDialog",function(a,b,c){return this.getDialogManager().getOptionFromDialog(null,a,this.selectedPanel,b,c)},"~A,~S,~S");c(b,
"print",function(a){return this.execWrite('PDF "'+a+'"')},"~S");c(b,"execWrite",function(a){JSV.common.JSViewer.isJS&&null==a&&(a="PDF");a=JSV.common.JSViewer.getInterface("JSV.export.Exporter").write(this,null==a?null:JSV.common.ScriptToken.getTokens(a),!1);this.si.writeStatus(a);return a},"~S");c(b,"$export",function(a,b){null==a&&(a="XY");var c=this.pd(),e=c.getNumberOfSpectraInCurrentSet();if(-1>b||b>=e)return"Maximum spectrum index (0-based) is "+(e-1)+".";c=0>b?c.getSpectrum():c.getSpectrumAt(b);
try{return JSV.common.JSViewer.getInterface("JSV.export.Exporter").exportTheSpectrum(this,JSV.common.ExportType.getType(a),null,c,0,c.getXYCoords().length-1,null,a.equalsIgnoreCase("PDF"))}catch(f){if(z(f,Exception))return JU.Logger.error(f.toString()),null;throw f;}},"~S,~N");e(b,"postByteArray",function(a,b){return JSV.common.JSVFileManager.postByteArray(a,b)},"~S,~A");c(b,"getOutputChannel",function(a,b){for(;a.startsWith("/");)a=a.substring(1);return(new JU.OC).setParams(this,a,!b,null)},"~S,~B");
b.getInterface=c(b,"getInterface",function(a){try{var b=$._4Name(a);return null==b?null:b.newInstance()}catch(c){if(z(c,Exception))return JU.Logger.error("Interface.java Error creating instance for "+a+": \n"+c),null;throw c;}},"~S");c(b,"showMessage",function(a){null!=this.selectedPanel&&null!=a&&this.selectedPanel.showMessage(a,null)},"~S");c(b,"openFileFromDialog",function(a,b,c,e){var f=null;if(null!=c){f=this.fileHelper.getUrlFromDialog("Enter the name or identifier of a compound",this.recentSimulation);
if(null==f)return;this.recentSimulation=f;f="$"+c+"/"+f}else if(b){f=this.fileHelper.getUrlFromDialog("Enter the URL of a JCAMP-DX File",null==this.recentURL?this.recentOpenURL:this.recentURL);if(null==f)return;this.recentOpenURL=f}else b=y(-1,[Boolean.$valueOf(a),e]),b=this.fileHelper.showFileOpenDialog(this.mainPanel,b),null!=b&&(f=b.getFullPath());null!=f&&this.runScriptNow("load "+(a?"APPEND ":"")+'"'+f+'"'+(null==e?"":";"+e))},"~B,~B,~S,~S");c(b,"openFile",function(a,b){if(b&&null!=this.panelNodes){var c=
JSV.common.PanelNode.findSourceByNameOrId((new java.io.File(a)).getAbsolutePath(),this.panelNodes);null!=c&&this.closeSource(c)}this.si.siOpenDataOrFile(null,null,null,a,-1,-1,!0,this.defaultLoadScript,null)},"~S,~B");c(b,"selectPanel",function(a,b){var c=-1;if(null!=b){for(var e=b.size();0<=--e;){var f=b.get(e).jsvp;f===a?c=e:(f.setEnabled(!1),f.setFocusable(!1),f.getPanelData().closeAllDialogsExcept(JSV.common.Annotation.AType.NONE))}this.markSelectedPanels(b,c)}return c},"JSV.api.JSVPanel,JU.Lst");
c(b,"checkAutoIntegrate",function(){this.autoIntegrate&&this.pd().integrateAll(this.parameters)});c(b,"parseInitScript",function(a){null==a&&(a="");a=new JSV.common.ScriptTokenizer(a,!0);for(JU.Logger.debugging&&JU.Logger.info("Running in DEBUG mode");a.hasMoreTokens();){var b=a.nextToken(),c=new JSV.common.ScriptTokenizer(b,!1),e=c.nextToken();e.equalsIgnoreCase("SET")&&(e=c.nextToken());var e=e.toUpperCase(),f=JSV.common.ScriptToken.getScriptToken(e),b=JSV.common.ScriptToken.getValue(f,c,b);JU.Logger.info("KEY-> "+
e+" VALUE-> "+b+" : "+f);try{switch(f){default:this.parameters.set(null,f,b);break;case JSV.common.ScriptToken.UNKNOWN:break;case JSV.common.ScriptToken.APPLETID:this.fullName=this.appletName+"__"+(this.appletName=b)+"__";e=null;self.Jmol&&(e=Jmol._applets[b]);this.html5Applet=e;break;case JSV.common.ScriptToken.AUTOINTEGRATE:this.autoIntegrate=JSV.common.Parameters.isTrue(b);break;case JSV.common.ScriptToken.COMPOUNDMENUON:break;case JSV.common.ScriptToken.APPLETREADYCALLBACKFUNCTIONNAME:case JSV.common.ScriptToken.COORDCALLBACKFUNCTIONNAME:case JSV.common.ScriptToken.LOADFILECALLBACKFUNCTIONNAME:case JSV.common.ScriptToken.PEAKCALLBACKFUNCTIONNAME:case JSV.common.ScriptToken.SYNCCALLBACKFUNCTIONNAME:this.si.siExecSetCallback(f,
b);break;case JSV.common.ScriptToken.ENDINDEX:this.initialEndIndex=Integer.parseInt(b);break;case JSV.common.ScriptToken.INTERFACE:this.checkOvelayInterface(b);break;case JSV.common.ScriptToken.IRMODE:this.setIRmode(b);break;case JSV.common.ScriptToken.MENUON:this.allowMenu=Boolean.parseBoolean(b);break;case JSV.common.ScriptToken.OBSCURE:null==this.obscureTitleFromUser&&(this.obscureTitleFromUser=Boolean.$valueOf(b));break;case JSV.common.ScriptToken.STARTINDEX:this.initialStartIndex=Integer.parseInt(b);
break;case JSV.common.ScriptToken.SYNCID:this.fullName=this.appletName+"__"+(this.syncID=b)+"__"}}catch(h){if(!z(h,Exception))throw h;}}},"~S");c(b,"getSolutionColorStr",function(a){a=JU.CU.colorPtFromInt(this.getSolutionColor(a),null);return I(a.x)+","+I(a.y)+","+I(a.z)},"~B");c(b,"checkCommandLineForTip",function(a,b,c){var e="\u0001"==a;if(!e&&"\x00"!=a){if("\t"!=a&&("\n"==a||32>a.charCodeAt(0)||126<a.charCodeAt(0)))return null;b+=Character.isISOControl(a)?"":""+a}var f;0<=b.indexOf(";")&&(b=b.substring(b.lastIndexOf(";")+
1));for(var h=null;b.startsWith(" ");)b=b.substring(1);if(0==b.length&&!e)f="";else{f=JSV.common.ScriptToken.getTokens(b);if(0==f.size()&&!e)return"";b=b.endsWith(" ")||1<f.size()&&c;f=JSV.common.ScriptToken.getScriptTokenList(0==f.size()?null:f.get(0),b);switch(f.size()){case 0:f="?";break;case 1:e=f.get(0);f=e.getTip();try{f=0<=f.indexOf("TRUE")?" ("+this.parameters.getBoolean(e)+")":0<=e.name().indexOf("COLOR")?" ("+JU.CU.toRGBHexString(this.parameters.getElementColor(e))+")":""}catch(k){if(z(k,
Exception))return null;throw k;}if("\t"==a||b||!c){f=e.name()+" "+e.getTip()+f+" "+e.getDescription();"\t"==a&&(h=e.name()+" ");break}f=e.name()+" "+f;break;default:f=JSV.common.ScriptToken.getNameList(f)}}c?this.si.writeStatus(f):h=f;return h},"~S,~S,~B");c(b,"checkScript",function(a){return this.checkCommandLineForTip("\x00",a,!1)},"~S");c(b,"execHelp",function(a){var b=this.checkCommandLineForTip("\u0001",a,!1);if(0>b.indexOf(" ")&&0<b.indexOf(",")){var c=JU.PT.split(b,",");java.util.Arrays.sort(c);
for(var b="",e=0;e<c.length;e++)var f=JSV.common.ScriptToken.getScriptToken(c[e]),b=b+(c[e]+" "+f.getTip()+"\n  "+f.getDescription()+"\n\n");this.getDialogManager().showMessage(null,b,"HELP "+a)}else this.selectedPanel.showMessage(b,"Help "+a);System.out.println(b)},"~S");E(b,"testScript",'<PeakData  index="1" title="" model="~1.1" type="1HNMR" xMin="3.2915" xMax="3.2965" atoms="15,16,17,18,19,20" multiplicity="" integral="1"> src="JPECVIEW" file="http://SIMULATION/$caffeine"',"isJS",!1,"isSwingJS",
!1,"jmolObject",null)});t("JSV.common");v(["JSV.common.Annotation","$.Coordinate"],"JSV.common.Measurement",null,function(){var b=q(function(){this.pt2=null;this.value=0;s(this,arguments)},JSV.common,"Measurement",JSV.common.Annotation);H(b,function(){this.pt2=new JSV.common.Coordinate});c(b,"setM1",function(a,b,c){this.setA(a,b,c,"",!1,!1,0,6);this.setPt2(this.getXVal(),this.getYVal());return this},"~N,~N,JSV.common.Spectrum");c(b,"copyM",function(){var a=new JSV.common.Measurement;a.setA(this.getXVal(),
this.getYVal(),this.spec,this.text,!1,!1,this.offsetX,this.offsetY);a.setPt2(this.pt2.getXVal(),this.pt2.getYVal());return a});c(b,"setPt2",function(a,b){this.spec=a;b&&this.setPt2(this.getXVal(),this.getYVal());return this},"JSV.common.Spectrum,~B");c(b,"setPt2",function(a,b){this.pt2.setXVal(a);this.pt2.setYVal(b);this.value=Math.abs(a-this.getXVal());this.text=this.spec.setMeasurementText(this)},"~N,~N");c(b,"getSpectrum",function(){return this.spec});c(b,"setValue",function(a){this.value=a;this.text=
this.spec.setMeasurementText(this)},"~N");c(b,"getValue",function(){return this.value});c(b,"getXVal2",function(){return this.pt2.getXVal()});c(b,"getYVal2",function(){return this.pt2.getYVal()});e(b,"addSpecShift",function(a){this.setXVal(this.getXVal()+a);this.pt2.setXVal(this.pt2.getXVal()+a)},"~N");c(b,"setYVal2",function(a){this.pt2.setYVal(a)},"~N");c(b,"overlaps",function(a,b){return Math.min(this.getXVal(),this.getXVal2())<Math.max(a,b)&&Math.max(this.getXVal(),this.getXVal2())>Math.min(a,
b)},"~N,~N");e(b,"toString",function(){return"["+this.getXVal()+","+this.pt2.getXVal()+"]"})});t("JSV.common");v(["JU.Lst","JSV.api.AnnotationData"],"JSV.common.MeasurementData",["JU.AU","$.DF","JSV.common.Annotation","$.Parameters"],function(){var b=q(function(){this.units=this.spec=this.type=null;this.precision=0;this.myParams=null;this.isON=!0;this.key=null;s(this,arguments)},JSV.common,"MeasurementData",JU.Lst,JSV.api.AnnotationData);p(b,function(a,b){B(this,JSV.common.MeasurementData,[]);this.type=
a;this.spec=b;this.myParams=(new JSV.common.Parameters).setName("MeasurementData")},"JSV.common.Annotation.AType,JSV.common.Spectrum");c(b,"getMeasurements",function(){return this});e(b,"getAType",function(){return this.type});e(b,"getState",function(){return this.isON});e(b,"setState",function(a){this.isON=a},"~B");c(b,"setMeasurements",function(){},"JU.Lst");e(b,"getParameters",function(){return this.myParams});c(b,"getDataHeader",function(){return JSV.common.MeasurementData.HEADER});c(b,"getMeasurementListArray",
function(a){this.units=a;var b=this.getMeasurementListArrayReal(a),c=this.spec.isNMR()?4:2;a=this.spec.isHNMR()&&a.equals("ppm")?4:2;for(var e=Array(this.size()),f=this.size();0<=--f;)e[f]=y(-1,[""+(f+1),JU.DF.formatDecimalDbl(b[f][0],c),JU.DF.formatDecimalDbl(b[f][1],c),JU.DF.formatDecimalDbl(b[f][2],a)]);return e},"~S");c(b,"getMeasurementListArrayReal",function(a){a=this.spec.isNMR()&&a.equalsIgnoreCase("HZ");for(var b=JU.AU.newDouble2(this.size()),c=0,e=this.size();0<=--e;){var f=this.get(e).getValue();
a&&(f*=this.spec.getObservedFreq());b[c++]=N(-1,[this.get(e).getXVal(),this.get(e).getXVal2(),f])}return b},"~S");b.checkParameters=c(b,"checkParameters",function(a,b){if(0==a.size())return!1;var c=a.getParameters();switch(a.getAType()){case JSV.common.Annotation.AType.PeakList:return b.peakListInterpolation.equals(c.peakListInterpolation)&&b.peakListThreshold==c.peakListThreshold}return!1},"JSV.common.MeasurementData,JSV.common.ColorParameters");e(b,"getSpectrum",function(){return this.spec});e(b,
"getData",function(){return this});c(b,"clear",function(a,b){for(var c=this.size();0<=--c;){var e=this.get(c);(0==e.text.length||e.overlaps(a,b))&&this.removeItemAt(c)}},"~N,~N");c(b,"find",function(a){for(var b=this.size();0<=--b;)if(this.get(b).overlaps(a,a))return b;return-1},"~N");e(b,"setSpecShift",function(a){for(var b=this.size();0<=--b;){var c=this.get(b),e=c.getXVal()+a;c.setXVal(e);c.setValue(e);c.text=JU.DF.formatDecimalDbl(e,this.precision)}},"~N");e(b,"getGraphSetKey",function(){return this.key});
e(b,"setGraphSetKey",function(a){this.key=a},"~S");e(b,"isVisible",function(){return!0});c(b,"getInfo",function(a){a.put("header",this.getDataHeader());a.put("table",this.getMeasurementListArrayReal("ppm"));null!=this.units&&a.put("units",this.units)},"java.util.Map");e(b,"isDialog",function(){return!1});b.HEADER=b.prototype.HEADER=y(-1,["","start","end","value"])});t("JSV.common");v(["java.lang.Enum","J.api.EventManager","java.util.Hashtable","JU.Lst"],"JSV.common.PanelData","java.lang.Boolean $.Double JU.CU JSV.common.Annotation $.Coordinate $.GraphSet $.JSVFileManager $.JSVersion $.JSViewer $.MeasurementData $.Parameters $.PeakPickEvent $.ScriptToken $.Spectrum $.SubSpecChangeEvent $.ZoomEvent JU.Font $.Logger".split(" "),
function(){var b=q(function(){this.graphSets=this.jsvp=this.options=this.currentGraphSet=this.listeners=this.vwr=this.g2d0=this.g2d=null;this.currentSplitPoint=0;this.coordsClicked=this.coordClicked=this.thisWidget=null;this.isIntegralDrag=this.drawXAxisLeftToRight=this.shiftPressed=this.ctrlPressed=!1;this.xAxisLeftToRight=!0;this.scalingFactor=1;this.integralShiftMode=0;this.left=60;this.right=50;this.coordStr="";this.startupPinTip="Click to set.";this.title=null;this.endIndex=this.startIndex=this.thisHeight=
this.thisWidth=this.nSpectra=this.clickCount=0;this.titleFontName=this.displayFontName=this.viewTitle=this.commonFilePath=null;this.isPrinting=!1;this.doReset=!0;this.printingFontName=null;this.printGraphPosition="default";this.isLinked=this.display1D=this.titleDrawn=!1;this.spectra=this.printJobTitle=null;this.taintedAll=!0;this.testingJavaScript=!1;this.mouseState=this.currentFont=null;this.peakTabsOn=this.titleOn=this.gridOn=!1;this.mouseY=this.mouseX=0;this.linking=!1;this.xPixelClicked=0;this.gMain=
this.optionsSaved=this.bgcolor=this.BLACK=this.zoomBoxColor2=this.zoomBoxColor=this.highlightColor=this.unitsColor=this.titleColor=this.scaleColor=this.plotAreaColor=this.peakTabColor=this.integralPlotColor=this.gridColor=this.coordinatesColor=null;s(this,arguments)},JSV.common,"PanelData",null,J.api.EventManager);H(b,function(){this.listeners=new JU.Lst;this.options=new java.util.Hashtable});p(b,function(a,b){this.vwr=b;this.jsvp=a;this.g2d=this.g2d0=b.g2d;this.BLACK=this.g2d.getColor1(0);this.highlightColor=
this.g2d.getColor4(255,0,0,200);this.zoomBoxColor=this.g2d.getColor4(150,150,100,130);this.zoomBoxColor2=this.g2d.getColor4(150,100,100,130)},"JSV.api.JSVPanel,JSV.common.JSViewer");c(b,"addListener",function(a){this.listeners.contains(a)||this.listeners.addLast(a)},"JSV.api.PanelListener");c(b,"getCurrentGraphSet",function(){return this.currentGraphSet});c(b,"dispose",function(){this.jsvp=null;for(var a=0;a<this.graphSets.size();a++)this.graphSets.get(a).dispose();this.listeners=this.options=this.thisWidget=
this.coordsClicked=this.coordClicked=this.currentGraphSet=this.currentFont=this.graphSets=null});c(b,"setViewTitle",function(a){this.viewTitle=a},"~S");c(b,"getViewTitle",function(){return null==this.viewTitle?this.getTitle():this.viewTitle});c(b,"getInfo",function(a,b){var c=new java.util.Hashtable,e=null;if(a)return this.currentGraphSet.getInfo(b,this.getCurrentSpectrumIndex());var f=this.options.entrySet();if("".equals(b)){for(var e="type title nSets ",h,f=f.iterator();f.hasNext()&&((h=f.next())||
1);)e+=h.getKey().name()+" ";c.put("KEYS",e)}else{for(f=f.iterator();f.hasNext()&&((h=f.next())||1);)JSV.common.Parameters.putInfo(b,c,h.getKey().name(),h.getValue());JSV.common.Parameters.putInfo(b,c,"type",this.getSpectrumAt(0).getDataType());JSV.common.Parameters.putInfo(b,c,"title",this.title);JSV.common.Parameters.putInfo(b,c,"nSets",Integer.$valueOf(this.graphSets.size()))}e=new JU.Lst;for(h=this.graphSets.size();0<=--h;)e.addLast(this.graphSets.get(h).getInfo(b,-1));c.put("sets",e);return c},
"~B,~S");c(b,"setBooleans",function(a,b){if(null==b)for(var c,e=a.getBooleans().entrySet().iterator();e.hasNext()&&((c=e.next())||1);)this.setBooleans(a,c.getKey());else this.setBoolean(b,a.getBoolean(b))},"JSV.common.Parameters,JSV.common.ScriptToken");c(b,"setBoolean",function(a,b){this.setTaintedAll();if(a===JSV.common.ScriptToken.REVERSEPLOT)this.currentGraphSet.setReversePlot(b);else switch(this.options.put(a,Boolean.$valueOf(b)),a){case JSV.common.ScriptToken.DISPLAY1D:case JSV.common.ScriptToken.DISPLAY2D:this.doReset=
!0}},"JSV.common.ScriptToken,~B");c(b,"getBoolean",function(a){if(a===JSV.common.ScriptToken.REVERSEPLOT)return this.currentGraphSet.reversePlot;if(null==this.options)return!1;a=this.options.get(a);return null!=a&&x(a,Boolean)&&a===Boolean.TRUE},"JSV.common.ScriptToken");c(b,"setFontName",function(a,b){switch(a){case JSV.common.ScriptToken.DISPLAYFONTNAME:this.displayFontName=b;break;case JSV.common.ScriptToken.TITLEFONTNAME:this.titleFontName=b}null!=b&&this.options.put(a,b)},"JSV.common.ScriptToken,~S");
c(b,"getDisplay1D",function(){return this.display1D});c(b,"setTaintedAll",function(){this.taintedAll=!0});c(b,"initOne",function(a){this.spectra=new JU.Lst;this.spectra.addLast(a);this.initMany(this.spectra,0,0)},"JSV.common.Spectrum");c(b,"initMany",function(a,b,c){this.startIndex=b;this.endIndex=c;this.nSpectra=a.size();this.spectra=a;this.commonFilePath=a.get(0).getFilePath();for(b=0;b<this.nSpectra;b++)if(!this.commonFilePath.equalsIgnoreCase(a.get(b).getFilePath())){this.commonFilePath=null;
break}this.setGraphSets(JSV.common.PanelData.LinkMode.NONE)},"JU.Lst,~N,~N");c(b,"setGraphSets",function(a){this.graphSets=JSV.common.GraphSet.createGraphSetsAndSetLinkMode(this,this.jsvp,this.spectra,this.startIndex,this.endIndex,a);this.currentGraphSet=this.graphSets.get(0);this.title=this.getSpectrum().getTitleLabel()},"JSV.common.PanelData.LinkMode");c(b,"findMatchingPeakInfo",function(a){for(var b=null,c=0;c<this.graphSets.size()&&null==(b=this.graphSets.get(c).findMatchingPeakInfo(a));c++);
return b},"JSV.common.PeakInfo");c(b,"integrateAll",function(a){for(var b=this.graphSets.size();0<=--b;)this.graphSets.get(b).integrate(-1,a)},"JSV.common.ColorParameters");c(b,"getNumberOfGraphSets",function(){return this.graphSets.size()});c(b,"getTitle",function(){return this.title});c(b,"refresh",function(){this.doReset=!0});c(b,"addAnnotation",function(a){a=this.currentGraphSet.addAnnotation(a,this.getTitle());null!=a&&(this.title=a)},"JU.Lst");c(b,"addPeakHighlight",function(a){for(var b=0;b<
this.graphSets.size();b++)this.graphSets.get(b).addPeakHighlight(a)},"JSV.common.PeakInfo");c(b,"selectPeakByFileIndex",function(a,b,c){var e=this.currentGraphSet.selectPeakByFileIndex(a,b,c);if(null==e)for(var f=this.graphSets.size();0<=--f&&!(this.graphSets.get(f)!==this.currentGraphSet&&null!=(e=this.graphSets.get(f).selectPeakByFileIndex(a,b,c))););return e},"~S,~S,~S");c(b,"setPlotColors",function(a){for(var b=this.graphSets.size();0<=--b;)this.graphSets.get(b).setPlotColors(a)},"~A");c(b,"selectSpectrum",
function(a,b,c,e){e&&this.currentGraphSet.selectSpectrum(a,b,c);if("ID".equals(b))this.jumpToSpectrumIndex(this.getCurrentSpectrumIndex(),!0);else for(e=0;e<this.graphSets.size();e++)this.graphSets.get(e)!==this.currentGraphSet&&this.graphSets.get(e).selectSpectrum(a,b,c)},"~S,~S,~S,~B");c(b,"hasFileLoaded",function(a){for(var b=this.graphSets.size();0<=--b;)if(this.graphSets.get(b).hasFileLoaded(a))return!0;return!1},"~S");c(b,"clearAllView",function(){for(var a=this.graphSets.size();0<=--a;)this.graphSets.get(a).resetViewCompletely()});
c(b,"drawGraph",function(a,b,c,e,f,h){var k;this.gMain=a;this.display1D=!this.isLinked&&this.getBoolean(JSV.common.ScriptToken.DISPLAY1D);var j=40,l=50,m=this.isPrinting||this.doReset||this.thisWidth!=e||this.thisHeight!=f;m&&this.setTaintedAll();this.taintedAll&&this.g2d.fillBackground(c,this.bgcolor);b!==a&&(this.g2d.fillBackground(b,null),a!==c&&this.g2d.fillBackground(a,null),this.g2d.setStrokeBold(a,!1));this.isPrinting?(j*=3,l*=3,this.scalingFactor=10,k=!1):(this.scalingFactor=1,k=this.getBoolean(JSV.common.ScriptToken.COORDINATESON),
this.titleOn=this.getBoolean(JSV.common.ScriptToken.TITLEON),this.gridOn=this.getBoolean(JSV.common.ScriptToken.GRIDON),this.peakTabsOn=this.getBoolean(JSV.common.ScriptToken.PEAKTABSON));var p=this.getBoolean(JSV.common.ScriptToken.POINTSONLY);this.titleDrawn=this.doReset=!1;this.thisWidth=e;this.thisHeight=f;for(var n=this.graphSets.size();0<=--n;)this.graphSets.get(n).drawGraphSet(a,b,c,e,f,this.left,this.right,j,l,m,this.taintedAll,p);this.titleOn&&(!this.titleDrawn&&this.taintedAll)&&this.drawTitle(a,
f*this.scalingFactor,e*this.scalingFactor,this.getDrawTitle(this.isPrinting));k&&null!=this.coordStr&&this.drawCoordinates(b,j,this.thisWidth-this.right,j-20);h&&this.taintedAll&&this.printFilePath(a,this.left,f,null!=this.commonFilePath?this.commonFilePath:1==this.graphSets.size()&&null!=this.currentGraphSet.getTitle(!0)?this.getSpectrum().getFilePath():null);this.isPrinting&&this.printVersion(a,f);!this.testingJavaScript&&(this.isPrinting||a===b)?this.setTaintedAll():this.taintedAll=!1},"~O,~O,~O,~N,~N,~B");
c(b,"drawCoordinates",function(a,b,c,e){this.g2d.setGraphicsColor(a,this.coordinatesColor);b=this.setFont(a,this.jsvp.getWidth(),1,14,!0);this.g2d.drawString(a,this.coordStr,c-b.stringWidth(this.coordStr),e)},"~O,~N,~N,~N");c(b,"setFont",function(a,b,c,e,f){return this.g2d.setFont(a,this.getFont(a,b,c,e,f))},"~O,~N,~N,~N,~B");c(b,"printFilePath",function(a,b,c,e){if(null!=e){b*=this.scalingFactor;c*=this.scalingFactor;0<e.indexOf("?")&&(e=e.substring(e.indexOf("?")+1));e=e.substring(e.lastIndexOf("/")+
1);e=e.substring(e.lastIndexOf("\\")+1);this.g2d.setGraphicsColor(a,this.BLACK);var f=this.setFont(a,1E3,0,9,!0);b!=this.left*this.scalingFactor&&(b-=f.stringWidth(e));this.g2d.drawString(a,e,b,c-f.getHeight())}},"~O,~N,~N,~S");c(b,"printVersion",function(a,b){this.g2d.setGraphicsColor(a,this.BLACK);var c=this.setFont(a,100,0,12,!0),e=this.jsvp.getApiPlatform().getDateFormat(null)+" JSpecView "+JSV.common.JSVersion.VERSION_SHORT,f=c.stringWidth(e);this.g2d.drawString(a,e,(this.thisWidth-this.right)*
this.scalingFactor-f,b*this.scalingFactor-3*c.getHeight())},"~O,~N");c(b,"drawTitle",function(a,b,c,e){e=e.$replace("\n"," ");var f=this.getFont(a,c,this.isPrinting||this.getBoolean(JSV.common.ScriptToken.TITLEBOLDON)?1:0,14,!0),h=f.stringWidth(e);h>c&&(f=w(14*c/h),10>f&&(f=10),f=this.getFont(a,c,this.isPrinting||this.getBoolean(JSV.common.ScriptToken.TITLEBOLDON)?1:0,f,!0));this.g2d.setGraphicsColor(a,this.titleColor);this.setCurrentFont(this.g2d.setFont(a,f));this.g2d.drawString(a,e,this.isPrinting?
this.left*this.scalingFactor:5,b-w(f.getHeight()*(this.isPrinting?2:0.5)))},"~O,~N,~N,~S");c(b,"setCurrentFont",function(a){this.currentFont=a},"JU.Font");c(b,"getFontHeight",function(){return this.currentFont.getAscent()});c(b,"getStringWidth",function(a){return this.currentFont.stringWidth(a)},"~S");c(b,"selectFromEntireSet",function(a){for(var b=0,c=0;b<this.graphSets.size();b++)if(-2147483648==a)this.graphSets.get(b).setSelected(-1);else for(var e=this.graphSets.get(b).spectra,f=0;f<e.size();f++,
c++)(0>a||a==c)&&this.graphSets.get(b).setSelected(f)},"~N");c(b,"addToList",function(a,b){for(var c=0;c<this.spectra.size();c++)(0>a||c==a)&&b.addLast(this.spectra.get(c))},"~N,JU.Lst");c(b,"scaleSelectedBy",function(a){for(var b=this.graphSets.size();0<=--b;)this.graphSets.get(b).scaleSelectedBy(a)},"~N");c(b,"setCurrentGraphSet",function(a,b){var c=1<a.nSplit?a.getSplitPoint(b):a.getCurrentSpectrumIndex(),e=this.currentGraphSet!==a,f=e||this.currentSplitPoint!=c;this.currentGraphSet=a;this.currentSplitPoint=
c;(e||1<a.nSplit&&f)&&this.setSpectrum(c,!0);if(!e){e=a.checkSpectrumClickedEvent(this.mouseX,this.mouseY,this.clickCount);if(!e)return!1;this.currentSplitPoint=c=a.getCurrentSpectrumIndex();this.setSpectrum(c,!0)}this.jumpToSpectrumIndex(c,e||1<a.nSplit&&f);return e},"JSV.common.GraphSet,~N");c(b,"jumpToSpectrum",function(a){a=this.currentGraphSet.getSpectrumIndex(a);this.jumpToSpectrumIndex(a,!0)},"JSV.common.Spectrum");c(b,"jumpToSpectrumIndex",function(a,b){if(!(0>a||a>=this.currentGraphSet.nSpectra)){this.currentSplitPoint=
a;b&&this.setSpectrum(this.currentSplitPoint,1<this.currentGraphSet.nSplit);var c=this.getSpectrum();this.notifySubSpectrumChange(c.getSubIndex(),c)}},"~N,~B");c(b,"splitStack",function(a){this.currentGraphSet.splitStack(a)},"~B");c(b,"getNumberOfSpectraInCurrentSet",function(){return this.currentGraphSet.nSpectra});c(b,"getSourceID",function(){var a=this.getSpectrum().sourceID;return null==a?this.getSpectrumAt(0).sourceID:a});c(b,"getStartingPointIndex",function(a){return this.currentGraphSet.viewData.getStartingPointIndex(a)},
"~N");c(b,"getEndingPointIndex",function(a){return this.currentGraphSet.viewData.getEndingPointIndex(a)},"~N");c(b,"haveSelectedSpectrum",function(){return this.currentGraphSet.haveSelectedSpectrum()});c(b,"getShowAnnotation",function(a){return this.currentGraphSet.getShowAnnotation(a,-1)},"JSV.common.Annotation.AType");c(b,"showAnnotation",function(a,b){this.currentGraphSet.setShowAnnotation(a,b)},"JSV.common.Annotation.AType,Boolean");c(b,"setYStackOffsetPercent",function(a){this.currentGraphSet.yStackOffsetPercent=
a},"~N");c(b,"setSpectrum",function(a,b){this.currentGraphSet.setSpectrum(a,b)},"~N,~B");c(b,"getSpectrum",function(){return this.currentGraphSet.getSpectrum()});c(b,"setSpecForIRMode",function(a){this.setTaintedAll();var b=this.currentGraphSet.getSpectrum();this.currentGraphSet.setSpectrumJDX(a);for(var c=0;c<this.spectra.size();c++)this.spectra.get(c)===b&&this.spectra.set(c,a)},"JSV.common.Spectrum");c(b,"isShowAllStacked",function(){return this.currentGraphSet.showAllStacked});c(b,"getCurrentSpectrumIndex",
function(){return this.currentGraphSet.getCurrentSpectrumIndex()});c(b,"getSpectrumAt",function(a){return null==this.currentGraphSet?null:this.currentGraphSet.getSpectrumAt(a)},"~N");c(b,"addHighlight",function(a,b,c,e,f,h,k,j){(null==a?this.currentGraphSet:a).addHighlight(b,c,e,this.g2d.getColor4(f,h,k,j))},"JSV.common.GraphSet,~N,~N,JSV.common.Spectrum,~N,~N,~N,~N");c(b,"removeHighlight",function(a,b){this.currentGraphSet.removeHighlight(a,b)},"~N,~N");c(b,"removeAllHighlights",function(){this.currentGraphSet.removeAllHighlights()});
c(b,"setZoom",function(a,b,c,e){this.currentGraphSet.setZoom(a,b,c,e);this.doReset=!0;this.setTaintedAll();this.notifyListeners(new JSV.common.ZoomEvent)},"~N,~N,~N,~N");c(b,"resetView",function(){this.currentGraphSet.resetView()});c(b,"previousView",function(){this.currentGraphSet.previousView()});c(b,"nextView",function(){this.currentGraphSet.nextView()});c(b,"getSelectedIntegral",function(){return this.currentGraphSet.getSelectedIntegral()});c(b,"advanceSubSpectrum",function(a){this.currentGraphSet.advanceSubSpectrum(a)},
"~N");c(b,"setSelectedIntegral",function(a){this.currentGraphSet.setSelectedIntegral(a)},"~N");c(b,"scaleYBy",function(a){this.currentGraphSet.scaleYBy(a)},"~N");c(b,"toPeak",function(a){this.currentGraphSet.toPeak(a)},"~N");c(b,"getClickedCoordinate",function(){return this.coordClicked});c(b,"getPickedCoordinates",function(a,b){return JSV.common.Coordinate.getPickedCoordinates(this.coordsClicked,this.coordClicked,a,b)},"JSV.common.Coordinate,JSV.common.Coordinate");c(b,"shiftSpectrum",function(a,
b,c){return this.currentGraphSet.shiftSpectrum(a,b,c)},"~N,~N,~N");c(b,"findX",function(a,b){this.currentGraphSet.setXPointer(a,b)},"JSV.common.Spectrum,~N");c(b,"setXPointers",function(a,b,c,e){this.currentGraphSet.setXPointer(a,b);this.currentGraphSet.setXPointer2(c,e)},"JSV.common.Spectrum,~N,JSV.common.Spectrum,~N");c(b,"isCurrentGraphSet",function(a){return a===this.currentGraphSet},"JSV.common.GraphSet");c(b,"repaint",function(){this.jsvp.doRepaint(!1)});c(b,"setToolTipText",function(a){this.jsvp.setToolTipText(a)},
"~S");c(b,"setHighlightColor",function(a){this.setColor(JSV.common.ScriptToken.HIGHLIGHTCOLOR,a)},"javajs.api.GenericColor");c(b,"getInput",function(a,b,c){return this.jsvp.getInput(a,b,c)},"~S,~S,~S");c(b,"getFont",function(a,b,c,e,f){e*=this.scalingFactor;f?400>b&&(e=b*e/400):250>b&&(e=b*e/250);b=this.jsvp.getFontFaceID(this.isPrinting?this.printingFontName:this.displayFontName);return this.currentFont=JU.Font.createFont3D(b,c,e,e,this.jsvp.getApiPlatform(),a)},"~O,~N,~N,~N,~B");c(b,"notifySubSpectrumChange",
function(a,b){this.notifyListeners(new JSV.common.SubSpecChangeEvent(a,null==b?null:b.getTitleLabel()))},"~N,JSV.common.Spectrum");c(b,"notifyPeakPickedListeners",function(a){null==a&&(a=new JSV.common.PeakPickEvent(this.jsvp,this.coordClicked,this.getSpectrum().getAssociatedPeakInfo(this.xPixelClicked,this.coordClicked)));this.notifyListeners(a)},"JSV.common.PeakPickEvent");c(b,"notifyListeners",function(a){for(var b=0;b<this.listeners.size();b++)null!=this.listeners.get(b)&&this.listeners.get(b).panelEvent(a)},
"~O");c(b,"escapeKeyPressed",function(a){this.currentGraphSet.escapeKeyPressed(a)},"~B");c(b,"hasFocus",function(){return this.jsvp.hasFocus()});c(b,"isMouseUp",function(){return this.mouseState===JSV.common.PanelData.Mouse.UP});c(b,"doMouseMoved",function(a,b){this.mouseX=a;this.mouseY=b;this.mouseState=JSV.common.PanelData.Mouse.UP;this.clickCount=0;var c=JSV.common.GraphSet.findGraphSet(this.graphSets,a,b);null!=c&&c.mouseMovedEvent(a,b)},"~N,~N");c(b,"doMousePressed",function(a,b){this.mouseState=
JSV.common.PanelData.Mouse.DOWN;var c=JSV.common.GraphSet.findGraphSet(this.graphSets,a,b);null!=c&&(this.setCurrentGraphSet(c,b),this.clickCount=++this.clickCount%3,this.currentGraphSet.mousePressedEvent(a,b,this.clickCount))},"~N,~N");c(b,"doMouseDragged",function(a,b){this.isIntegralDrag=(new Boolean(this.isIntegralDrag|this.ctrlPressed)).valueOf();this.mouseState=JSV.common.PanelData.Mouse.DOWN;JSV.common.GraphSet.findGraphSet(this.graphSets,a,b)===this.currentGraphSet&&(this.currentGraphSet.checkWidgetEvent(a,
b,!1)&&this.setTaintedAll(),this.currentGraphSet.mouseMovedEvent(a,b))},"~N,~N");c(b,"doMouseReleased",function(a,b,c){this.mouseState=JSV.common.PanelData.Mouse.UP;!(null==this.thisWidget&&null==this.currentGraphSet.pendingMeasurement)&&c&&(this.currentGraphSet.mouseReleasedEvent(a,b),this.thisWidget=null,this.isIntegralDrag=!1,this.integralShiftMode=0)},"~N,~N,~B");c(b,"doMouseClicked",function(a,b,c){var e=JSV.common.GraphSet.findGraphSet(this.graphSets,a,b);null!=e&&(this.setCurrentGraphSet(e,
b),e.mouseClickedEvent(a,b,this.clickCount,c),this.setTaintedAll(),this.repaint())},"~N,~N,~B");c(b,"hasCurrentMeasurements",function(a){return this.currentGraphSet.hasCurrentMeasurement(a)},"JSV.common.Annotation.AType");c(b,"getDialog",function(a){return this.currentGraphSet.getDialog(a,-1)},"JSV.common.Annotation.AType");c(b,"addDialog",function(a,b,c){this.currentGraphSet.addDialog(a,b,c)},"~N,JSV.common.Annotation.AType,JSV.api.AnnotationData");c(b,"getPeakListing",function(a,b){null!=a&&this.currentGraphSet.getPeakListing(-1,
a,!0);this.currentGraphSet.setPeakListing(b)},"JSV.common.Parameters,Boolean");c(b,"checkIntegral",function(a,b){this.currentGraphSet.checkIntegralParams(a,b)},"JSV.common.Parameters,~S");c(b,"setIntegrationRatios",function(a){this.currentGraphSet.setIntegrationRatios(a)},"~S");c(b,"getView",function(){return this.currentGraphSet.getCurrentView()});c(b,"closeAllDialogsExcept",function(a){for(var b=this.graphSets.size();0<=--b;)this.graphSets.get(b).closeDialogsExcept(a)},"JSV.common.Annotation.AType");
c(b,"removeDialog",function(a){this.currentGraphSet.removeDialog(a)},"JSV.dialog.JSVDialog");c(b,"normalizeIntegral",function(){var a=this.getSelectedIntegral();if(null!=a){var b=a.text;0==b.length&&(b=""+a.getValue());a=this.getInput("Enter a new value for this integral","Normalize Integral",b);try{this.setSelectedIntegral(Double.parseDouble(a))}catch(c){if(!z(c,Exception))throw c;}}});c(b,"getDrawTitle",function(a){var b=null;a?b=this.printJobTitle:1==this.nSpectra?b=this.getSpectrum().getPeakTitle():
null!=this.viewTitle?(null!=this.currentGraphSet.getTitle(!1)&&(b=this.getSpectrum().getPeakTitle()),null==b&&(b=this.viewTitle)):b=this.jsvp.getTitle().trim();0<=b.indexOf("\n")&&(b=b.substring(0,b.indexOf("\n")).trim());return b},"~B");c(b,"getPrintJobTitle",function(a){var b=null;1==this.nSpectra?b=this.getSpectrum().getTitle():null!=this.viewTitle?(1==this.graphSets.size()&&(b=this.currentGraphSet.getTitle(a)),null==b&&(b=this.viewTitle)):b=this.jsvp.getTitle().trim();0<=b.indexOf("\n")?b=b.substring(0,
b.indexOf("\n")).trim():b.startsWith("$")&&(b=b.substring(1));return b},"~B");c(b,"linkSpectra",function(a){a===JSV.common.PanelData.LinkMode.ALL&&(a=2==this.nSpectra?JSV.common.PanelData.LinkMode.AB:3==this.nSpectra?JSV.common.PanelData.LinkMode.ABC:JSV.common.PanelData.LinkMode.NONE);a!==JSV.common.PanelData.LinkMode.NONE&&a.toString().length!=this.nSpectra||this.setGraphSets(a)},"JSV.common.PanelData.LinkMode");c(b,"doZoomLinked",function(a,b,c,e,f,h){if(!this.linking){this.linking=!0;for(var k=
a.getSpectrumAt(0),j=this.graphSets.size();0<=--j;){var l=this.graphSets.get(j);l!==a&&JSV.common.Spectrum.areXScalesCompatible(k,this.graphSets.get(j).getSpectrumAt(0),!1,!0)&&l.doZoom(b,0,c,0,h,!1,f,!1,e)}this.linking=!1}},"JSV.common.GraphSet,~N,~N,~B,~B,~B");c(b,"clearLinkViews",function(a){if(!this.linking){this.linking=!0;for(var b=a.getSpectrum(),c=this.graphSets.size();0<=--c;){var e=this.graphSets.get(c);e!==a&&JSV.common.Spectrum.areXScalesCompatible(b,this.graphSets.get(c).getSpectrum(),
!1,!0)&&e.clearViews()}this.linking=!1}},"JSV.common.GraphSet");c(b,"setlinkedXMove",function(a,b,c){if(!this.linking){this.linking=!0;for(var e=a.getSpectrum(),f=this.graphSets.size();0<=--f;){var h=this.graphSets.get(f);h!==a&&JSV.common.Spectrum.areXScalesCompatible(e,this.graphSets.get(f).getSpectrum(),!1,!0)&&null==h.imageView&&(c?h.setXPixelMovedTo(1.7976931348623157E308,b,0,0):h.setXPixelMovedTo(b,1.7976931348623157E308,0,0))}this.linking=!1}},"JSV.common.GraphSet,~N,~B");c(b,"set2DCrossHairsLinked",
function(a,b,c,e){for(var f=this.graphSets.size();0<=--f;){var h=this.graphSets.get(f);h!==a&&h.set2DXY(b,c,e)}},"JSV.common.GraphSet,~N,~N,~B");c(b,"dialogsToFront",function(a){this.currentGraphSet.dialogsToFront(a)},"JSV.common.Spectrum");c(b,"setColor",function(a,b){null!=b&&this.options.put(a,JU.CU.toRGBHexString(b));switch(a){case JSV.common.ScriptToken.COORDINATESCOLOR:this.coordinatesColor=b;return;case JSV.common.ScriptToken.HIGHLIGHTCOLOR:this.highlightColor=b;255==this.highlightColor.getOpacity255()&&
this.highlightColor.setOpacity255(150);return;case JSV.common.ScriptToken.ZOOMBOXCOLOR:this.zoomBoxColor=b;return;case JSV.common.ScriptToken.ZOOMBOXCOLOR2:this.zoomBoxColor2=b;return;case JSV.common.ScriptToken.BACKGROUNDCOLOR:this.jsvp.setBackgroundColor(this.bgcolor=b);break;case JSV.common.ScriptToken.GRIDCOLOR:this.gridColor=b;break;case JSV.common.ScriptToken.INTEGRALPLOTCOLOR:this.integralPlotColor=b;break;case JSV.common.ScriptToken.PEAKTABCOLOR:this.peakTabColor=b;break;case JSV.common.ScriptToken.PLOTCOLOR:for(var c=
this.graphSets.size();0<=--c;)this.graphSets.get(c).setPlotColor0(b);break;case JSV.common.ScriptToken.PLOTAREACOLOR:this.plotAreaColor=b;break;case JSV.common.ScriptToken.SCALECOLOR:this.scaleColor=b;break;case JSV.common.ScriptToken.TITLECOLOR:this.titleColor=b;break;case JSV.common.ScriptToken.UNITSCOLOR:this.unitsColor=b;break;default:JU.Logger.warn("AwtPanel --- unrecognized color: "+a);return}this.taintedAll=!0},"JSV.common.ScriptToken,javajs.api.GenericColor");c(b,"getColor",function(a){switch(a){default:return JU.Logger.error("awtgraphset missing color "+
a),this.BLACK;case JSV.common.ScriptToken.ZOOMBOXCOLOR2:return this.zoomBoxColor2;case JSV.common.ScriptToken.ZOOMBOXCOLOR:return this.zoomBoxColor;case JSV.common.ScriptToken.HIGHLIGHTCOLOR:return this.highlightColor;case JSV.common.ScriptToken.INTEGRALPLOTCOLOR:return this.integralPlotColor;case JSV.common.ScriptToken.GRIDCOLOR:return this.gridColor;case JSV.common.ScriptToken.PEAKTABCOLOR:return this.peakTabColor;case JSV.common.ScriptToken.PLOTAREACOLOR:return this.plotAreaColor;case JSV.common.ScriptToken.SCALECOLOR:return this.scaleColor;
case JSV.common.ScriptToken.TITLECOLOR:return this.titleColor;case JSV.common.ScriptToken.UNITSCOLOR:return this.unitsColor}},"JSV.common.ScriptToken");c(b,"getOverlayLegendData",function(){for(var a=this.currentGraphSet.nSpectra,b=Array(a),c=this.getSpectrumAt(0).getFilePath(),e=this.getSpectrumAt(a-1).getFilePath(),c=null!=c&&null!=e&&!c.equals(e),e=0;e<a;e++){var f=Array(3),h=this.getSpectrumAt(e);this.title=h.getTitle();c&&(this.title=JSV.common.JSVFileManager.getTagName(h.getFilePath())+" - "+
this.title);h=this.getCurrentPlotColor(e);f[0]=new Integer(e+1);f[1]=h;f[2]=" "+this.title;b[e]=f}return b});c(b,"setColorOrFont",function(a,b){if(null==b){for(var c,e=a.elementColors.entrySet().iterator();e.hasNext()&&((c=e.next())||1);)this.setColorOrFont(a,c.getKey());this.setColorOrFont(a,JSV.common.ScriptToken.DISPLAYFONTNAME);this.setColorOrFont(a,JSV.common.ScriptToken.TITLEFONTNAME)}else{switch(b){case JSV.common.ScriptToken.DISPLAYFONTNAME:this.setFontName(b,a.displayFontName);return;case JSV.common.ScriptToken.TITLEFONTNAME:this.setFontName(b,
a.titleFontName);return}this.setColor(b,a.getElementColor(b))}},"JSV.common.ColorParameters,JSV.common.ScriptToken");c(b,"getCurrentPlotColor",function(a){return this.currentGraphSet.getPlotColor(a)},"~N");c(b,"setPrint",function(a,b){null==a?(this.options.putAll(this.optionsSaved),this.optionsSaved=null):(this.printJobTitle=a.title,this.printingFontName=b,this.printGraphPosition=a.position,this.optionsSaved=new java.util.Hashtable,this.optionsSaved.putAll(this.options),this.gridOn=a.showGrid,this.titleOn=
a.showTitle,this.setBoolean(JSV.common.ScriptToken.XSCALEON,a.showXScale),this.setBoolean(JSV.common.ScriptToken.XUNITSON,a.showXScale),this.setBoolean(JSV.common.ScriptToken.YSCALEON,a.showYScale),this.setBoolean(JSV.common.ScriptToken.YUNITSON,a.showYScale))},"JSV.common.PrintLayout,~S");c(b,"setDefaultPrintOptions",function(a){a.showGrid=this.gridOn;a.showXScale=this.getBoolean(JSV.common.ScriptToken.XSCALEON);a.showYScale=this.getBoolean(JSV.common.ScriptToken.YSCALEON);a.showTitle=this.titleOn},
"JSV.common.PrintLayout");c(b,"showDialog",function(a){var b=this.getDialog(a);this.closeAllDialogsExcept(a);if(null!=b&&x(b,"JSV.dialog.JSVDialog"))return b.reEnable();var c=this.getCurrentSpectrumIndex();if(0>c)return this.jsvp.showMessage("To enable "+a+" first select a spectrum by clicking on it.",""+a),null;var e=this.getSpectrum(),f=this.vwr.getDialog(a,e);null==b&&a===JSV.common.Annotation.AType.Measurements&&(b=new JSV.common.MeasurementData(JSV.common.Annotation.AType.Measurements,e));null!=
b&&f.setData(b);this.addDialog(c,a,f);f.reEnable();return f},"JSV.common.Annotation.AType");c(b,"printPdf",function(a,b){var c=!b.layout.equals("landscape");this.print(a,c?b.imageableHeight:b.imageableWidth,c?b.imageableWidth:b.imageableHeight,b.imageableX,b.imageableY,b.paperHeight,b.paperWidth,c,0)},"J.api.GenericGraphics,JSV.common.PrintLayout");c(b,"print",function(a,b,c,e,f,h,k,j,l){this.g2d=this.g2d0;if(0==l)return this.isPrinting=!0,l=!1,x(a,"J.api.GenericGraphics")&&(this.g2d=a,a=this.gMain),
this.printGraphPosition.equals("default")?j?(b=450,c=280):(b=280,c=450):this.printGraphPosition.equals("fit to page")?l=!0:j?(b=450,c=280,e=w(w(k-c)/2),f=w(w(h-b)/2)):(b=280,c=450,f=w(w(k-280)/2),e=w(w(h-450)/2)),this.g2d.translateScale(a,e,f,0.1),this.setTaintedAll(),this.drawGraph(a,a,a,w(c),w(b),l),this.isPrinting=!1,0;this.isPrinting=!1;return 1},"~O,~N,~N,~N,~N,~N,~N,~B,~N");e(b,"keyPressed",function(a,b){if(this.isPrinting)return!1;this.checkKeyControl(a,!0);switch(a){case 27:case 127:case 8:return this.escapeKeyPressed(27!=
a),this.isIntegralDrag=!1,this.setTaintedAll(),this.repaint(),!0}var c=0,e=!1;if(0==b)switch(a){case 37:case 39:this.doMouseMoved(39==a?++this.mouseX:--this.mouseX,this.mouseY);this.repaint();e=!0;break;case 33:case 34:c=33==a?JSV.common.GraphSet.RT2:1/JSV.common.GraphSet.RT2;e=!0;break;case 40:case 38:e=40==a?-1:1,null==this.getSpectrumAt(0).getSubSpectra()?this.notifySubSpectrumChange(e,null):(this.advanceSubSpectrum(e),this.setTaintedAll(),this.repaint()),e=!0}else if(this.checkMod(a,2))switch(a){case 40:case 38:case 45:case 61:c=
61==a||38==a?JSV.common.GraphSet.RT2:1/JSV.common.GraphSet.RT2;e=!0;break;case 37:case 39:this.toPeak(39==a?1:-1),e=!0}0!=c&&(this.scaleYBy(c),this.setTaintedAll(),this.repaint());return e},"~N,~N");e(b,"keyReleased",function(a){this.isPrinting||this.checkKeyControl(a,!1)},"~N");e(b,"keyTyped",function(a,b){if(this.isPrinting)return!1;switch(a){case 110:if(0!=b)break;this.normalizeIntegral();return!0;case 26:if(2!=b)break;this.previousView();this.setTaintedAll();this.repaint();return!0;case 25:if(2!=
b)break;this.nextView();this.setTaintedAll();this.repaint();return!0}return!1},"~N,~N");e(b,"mouseAction",function(a,b,c,e,f,h){if(!this.isPrinting)switch(a){case 4:if(!this.checkMod(h,16))break;this.doMousePressed(c,e);break;case 5:this.doMouseReleased(c,e,this.checkMod(h,16));this.setTaintedAll();this.repaint();break;case 1:this.doMouseDragged(c,e);this.repaint();break;case 0:this.jsvp.getFocusNow(!1);if(0!=(h&28)){this.doMouseDragged(c,e);this.repaint();break}this.doMouseMoved(c,e);null!=this.coordStr&&
this.repaint();break;case 2:if(this.checkMod(h,4)){this.jsvp.showMenu(c,e);break}this.ctrlPressed=!1;this.doMouseClicked(c,e,this.updateControlPressed(h))}},"~N,~N,~N,~N,~N,~N");c(b,"checkMod",function(a,b){return(a&b)==b},"~N,~N");c(b,"checkKeyControl",function(a,b){switch(a){case 17:case 157:this.ctrlPressed=b;break;case 16:this.shiftPressed=b}},"~N,~B");c(b,"updateControlPressed",function(a){return this.ctrlPressed=(new Boolean(this.ctrlPressed|(this.checkMod(a,2)||this.checkMod(a,20)))).valueOf()},
"~N");e(b,"mouseEnterExit",function(a,b,c,e){if(e)this.thisWidget=null,this.isIntegralDrag=!1,this.integralShiftMode=0;else try{this.jsvp.getFocusNow(!1)}catch(f){if(z(f,Exception))System.out.println("pd "+this+" cannot focus");else throw f;}},"~N,~N,~N,~B");c(b,"setSolutionColor",function(a){var b=0<=a.indexOf("none"),c=0>a.indexOf("false");if(0>a.indexOf("all"))b=b?-1:this.vwr.getSolutionColor(c),this.getSpectrum().setFillColor(-1==b?null:this.vwr.parameters.getColor1(b));else{a=JSV.common.JSViewer.getInterface("JSV.common.Visible");
for(var e=this.graphSets.size();0<=--e;)this.graphSets.get(e).setSolutionColor(a,b,c)}},"~S");c(b,"setIRMode",function(a,b){for(var c=this.graphSets.size();0<=--c;)this.graphSets.get(c).setIRMode(a,b)},"JSV.common.Spectrum.IRMode,~S");c(b,"closeSpectrum",function(){this.vwr.close("views");this.vwr.close(this.getSourceID());this.vwr.execView("*",!0)});b=u(JSV.common.PanelData,"LinkMode",Enum);b.getMode=c(b,"getMode",function(a){if(a.equals("*"))return JSV.common.PanelData.LinkMode.ALL;for(var b,c=
0,e=JSV.common.PanelData.LinkMode.values();c<e.length&&((b=e[c])||1);c++)if(b.name().equalsIgnoreCase(a))return b;return JSV.common.PanelData.LinkMode.NONE},"~S");m(b,"ALL",0,[]);m(b,"NONE",1,[]);m(b,"AB",2,[]);m(b,"ABC",3,[]);b=u(JSV.common.PanelData,"Mouse",Enum);m(b,"UP",0,[]);m(b,"DOWN",1,[])});t("JSV.common");v(null,"JSV.common.PanelNode",["JU.SB","JSV.common.Parameters"],function(){var b=q(function(){this.legend=this.id=this.jsvp=this.fileName=this.source=this.treeNode=null;this.isSimulation=
this.isView=this.isSelected=!1;this.frameTitle=null;s(this,arguments)},JSV.common,"PanelNode");p(b,function(a,b,c,e){this.id=a;this.source=c;this.fileName=b;this.isSimulation=0<=c.getFilePath().indexOf("http://SIMULATION/");this.jsvp=e;null!=e&&(this.pd().getSpectrumAt(0).setId(a),this.frameTitle=e.getTitle())},"~S,~S,JSV.source.JDXSource,JSV.api.JSVPanel");c(b,"setTreeNode",function(a){this.treeNode=a},"JSV.api.JSVTreeNode");c(b,"getTreeNode",function(){return this.treeNode});c(b,"dispose",function(){this.source.dispose();
null!=this.jsvp&&this.jsvp.dispose();this.legend=this.jsvp=this.source=null});c(b,"pd",function(){return this.jsvp.getPanelData()});c(b,"getSpectrum",function(){return this.pd().getSpectrum()});c(b,"setLegend",function(a){null!=this.legend&&this.legend.dispose();return this.legend=a},"JSV.dialog.JSVDialog");e(b,"toString",function(){return(null==this.id?"":this.id+": ")+(null==this.frameTitle?this.fileName:this.frameTitle)});b.findSourceByNameOrId=c(b,"findSourceByNameOrId",function(a,b){for(var c=
b.size();0<=--c;){var e=b.get(c);if(a.equals(e.id)||a.equals(e.source.getSpectra().get(0).sourceID)||e.source.matchesFilePath(a))return e.source}for(c=b.size();0<=--c;)if(e=b.get(c),a.equals(e.fileName))return e.source;return null},"~S,JU.Lst");b.findNodeById=c(b,"findNodeById",function(a,b){if(null!=a)for(var c=b.size();0<=--c;)if(a.equals(b.get(c).id)||a.equals(b.get(c).frameTitle))return b.get(c);return null},"~S,JU.Lst");b.findNode=c(b,"findNode",function(a,b){for(var c=b.size();0<=--c;)if(b.get(c).jsvp===
a)return b.get(c);return null},"JSV.api.JSVPanel,JU.Lst");b.getSpectrumListAsString=c(b,"getSpectrumListAsString",function(a){for(var b=new JU.SB,c=0;c<a.size();c++){var e=a.get(c);e.isView||b.append(" ").append(e.id)}return b.toString().trim()},"JU.Lst");b.isOpen=c(b,"isOpen",function(a,b){if(null!=b)for(var c=a.size();0<=--c&&!a.get(c).source.matchesFilePath(b)&&!b.equals(a.get(c).frameTitle););return-1},"JU.Lst,~S");c(b,"setFrameTitle",function(a){this.frameTitle=a},"~S");b.getLastFileFirstNode=
c(b,"getLastFileFirstNode",function(a){for(var b=a.size(),c=0==b?null:a.get(b-1),b=b-1;0<=--b&&a.get(b).source===c.source;)c=a.get(b);return null==c?null:c.jsvp},"JU.Lst");c(b,"getInfo",function(a){var b=this.pd().getInfo(!1,a);JSV.common.Parameters.putInfo(a,b,"panelId",this.id);JSV.common.Parameters.putInfo(a,b,"panelFileName",this.fileName);JSV.common.Parameters.putInfo(a,b,"panelSource",this.source.getFilePath());return b},"~S")});t("JSV.common");v(null,"JSV.common.Parameters",["java.lang.Boolean",
"java.util.Hashtable","JSV.common.ScriptToken"],function(){var b=q(function(){this.name=null;this.integralMinY=0.1;this.integralRange=50;this.integralOffset=30;this.integralDrawAll=!1;this.viewOffset=0;this.peakListThreshold=NaN;this.peakListInterpolation="parabolic";this.precision=2;this.htBooleans=null;s(this,arguments)},JSV.common,"Parameters");p(b,function(){this.htBooleans=new java.util.Hashtable;this.setBoolean(JSV.common.ScriptToken.TITLEON,!0);this.setBoolean(JSV.common.ScriptToken.ENABLEZOOM,
!0);this.setBoolean(JSV.common.ScriptToken.DISPLAY2D,!0);this.setBoolean(JSV.common.ScriptToken.COORDINATESON,!0);this.setBoolean(JSV.common.ScriptToken.PEAKTABSON,!0);this.setBoolean(JSV.common.ScriptToken.POINTSONLY,!1);this.setBoolean(JSV.common.ScriptToken.GRIDON,!0);this.setBoolean(JSV.common.ScriptToken.XSCALEON,!0);this.setBoolean(JSV.common.ScriptToken.YSCALEON,!0);this.setBoolean(JSV.common.ScriptToken.XUNITSON,!0);this.setBoolean(JSV.common.ScriptToken.YUNITSON,!0)});c(b,"setName",function(a){this.name=
a;return this},"~S");c(b,"getBooleans",function(){return this.htBooleans});c(b,"setBoolean",function(a,b){this.htBooleans.put(a,Boolean.$valueOf(b));return b},"JSV.common.ScriptToken,~B");c(b,"getBoolean",function(a){return Boolean.TRUE===this.htBooleans.get(a)},"JSV.common.ScriptToken");b.isTrue=c(b,"isTrue",function(a){return 0==a.length||Boolean.parseBoolean(a)},"~S");b.getTFToggle=c(b,"getTFToggle",function(a){return a.equalsIgnoreCase("TOGGLE")?null:JSV.common.Parameters.isTrue(a)?Boolean.TRUE:
Boolean.FALSE},"~S");c(b,"setP",function(a,b,c){switch(b){default:return;case JSV.common.ScriptToken.COORDINATESON:case JSV.common.ScriptToken.DISPLAY1D:case JSV.common.ScriptToken.DISPLAY2D:case JSV.common.ScriptToken.ENABLEZOOM:case JSV.common.ScriptToken.GRIDON:case JSV.common.ScriptToken.POINTSONLY:case JSV.common.ScriptToken.PEAKTABSON:case JSV.common.ScriptToken.REVERSEPLOT:case JSV.common.ScriptToken.TITLEON:case JSV.common.ScriptToken.TITLEBOLDON:case JSV.common.ScriptToken.XSCALEON:case JSV.common.ScriptToken.XUNITSON:case JSV.common.ScriptToken.YSCALEON:case JSV.common.ScriptToken.YUNITSON:c=
JSV.common.Parameters.getTFToggle(c);if(null!=c){this.setBoolean(b,c.booleanValue());break}if(null==a)return;c=!a.getBoolean(b);switch(b){case JSV.common.ScriptToken.XSCALEON:this.setBoolean(JSV.common.ScriptToken.XUNITSON,c);a.setBoolean(JSV.common.ScriptToken.XUNITSON,c);break;case JSV.common.ScriptToken.YSCALEON:this.setBoolean(JSV.common.ScriptToken.YUNITSON,c),a.setBoolean(JSV.common.ScriptToken.YUNITSON,c)}this.setBoolean(b,c)}null!=a&&a.setBooleans(this,b)},"JSV.common.PanelData,JSV.common.ScriptToken,~S");
b.isMatch=c(b,"isMatch",function(a,b){return null==a||b.equalsIgnoreCase(a)},"~S,~S");b.putInfo=c(b,"putInfo",function(a,b,c,e){null!=e&&JSV.common.Parameters.isMatch(a,c)&&b.put(null==a?c:a,e)},"~S,java.util.Map,~S,~O")});t("JSV.common");v(["JSV.common.MeasurementData"],"JSV.common.PeakData",["java.lang.Double","JU.DF","JSV.common.Coordinate","$.PeakPick"],function(){var b=q(function(){this.maxY=this.minY=this.thresh=0;s(this,arguments)},JSV.common,"PeakData",JSV.common.MeasurementData);c(b,"getThresh",
function(){return this.thresh});e(b,"getDataHeader",function(){return this.spec.isHNMR()?JSV.common.PeakData.HNMR_HEADER:y(-1,["peak",this.spec.getXUnits(),this.spec.getYUnits()])});e(b,"getMeasurementListArray",function(){for(var a=Array(this.size()),b=N(-1,[-1E100,1E100,1E100]),c,e=0,f=this.size();0<=--f;e++)c=this.spec.getPeakListArray(this.get(f),b,this.maxY),a[e]=2==c.length?y(-1,[""+(e+1),JU.DF.formatDecimalDbl(c[0],2),JU.DF.formatDecimalDbl(c[1],4)]):y(-1,[""+(e+1),JU.DF.formatDecimalDbl(c[0],
4),JU.DF.formatDecimalDbl(c[1],4),JU.DF.formatDecimalDbl(c[2],2),0==c[3]?"":JU.DF.formatDecimalDbl(c[3],2),0==c[4]?"":JU.DF.formatDecimalDbl(c[4],2),0==c[5]?"":JU.DF.formatDecimalDbl(c[5],2)]);return a},"~S");e(b,"getMeasurementListArrayReal",function(){for(var a=N(this.size(),0),b=N(-1,[-1E100,1E100,1E100]),c=0,e=this.size();0<=--e;c++)a[c]=this.spec.getPeakListArray(this.get(e),b,this.maxY);return a},"~S");c(b,"getInfo",function(a){a.put("interpolation",this.myParams.peakListInterpolation);a.put("threshold",
Double.$valueOf(this.myParams.peakListThreshold));T(this,JSV.common.PeakData,"getInfo",[a])},"java.util.Map");c(b,"setPeakList",function(a,b,c){this.precision=-2147483648==b?this.spec.getDefaultUnitPrecision():b;var e=this.spec.getXYCoords();if(!(3>e.length)){this.clear();null!=a&&(this.myParams.peakListInterpolation=a.peakListInterpolation,this.myParams.peakListThreshold=a.peakListThreshold);a=this.myParams.peakListInterpolation.equals("parabolic");var f=this.spec.isInverted();this.minY=c.minYOnScale;
this.maxY=c.maxYOnScale;var h=c.minXOnScale;c=c.maxXOnScale;this.thresh=this.myParams.peakListThreshold;Double.isNaN(this.thresh)&&(this.thresh=this.myParams.peakListThreshold=(this.minY+this.maxY)/2);var k=0,j=N(-1,[e[0].getYVal(),k=e[1].getYVal(),0]),l=0;if(f)for(f=2;f<e.length;f++){var m=j[f%3]=e[f].getYVal();if(k<this.thresh&&(j[(f-2)%3]>k&&k<m)&&(k=a?JSV.common.Coordinate.parabolicInterpolation(e,f-1):e[f-1].getXVal(),k>=h||k<=c))if(k=(new JSV.common.PeakPick).setValue(k,m,this.spec,null,0),
this.addLast(k),100==++l)break;k=m}else for(f=2;f<e.length;f++){m=j[f%3]=e[f].getYVal();if(k>this.thresh&&(j[(f-2)%3]<k&&k>m)&&(k=a?JSV.common.Coordinate.parabolicInterpolation(e,f-1):e[f-1].getXVal(),k>=h&&k<=c&&(k=(new JSV.common.PeakPick).setValue(k,m,this.spec,JU.DF.formatDecimalDbl(k,b),k),this.addLast(k),100==++l)))break;k=m}}},"JSV.common.Parameters,~N,JSV.common.ScaleData");b.HNMR_HEADER=b.prototype.HNMR_HEADER=y(-1,"peak shift/ppm intens shift/hz diff/hz 2-diff 3-diff".split(" "))});t("JSV.common");
v(null,"JSV.common.PeakInfo",["JU.PT"],function(){var b=q(function(){this.px1=this.px0=this.yMax=this.yMin=this.xMax=this.xMin=0;this.atomKey=this._match=this.spectrum=this.id=this.atoms=this.model=this.title=this.filePathForwardSlash=this.file=this.index=this.type2=this.type=this.stringInfo=null;s(this,arguments)},JSV.common,"PeakInfo");p(b,function(){});p(b,function(a){this.stringInfo=a;this.type=JU.PT.getQuotedAttribute(a,"type");null==this.type&&(this.type="");this.type=this.type.toUpperCase();
var b=this.type.indexOf("/");this.type2=0>b?"":JSV.common.PeakInfo.fixType(this.type.substring(this.type.indexOf("/")+1));this.type=0<=b?JSV.common.PeakInfo.fixType(this.type.substring(0,b))+"/"+this.type2:JSV.common.PeakInfo.fixType(this.type);this.id=JU.PT.getQuotedAttribute(a,"id");this.index=JU.PT.getQuotedAttribute(a,"index");this.file=JU.PT.getQuotedAttribute(a,"file");System.out.println("pi file="+this.file);this.filePathForwardSlash=null==this.file?null:this.file.$replace("\\","/");this.model=
JU.PT.getQuotedAttribute(a,"model");a.contains('baseModel=""')||(this.atoms=JU.PT.getQuotedAttribute(a,"atoms"));this.atomKey=","+this.atoms+",";this.title=JU.PT.getQuotedAttribute(a,"title");this._match=JU.PT.getQuotedAttribute(a,"_match");this.xMax=JU.PT.parseFloat(JU.PT.getQuotedAttribute(a,"xMax"));this.xMin=JU.PT.parseFloat(JU.PT.getQuotedAttribute(a,"xMin"));this.yMax=JU.PT.parseFloat(JU.PT.getQuotedAttribute(a,"yMax"));this.yMin=JU.PT.parseFloat(JU.PT.getQuotedAttribute(a,"yMin"))},"~S");c(b,
"isClearAll",function(){return null==this.spectrum});c(b,"getType",function(){return this.type});c(b,"getAtoms",function(){return this.atoms});c(b,"getXMax",function(){return this.xMax});c(b,"getXMin",function(){return this.xMin});c(b,"getYMin",function(){return this.yMin});c(b,"getYMax",function(){return this.yMax});c(b,"getX",function(){return(this.xMax+this.xMin)/2});c(b,"getMatch",function(){return this._match});b.fixType=c(b,"fixType",function(a){return a.equals("HNMR")?"1HNMR":a.equals("CNMR")?
"13CNMR":a},"~S");e(b,"toString",function(){return this.stringInfo});c(b,"getIndex",function(){return this.index});c(b,"getTitle",function(){return this.title});c(b,"checkFileIndex",function(a,b,c){return null!=c?0<=this.atomKey.indexOf(c):b.equals(this.index)&&(a.equals(this.file)||a.equals(this.filePathForwardSlash))},"~S,~S,~S");c(b,"checkFileTypeModel",function(a,b,c){return a.equals(this.file)&&this.checkModel(c)&&this.type.endsWith(b)},"~S,~S,~S");c(b,"checkTypeModel",function(a,b){return this.checkType(a)&&
this.checkModel(b)},"~S,~S");c(b,"checkModel",function(a){return null!=a&&a.equals(this.model)},"~S");c(b,"checkType",function(a){return a.endsWith(this.type)},"~S");c(b,"checkTypeMatch",function(a){return this.checkType(a.type)&&(this.checkId(a._match)||this.checkModel(a._match)||0<=this.title.toUpperCase().indexOf(a._match))},"JSV.common.PeakInfo");c(b,"checkId",function(a){return null==a?!1:null!=this.id&&a.toUpperCase().startsWith("ID=")&&a.substring(3).equals(this.id)||(a=a.toUpperCase()).startsWith("INDEX=")&&
a.equals("INDEX="+this.index)||a.startsWith("#=")&&a.equals("#="+this.index)},"~S");c(b,"getModel",function(){return this.model});c(b,"getFilePath",function(){return this.file});c(b,"autoSelectOnLoad",function(){return this.type.startsWith("GC")});c(b,"setPixelRange",function(a,b){this.px0=a;this.px1=b},"~N,~N");c(b,"checkRange",function(a,b){return(2147483647!=a?this.px0<=a&&this.px1>=a:b>=this.xMin&&b<=this.xMax)?Math.abs(b-this.getX()):1E100},"~N,~N");c(b,"getXPixel",function(){return w((this.px0+
this.px1)/2)});b.nullPeakInfo=b.prototype.nullPeakInfo=new JSV.common.PeakInfo});t("JSV.common");v(["JSV.common.Measurement"],"JSV.common.PeakPick",null,function(){var b=u(JSV.common,"PeakPick",JSV.common.Measurement);c(b,"setValue",function(a,b,c,e,f){null==e?(this.set(a,b),this.setPt2(c,!1)):(this.setA(a,b,c,e,!1,!1,0,6),this.value=f,this.setPt2(this.getXVal(),this.getYVal()));return this},"~N,~N,JSV.common.Spectrum,~S,~N")});t("JSV.common");v(["java.util.EventObject"],"JSV.common.PeakPickEvent",
null,function(){var b=q(function(){this.peakInfo=this.coord=null;s(this,arguments)},JSV.common,"PeakPickEvent",java.util.EventObject);p(b,function(a,b,c){B(this,JSV.common.PeakPickEvent,[a]);this.coord=b;this.peakInfo=null==c?null:c},"~O,JSV.common.Coordinate,JSV.common.PeakInfo");c(b,"getCoord",function(){return this.coord});c(b,"getPeakInfo",function(){return this.peakInfo});e(b,"toString",function(){return null==this.peakInfo?null:this.peakInfo.toString()})});t("JSV.common");v(["JSV.common.Coordinate",
"$.ScriptToken"],"JSV.common.PlotWidget",null,function(){var b=q(function(){this.yPixel1=this.xPixel1=this.yPixel0=this.xPixel0=0;this.is2Donly=this.is2D=this.isXtype=this.isPinOrCursor=this.isPin=!1;this.isEnabled=!0;this.isVisible=!1;this.color=this.name=null;s(this,arguments)},JSV.common,"PlotWidget",JSV.common.Coordinate);H(b,function(){this.color=JSV.common.ScriptToken.PLOTCOLOR});e(b,"toString",function(){return this.name+(!this.isPinOrCursor?""+this.xPixel0+" "+this.yPixel0+" / "+this.xPixel1+
" "+this.yPixel1:" x="+this.getXVal()+"/"+this.xPixel0+" y="+this.getYVal()+"/"+this.yPixel0)});p(b,function(a){B(this,JSV.common.PlotWidget,[]);this.name=a;this.isPin="p"==a.charAt(0);this.isPinOrCursor="z"!=a.charAt(0);this.isXtype=0<=a.indexOf("x");this.is2Donly=(this.is2D=0<=a.indexOf("2D"))&&"p"==a.charAt(0)},"~S");c(b,"selected",function(a,b){return this.isVisible&&5>Math.abs(a-this.xPixel0)&&5>Math.abs(b-this.yPixel0)},"~N,~N");c(b,"setX",function(a,b){this.setXVal(a);this.xPixel0=this.xPixel1=
b},"~N,~N");c(b,"setY",function(a,b){this.setYVal(a);this.yPixel0=this.yPixel1=b},"~N,~N");c(b,"getValue",function(){return this.isXtype?this.getXVal():this.getYVal()});c(b,"setEnabled",function(a){this.isEnabled=a},"~B")});t("JSV.common");n=q(function(){this.imageableWidth=this.imageableHeight=this.paperWidth=this.paperHeight=this.imageableY=this.imageableX=0;this.layout="landscape";this.position="fit to page";this.showTitle=this.showYScale=this.showXScale=this.showGrid=!0;this.font="Helvetica";
this.paper=null;this.asPDF=!0;this.date=this.title=null;s(this,arguments)},JSV.common,"PrintLayout");H(n,function(){this.paperHeight=I(72*Math.min(11,11.69));this.paperWidth=I(72*Math.min(8.5,8.27));this.imageableHeight=this.paperHeight;this.imageableWidth=this.paperWidth});p(n,function(b){null!=b&&(this.asPDF=!0,b.setDefaultPrintOptions(this))},"JSV.common.PanelData");t("JSV.common");v(null,"JSV.common.RepaintManager",["JSV.common.JSViewer"],function(){var b=q(function(){this.repaintPending=!1;this.vwr=
null;s(this,arguments)},JSV.common,"RepaintManager");p(b,function(a){this.vwr=a},"JSV.common.JSViewer");c(b,"refresh",function(){if(this.repaintPending)return!1;this.repaintPending=!0;var a=this.vwr.html5Applet,b=JSV.common.JSViewer.isJS&&!JSV.common.JSViewer.isSwingJS?JSV.common.JSViewer.jmolObject:null;null==b?this.vwr.selectedPanel.repaint():(b.repaint(a,!1),this.repaintDone());return!0});c(b,"repaintDone",function(){this.repaintPending=!1;this.notify()})});t("JSV.common");v(null,"JSV.common.ScaleData",
["java.lang.Double","JSV.common.Coordinate"],function(){var b=q(function(){this.maxX=this.minX=this.pointCount=this.endDataPointIndex=this.startDataPointIndex=this.initMaxY=this.initMinY=this.initMaxYOnScale=this.initMinYOnScale=0;this.firstX=NaN;this.specShift=this.maxXOnScale=this.minXOnScale=0;this.minorTickCounts=this.steps=this.exportPrecision=this.precision=null;this.maxY=this.minY=this.maxYOnScale=this.minYOnScale=0;this.isShiftZoomedY=!1;this.spectrumScaleFactor=1;this.spectrumYRef=0;this.userYFactor=
1;this.yFactorForScale=this.xFactorForScale=this.maxY2D=this.minY2D=this.firstY=0;s(this,arguments)},JSV.common,"ScaleData");H(b,function(){this.precision=D(2,0);this.exportPrecision=D(2,0);this.steps=N(2,0);this.minorTickCounts=D(2,0)});p(b,function(){});p(b,function(a,b){this.startDataPointIndex=a;this.endDataPointIndex=b;this.pointCount=this.endDataPointIndex-this.startDataPointIndex+1},"~N,~N");p(b,function(a,b,c,e,f){this.minX=JSV.common.Coordinate.getMinX(a,b,c);this.maxX=JSV.common.Coordinate.getMaxX(a,
b,c);this.minY=JSV.common.Coordinate.getMinY(a,b,c);0<this.minY&&!e&&(this.minY=0);this.maxY=JSV.common.Coordinate.getMaxY(a,b,c);this.setScale(e,f)},"~A,~N,~N,~B,~B");c(b,"setScale",function(a,b){this.setXScale();a||(this.maxXOnScale+=this.steps[0]/2);this.setYScale(this.minY,this.maxY,!0,b)},"~B,~B");c(b,"setXScale",function(){var a=this.setScaleParams(this.minX,this.maxX,0);this.firstX=Math.floor(this.minX/a)*a;1E-4<Math.abs((this.minX-this.firstX)/a)&&(this.firstX+=a);this.minXOnScale=this.minX;
this.maxXOnScale=this.maxX});c(b,"isYZeroOnScale",function(){return this.minYOnScale<this.spectrumYRef&&this.maxYOnScale>this.spectrumYRef});c(b,"setYScale",function(a,b,c,e){0==a&&0==b&&(b=1);this.isShiftZoomedY&&(a=this.minYOnScale,b=this.maxYOnScale);var f=this.setScaleParams(a,b,1),h=e?f/2:f/4;e=e?f/4:f/2;this.isShiftZoomedY||(this.minYOnScale=0==a?0:c?h*Math.floor(a/h):a,this.maxYOnScale=c?e*Math.ceil(1.05*b/e):b);this.firstY=0==a?0:Math.floor(a/h)*h;if(0>this.minYOnScale&&0<this.maxYOnScale)for(this.firstY=
0;this.firstY-f>this.minYOnScale;)this.firstY-=f;else 0!=this.minYOnScale&&1E-4<Math.abs((a-this.firstY)/h)&&(this.firstY+=h);c&&(this.initMinYOnScale=this.minYOnScale,this.initMaxYOnScale=this.maxYOnScale,this.initMinY=a,this.initMaxY=b)},"~N,~N,~B,~B");c(b,"scale2D",function(a){var b=this.maxY-this.minY;1==a?(this.maxY=this.initMaxY,this.minY=this.initMinY):this.maxY=this.minY+b/a},"~N");c(b,"setXRange",function(a,b){this.minX=a;this.maxX=b;this.setXScale()},"~N,~N");b.getXRange=c(b,"getXRange",
function(a,b,c,e,f,h,k,j){for(var l=0,m=0,l=f;l<=h;l++)if(b[l].getXVal()>=c){k[a]=l;m=1;break}for(;++l<=h&&b[l].getXVal()<=e;)m++;j[a]=k[a]+m-1;return m},"~N,~A,~N,~N,~N,~N,~A,~A");c(b,"setScaleParams",function(a,b,c){a=b==a?1:Math.abs(b-a)/14;var e=Math.log10(Math.abs(a));b=w(Math.floor(e));this.exportPrecision[c]=b;this.precision[c]=0>=b?Math.min(8,1-b):3<b?-2:0;a=0;for(e=Math.pow(10,e-b);e>JSV.common.ScaleData.NTICKS[a];)a++;this.steps[c]=Math.pow(10,b)*JSV.common.ScaleData.NTICKS[a];e=Math.log10(Math.abs(100010*
this.steps[c]));b=e-Math.floor(e);for(a=e=0;a<JSV.common.ScaleData.NTICKS.length;a++)if(0.001>Math.abs(b-JSV.common.ScaleData.LOGTICKS[a])){e=JSV.common.ScaleData.NTICKS[a];break}this.minorTickCounts[c]=e;return this.steps[c]},"~N,~N,~N");c(b,"isInRangeX",function(a){return a>=this.minX&&a<=this.maxX},"~N");c(b,"addSpecShift",function(a){this.specShift+=a;this.minX+=a;this.maxX+=a;this.minXOnScale+=a;this.maxXOnScale+=a;this.firstX+=a},"~N");c(b,"getInfo",function(a){a.put("specShift",Double.$valueOf(this.specShift));
a.put("minX",Double.$valueOf(this.minX));a.put("maxX",Double.$valueOf(this.maxX));a.put("minXOnScale",Double.$valueOf(this.minXOnScale));a.put("maxXOnScale",Double.$valueOf(this.maxXOnScale));a.put("minY",Double.$valueOf(this.minY));a.put("maxY",Double.$valueOf(this.maxY));a.put("minYOnScale",Double.$valueOf(this.minYOnScale));a.put("maxYOnScale",Double.$valueOf(this.maxYOnScale));a.put("minorTickCountX",Integer.$valueOf(this.minorTickCounts[0]));a.put("xStep",Double.$valueOf(this.steps[0]));return a},
"java.util.Map");c(b,"setMinMax",function(a,b,c,e){this.minX=a;this.maxX=b;this.minY=c;this.maxY=e},"~N,~N,~N,~N");c(b,"toX",function(a,b,c){return this.toXScaled(a,b,c,this.xFactorForScale)},"~N,~N,~B");c(b,"toX0",function(a,b,c,e){return this.toXScaled(a,c,e,(this.maxXOnScale-this.minXOnScale)/(c-b))},"~N,~N,~N,~B");c(b,"toXScaled",function(a,b,c,e){return c?this.maxXOnScale-(b-a)*e:this.minXOnScale+(b-a)*e},"~N,~N,~B,~N");c(b,"toPixelX",function(a,b,c,e){return this.toPixelXScaled(a,b,c,e,this.xFactorForScale)},
"~N,~N,~N,~B");c(b,"toPixelX0",function(a,b,c,e){return this.toPixelXScaled(a,b,c,e,(this.maxXOnScale-this.minXOnScale)/(c-b))},"~N,~N,~N,~B");c(b,"toPixelXScaled",function(a,b,c,e,f){a=w((a-this.minXOnScale)/f);return e?b+a:c-a},"~N,~N,~N,~B,~N");c(b,"toY",function(a,b){return this.maxYOnScale+(b-a)*this.yFactorForScale},"~N,~N");c(b,"toY0",function(a,b,c){return Math.max(this.minYOnScale,Math.min(this.maxYOnScale+(b-a)*((this.maxYOnScale-this.minYOnScale)/(c-b)),this.maxYOnScale))},"~N,~N,~N");
c(b,"toPixelY",function(a,b){return Double.isNaN(a)?-2147483648:b-w(((a-this.spectrumYRef)*this.userYFactor+this.spectrumYRef-this.minYOnScale)/this.yFactorForScale)},"~N,~N");c(b,"toPixelY0",function(a,b,c){return w(b+(this.maxYOnScale-a)/((this.maxYOnScale-this.minYOnScale)/(c-b)))},"~N,~N,~N");c(b,"setXYScale",function(a,b,c){var e=this.spectrumYRef,f=this.spectrumScaleFactor,h=1!=f||this.isShiftZoomedY,k=h?this.initMinYOnScale:this.minY,j=h?this.initMaxYOnScale:this.maxY;h&&e<k&&(e=k);h&&e>j&&
(e=j);this.setYScale((k-e)/f+e,(j-e)/f+e,1==f,c);this.xFactorForScale=(this.maxXOnScale-this.minXOnScale)/(a-1);this.yFactorForScale=(this.maxYOnScale-this.minYOnScale)/(b-1)},"~N,~N,~B");b.copyScaleFactors=c(b,"copyScaleFactors",function(a,b){for(var c=0;c<a.length;c++)b[c].spectrumScaleFactor=a[c].spectrumScaleFactor,b[c].spectrumYRef=a[c].spectrumYRef,b[c].userYFactor=a[c].userYFactor,b[c].specShift=a[c].specShift,b[c].isShiftZoomedY=a[c].isShiftZoomedY},"~A,~A");b.copyYScales=c(b,"copyYScales",
function(a,b){for(var c=0;c<a.length;c++)b[c].initMinYOnScale=a[c].initMinYOnScale,b[c].initMaxYOnScale=a[c].initMaxYOnScale,b[c].minY=a[c].minY,b[c].maxY=a[c].maxY,a[c].isShiftZoomedY&&(b[c].isShiftZoomedY=!0,b[c].minYOnScale=a[c].minYOnScale,b[c].maxYOnScale=a[c].maxYOnScale)},"~A,~A");b.setDataPointIndices=c(b,"setDataPointIndices",function(a,b,c,e,f,h){for(var k=0,j=a.size(),l=0;l<j;l++){var m=a.get(l).getXYCoords();JSV.common.ScaleData.getXRange(l,m,b,c,0,m.length-1,f,h)>=e&&k++}return k==j},
"JU.Lst,~N,~N,~N,~A,~A");b.fixScale=c(b,"fixScale",function(a){if(!a.isEmpty())for(;;){for(var b,c=a.entrySet().iterator();c.hasNext()&&((b=c.next())||1);){var e=b.getValue(),f=e.indexOf("E");0<=f&&(e=e.substring(0,f));if(0>e.indexOf(".")||!e.endsWith("0")&&!e.endsWith("."))return}for(c=a.entrySet().iterator();c.hasNext()&&((b=c.next())||1);)e=b.getValue(),f=e.indexOf("E"),0<=f?b.setValue(e.substring(0,f-1)+e.substring(f)):b.setValue(e.substring(0,e.length-1))}},"java.util.Map");c(b,"scaleBy",function(a){if(this.isShiftZoomedY){var b=
this.isYZeroOnScale()?this.spectrumYRef:(this.minYOnScale+this.maxYOnScale)/2;this.minYOnScale=b-(b-this.minYOnScale)/a;this.maxYOnScale=b-(b-this.maxYOnScale)/a}else this.spectrumScaleFactor*=a},"~N");E(b,"NTICKS",D(-1,[2,5,10,10]));b.LOGTICKS=b.prototype.LOGTICKS=N(-1,[Math.log10(2),Math.log10(5),0,1])});t("JSV.common");v(["java.lang.Enum"],"JSV.common.ScriptToken",["java.util.Hashtable","JU.Lst","$.PT","$.SB","JSV.common.ScriptTokenizer"],function(){var b=q(function(){this.description=this.tip=
null;s(this,arguments)},JSV.common,"ScriptToken",Enum);c(b,"getTip",function(){return"  "+("T"===this.tip?"TRUE/FALSE/TOGGLE":"TF"===this.tip?"TRUE or FALSE":"C"===this.tip?"COLOR":this.tip)});p(b,function(){});p(b,function(a){this.tip=a;this.description=""},"~S");p(b,function(a,b){this.tip=a;this.description="-- "+b},"~S,~S");b.getParams=c(b,"getParams",function(){if(null==JSV.common.ScriptToken.htParams){JSV.common.ScriptToken.htParams=new java.util.Hashtable;for(var a,b=0,c=JSV.common.ScriptToken.values();b<
c.length&&((a=c[b])||1);b++)JSV.common.ScriptToken.htParams.put(a.name(),a)}return JSV.common.ScriptToken.htParams});b.getScriptToken=c(b,"getScriptToken",function(a){a=JSV.common.ScriptToken.getParams().get(a.toUpperCase());return null==a?JSV.common.ScriptToken.UNKNOWN:a},"~S");b.getScriptTokenList=c(b,"getScriptTokenList",function(a,b){null!=a&&(a=a.toUpperCase());var c=new JU.Lst;if(b){var e=JSV.common.ScriptToken.getScriptToken(a);null!=e&&c.addLast(e)}else for(var f=JSV.common.ScriptToken.getParams().entrySet().iterator();f.hasNext()&&
((e=f.next())||1);)(null==a||e.getKey().startsWith(a))&&null!=e.getValue().tip&&c.addLast(e.getValue());return c},"~S,~B");b.getValue=c(b,"getValue",function(a,b,c){if(!b.hasMoreTokens())return"";switch(a){default:return JSV.common.ScriptTokenizer.nextStringToken(b,!0);case JSV.common.ScriptToken.CLOSE:case JSV.common.ScriptToken.GETPROPERTY:case JSV.common.ScriptToken.INTEGRATION:case JSV.common.ScriptToken.INTEGRATE:case JSV.common.ScriptToken.JMOL:case JSV.common.ScriptToken.LABEL:case JSV.common.ScriptToken.LOAD:case JSV.common.ScriptToken.PEAK:case JSV.common.ScriptToken.PLOTCOLORS:case JSV.common.ScriptToken.YSCALE:case JSV.common.ScriptToken.WRITE:return JSV.common.ScriptToken.removeCommandName(c);
case JSV.common.ScriptToken.SELECT:case JSV.common.ScriptToken.OVERLAY:case JSV.common.ScriptToken.VIEW:case JSV.common.ScriptToken.ZOOM:return JSV.common.ScriptToken.removeCommandName(c).$replace(","," ").trim()}},"JSV.common.ScriptToken,JSV.common.ScriptTokenizer,~S");b.removeCommandName=c(b,"removeCommandName",function(a){var b=a.indexOf(" ");return 0>b?"":a.substring(b).trim()},"~S");b.getKey=c(b,"getKey",function(a){var b=a.nextToken();if(b.startsWith("#")||b.startsWith("//"))return null;b.equalsIgnoreCase("SET")&&
(b=a.nextToken());return b.toUpperCase()},"JSV.common.ScriptTokenizer");b.getTokens=c(b,"getTokens",function(a){a.startsWith("'")&&a.endsWith("'")&&(a='"'+JU.PT.trim(a,"'")+'"');var b=new JU.Lst;for(a=new JSV.common.ScriptTokenizer(a,!1);a.hasMoreTokens();){var c=JSV.common.ScriptTokenizer.nextStringToken(a,!1);if(c.startsWith("//")||c.startsWith("#"))break;b.addLast(c)}return b},"~S");b.getNameList=c(b,"getNameList",function(a){if(0==a.size())return"";for(var b=new JU.SB,c=0;c<a.size();c++)b.append(",").append(a.get(c).toString());
return b.toString().substring(1)},"JU.Lst");c(b,"getDescription",function(){return this.description});b.htParams=null;m(b,"UNKNOWN",0,[]);m(b,"APPLETID",1,[]);m(b,"APPLETREADYCALLBACKFUNCTIONNAME",2,[]);m(b,"AUTOINTEGRATE",3,["TF","automatically integrate an NMR spectrum"]);m(b,"BACKGROUNDCOLOR",4,["C","set the background color"]);m(b,"CLOSE",5,["spectrumId or fileName or ALL or VIEWS or SIMULATIONS","close one or more views or simulations"]);m(b,"COMPOUNDMENUON",6,[]);m(b,"COORDCALLBACKFUNCTIONNAME",
7,[]);m(b,"COORDINATESCOLOR",8,["C","set the color of the coordinates shown in the upper right-hand corner"]);m(b,"COORDINATESON",9,["T","turn on or off the coordinates shown in the upper right-hand corner"]);m(b,"DEBUG",10,["TF","turn debugging on and off"]);m(b,"DEFAULTLOADSCRIPT",11,['"script..."',"set the script to be run after each file is loaded"]);m(b,"DEFAULTNMRNORMALIZATION",12,["maxYvalue","set the value to be given the largest peak in an HMR spectrum"]);m(b,"DISPLAYFONTNAME",13,[]);m(b,
"DISPLAY1D",14,["T","turn on or off display of 1D spectra when 1D and 2D spectra are loaded"]);m(b,"DISPLAY2D",15,["T","turn on or off display of the 2D spectrum when 1D and 2D spectra are loaded"]);m(b,"ENABLEZOOM",16,["T","allow or disallow zooming"]);m(b,"ENDINDEX",17,[]);m(b,"FINDX",18,["value","move the vertical-line cursor to a specific x-axis value"]);m(b,"GETPROPERTY",19,["[propertyName] or ALL or NAMES","get a property value or all property values as key/value pairs, or a list of names"]);
m(b,"GETSOLUTIONCOLOR",20,[" FILL or FILLNONE or FILLALL or FILLALLNONE","estimate the solution color for UV/VIS spectra"]);m(b,"GRIDCOLOR",21,["C","color of the grid"]);m(b,"GRIDON",22,["T","turn the grid lines on or off"]);m(b,"HELP",23,["[command]","get this listing or help for a specific command"]);m(b,"HIDDEN",24,[]);m(b,"HIGHLIGHTCOLOR",25,["C","set the highlight color"]);m(b,"HIGHLIGHT",26,["OFF or X1 X2 [OFF] or X1 X2 r g b [a]","turns on or off a highlight color, possibily setting its color, where r g b a are 0-255 or 0.0-1.0"]);
m(b,"INTEGRALOFFSET",27,["percent","sets the integral offset from baseline"]);m(b,"INTEGRALRANGE",28,["percent","sets the height of the total integration"]);m(b,"INTEGRATE",29,["","see INTEGRATION"]);m(b,"INTEGRATION",30,["ON/OFF/TOGGLE/AUTO/CLEAR/MIN value/MARK ppm1-ppm2:norm,ppm3-ppm4,...","show/hide integration or set integrals (1D 1H NMR only)"]);m(b,"INTEGRALPLOTCOLOR",31,["C","color of the integration line"]);m(b,"INTEGRATIONRATIOS",32,["'x:value,x:value,..'","annotate the spectrum with numbers or text at specific x values"]);
m(b,"INTERFACE",33,["SINGLE or OVERLAY","set how multiple spectra are displayed"]);m(b,"INVERTY",34,["","invert the Y axis"]);m(b,"IRMODE",35,["A or T or TOGGLE","set the IR mode to absorption or transmission"]);m(b,"JMOL",36,["...Jmol command...","send a command to Jmol (if present)"]);m(b,"JSV",37,[]);m(b,"LABEL",38,['x y [color and/or "text"]',"add a text label"]);m(b,"LINK",39,["AB or ABC or NONE or ALL","synchronize the crosshair of a 2D spectrum with 1D cursors"]);m(b,"LOAD",40,['[APPEND] "fileName" [first] [last]; use "" for current file; $H1/name or $C13/name for simulation',
"load a specturm"]);m(b,"LOADFILECALLBACKFUNCTIONNAME",41,[]);m(b,"LOADIMAGINARY",42,["TF","set TRUE to load imaginary NMR component"]);m(b,"MENUON",43,[]);m(b,"OBSCURE",44,[]);m(b,"OVERLAY",45,[]);m(b,"OVERLAYSTACKED",46,["TF","whether viewed spectra are shown separately, in a stack"]);m(b,"PEAK",47,["[IR,CNMR,HNMR,MS] [#nnn or ID=xxx or text] [ALL], for example: PEAK HNMR #3","highlights a peak based on its number or title text, optionally checking all loade spectra"]);m(b,"PEAKCALLBACKFUNCTIONNAME",
48,[]);m(b,"PEAKLIST",49,["[THRESHOLD=n] [INTERPOLATE=PARABOLIC or NONE]","creates a peak list based on a threshold value and parabolic or no interpolation"]);m(b,"PEAKTABCOLOR",50,["C","sets the color of peak marks for a peak listing"]);m(b,"PEAKTABSON",51,["T","show peak tabs for simulated spectra"]);m(b,"PLOTAREACOLOR",52,["C","sets the color of the plot background"]);m(b,"PLOTCOLOR",53,["C","sets the color of the graph line"]);m(b,"PLOTCOLORS",54,["color,color,color,...","sets the colors of multiple plots"]);
m(b,"POINTSONLY",55,["TF","show points only for all data"]);m(b,"PRINT",56,["","prints the current spectrum"]);m(b,"REVERSEPLOT",57,["T","reverses the x-axis of a spectrum"]);m(b,"SCALEBY",58,["factor","multiplies the y-scale of the spectrum by a factor"]);m(b,"SCALECOLOR",59,["C","sets the color of the x-axis and y-axis scales"]);m(b,"SCRIPT",60,["filename.jsv","runs a script from a file"]);m(b,"SELECT",61,["spectrumID, spectrumID,...","selects one or more spectra based on IDs"]);m(b,"SETPEAK",62,
["xNew, xOld xNew, ?, or NONE","sets nearest peak to xOld ppm to a new value; NONE resets (1D NMR only)"]);m(b,"SETX",63,["xNew, xOld xNew, ?, or NONE","sets an old ppm position in the spectrum to a new value; NONE resets (1D NMR only)"]);m(b,"SHIFTX",64,["dx or NONE","shifts the x-axis of a 1D NMR spectrum by the given ppm; NONE resets (1D NMR only)"]);m(b,"SHOWERRORS",65,["shows recent errors"]);m(b,"SHOWINTEGRATION",66,["T","shows an integration listing"]);m(b,"SHOWKEY",67,["T","shows a color key when multiple spectra are displayed"]);
m(b,"SHOWMEASUREMENTS",68,["T","shows a listing of measurements"]);m(b,"SHOWMENU",69,["displays the popup menu"]);m(b,"SHOWPEAKLIST",70,["T","shows a listing for peak picking"]);m(b,"SHOWPROPERTIES",71,["displays the header information of a JDX file"]);m(b,"SHOWSOURCE",72,["displays the source JDX file associated with the selected data"]);m(b,"SPECTRUM",73,["id","displays a specific spectrum, where id is a number 1, 2, 3... or a file.spectrum number such as 2.1"]);m(b,"SPECTRUMNUMBER",74,["n","displays the nth spectrum loaded"]);
m(b,"STACKOFFSETY",75,["percent","sets the y-axis offset of stacked spectra"]);m(b,"STARTINDEX",76,[]);m(b,"SYNCCALLBACKFUNCTIONNAME",77,[]);m(b,"SYNCID",78,[]);m(b,"TEST",79,[]);m(b,"TITLEON",80,["T","turns the title in the bottom left corner on or off"]);m(b,"TITLEBOLDON",81,["T","makes the title bold"]);m(b,"TITLECOLOR",82,["C","sets the color of the title"]);m(b,"TITLEFONTNAME",83,["fontName","sets the title font"]);m(b,"UNITSCOLOR",84,["C","sets the color of the x-axis and y-axis units"]);m(b,
"VERSION",85,[]);m(b,"VIEW",86,['spectrumID, spectrumID, ... Example: VIEW 3.1, 3.2  or  VIEW "acetophenone"',"creates a view of one or more spectra"]);m(b,"XSCALEON",87,["T","set FALSE to turn off the x-axis scale"]);m(b,"XUNITSON",88,["T","set FALSE to turn off the x-axis units"]);m(b,"YSCALE",89,["[ALL] lowValue highValue"]);m(b,"YSCALEON",90,["T","set FALSE to turn off the y-axis scale"]);m(b,"YUNITSON",91,["T","set FALSE to turn off the y-axis units"]);m(b,"WINDOW",92,[]);m(b,"WRITE",93,['[XY,DIF,DIFDUP,PAC,FIX,SQZ,AML,CML,JPG,PDF,PNG,SVG] "filename"',
"writes a file in the specified format"]);m(b,"ZOOM",94,["OUT or PREVIOUS or NEXT or x1,x2 or x1,y1 x2,y2","sets the zoom"]);m(b,"ZOOMBOXCOLOR",95,[]);m(b,"ZOOMBOXCOLOR2",96,[])});t("JSV.common");v(null,"JSV.common.ScriptTokenizer",["JU.PT"],function(){var b=q(function(){this.str=null;this.pt=-1;this.len=0;this.isCmd=!1;this.doCheck=!0;s(this,arguments)},JSV.common,"ScriptTokenizer");p(b,function(a,b){this.str=a;this.len=a.length;this.isCmd=b},"~S,~B");b.nextStringToken=c(b,"nextStringToken",function(a,
b){var c=a.nextToken();return b&&'"'==c.charAt(0)&&c.endsWith('"')&&1<c.length?JU.PT.trimQuotes(c):c},"JSV.common.ScriptTokenizer,~B");c(b,"nextToken",function(){this.doCheck&&this.hasMoreTokens();for(var a=this.pt,b='"'==this.str.charAt(this.pt);++this.pt<this.len;){switch(this.str.charAt(this.pt).charCodeAt(0)){case 34:if(b){if(this.isCmd){b=!1;continue}this.pt++;break}this.isCmd&&(b=!0);continue;case 32:if(!this.isCmd&&!b)break;continue;case 59:case 10:if(this.isCmd&&!b)break;continue;default:continue}break}this.doCheck=
!0;return this.str.substring(a,this.pt)});c(b,"hasMoreTokens",function(){for(;++this.pt<this.len;){switch(this.str.charAt(this.pt).charCodeAt(0)){case 32:case 59:case 10:continue}break}this.doCheck=!1;return this.pt<this.len});c(b,"getRemainingScript",function(){return this.str.substring(this.pt)})});t("JSV.common");n=q(function(){this.isub=0;this.title=null;s(this,arguments)},JSV.common,"SubSpecChangeEvent");p(n,function(b,a){this.isub=b;this.title=a},"~N,~S");c(n,"isValid",function(){return null!=
this.title});c(n,"getSubIndex",function(){return this.isub});e(n,"toString",function(){return this.title});t("JSV.common");v(null,"JSV.common.ViewData",["JSV.common.Coordinate","$.ScaleData"],function(){var b=q(function(){this.thisScale=this.scaleData=null;this.iThisScale=this.nSpectra=0;this.spectra=null;s(this,arguments)},JSV.common,"ViewData");c(b,"getScaleData",function(){return this.scaleData});c(b,"getScale",function(){return this.thisScale});p(b,function(a,b,c,e,f,h,k){this.nSpectra=k?1:a.size();
this.scaleData=Array(this.nSpectra);for(k=0;k<this.nSpectra;k++)this.scaleData[k]=new JSV.common.ScaleData(e[k],f[k]);this.init(a,b,c,h)},"JU.Lst,~N,~N,~A,~A,~B,~B");p(b,function(a,b,c,e){this.nSpectra=a.size();var f=a.get(0).getXYCoords().length;this.scaleData=Array(1);this.scaleData[0]=new JSV.common.ScaleData(0,f-1);this.init(a,b,c,e)},"JU.Lst,~N,~N,~B");c(b,"init",function(a,b,c,e){null==a?a=this.spectra:this.spectra=a;this.thisScale=this.scaleData[this.iThisScale=0];for(var f=0;f<this.scaleData.length;f++)this.scaleData[f].userYFactor=
a.get(f).getUserYFactor(),this.scaleData[f].spectrumYRef=a.get(f).getYRef();this.resetScaleFactors();var h=JSV.common.Coordinate.getMinX(a,this),k=JSV.common.Coordinate.getMaxX(a,this),j=JSV.common.Coordinate.getMinYUser(a,this),l=JSV.common.Coordinate.getMaxYUser(a,this);b!=c&&(j=b,l=c,j>l&&(f=j,j=l,l=f));a=a.get(0).isInverted();for(f=0;f<this.scaleData.length;f++)this.scaleData[f].setMinMax(h,k,j,l),this.scaleData[f].setScale(e,a)},"JU.Lst,~N,~N,~B");c(b,"newSpectrum",function(a){this.init(a,0,
0,!1)},"JU.Lst");c(b,"setXRangeForSubSpectrum",function(a){this.setXRange(0,a,this.scaleData[0].minX,this.scaleData[0].maxX,0,a.length-1)},"~A");c(b,"setXRange",function(a,b,c,e,f,h){for(var k=0,j=0,k=f;k<=h;k++)if(f=b[k].getXVal(),f>=c){this.scaleData[a%this.scaleData.length].startDataPointIndex=k;break}for(;k<=h&&!(f=b[k].getXVal(),j++,f>=e);k++);this.scaleData[a%this.scaleData.length].endDataPointIndex=k;return j},"~N,~A,~N,~N,~N,~N");c(b,"getStartingPointIndex",function(a){return this.scaleData[a%
this.scaleData.length].startDataPointIndex},"~N");c(b,"getEndingPointIndex",function(a){return this.scaleData[a%this.scaleData.length].endDataPointIndex},"~N");c(b,"areYScalesSame",function(a,b){a%=this.scaleData.length;b%=this.scaleData.length;return this.scaleData[a].minYOnScale==this.scaleData[b].minYOnScale&&this.scaleData[a].maxYOnScale==this.scaleData[b].maxYOnScale},"~N,~N");c(b,"setScale",function(a,b,c,e){this.iThisScale=a%this.scaleData.length;this.thisScale=this.scaleData[this.iThisScale];
this.thisScale.setXYScale(b,c,e)},"~N,~N,~N,~B");c(b,"resetScaleFactors",function(){for(var a=0;a<this.scaleData.length;a++)this.scaleData[a].spectrumScaleFactor=1});c(b,"scaleSpectrum",function(a,b){if(!(0>=b||a>=this.nSpectra))if(-2==a)this.thisScale.scale2D(b);else if(0>a)for(a=0;a<this.scaleData.length;a++)this.scaleData[a].scaleBy(b);else this.scaleData[a%this.scaleData.length].scaleBy(b)},"~N,~N");c(b,"getNewScales",function(a,b,c,e){if(b)return this.scaleData;a%=this.scaleData.length;b=(c-
this.thisScale.minYOnScale)/(this.thisScale.maxYOnScale-this.thisScale.minYOnScale);e=(e-this.thisScale.minYOnScale)/(this.thisScale.maxYOnScale-this.thisScale.minYOnScale);c=Array(this.scaleData.length);for(var f=0;f<this.scaleData.length;f++)c[f]=0<=a&&f!=a?this.scaleData[f]:new JSV.common.ScaleData;JSV.common.ScaleData.copyScaleFactors(this.scaleData,c);JSV.common.ScaleData.copyYScales(this.scaleData,c);for(f=0;f<this.scaleData.length;f++)0<=a&&f!=a||(c[f].isShiftZoomedY=!0,c[f].minYOnScale=this.scaleData[f].minYOnScale*
(1-b)+b*this.scaleData[f].maxYOnScale,c[f].maxYOnScale=this.scaleData[f].minYOnScale*(1-e)+e*this.scaleData[f].maxYOnScale);return c},"~N,~B,~N,~N")});t("JSV.common");C(JSV.common,"XYScaleConverter");t("JSV.common");n=u(JSV.common,"ZoomEvent");p(n,function(){});t("JSV.dialog");v(["JSV.api.AnnotationData","JSV.common.Annotation"],"JSV.dialog.JSVDialog","java.lang.Double JU.DF $.PT JSV.common.IntegralData $.PeakData JSV.dialog.DialogManager".split(" "),function(){var b=q(function(){this.myParams=this.xyData=
this.combo1=this.txt3=this.txt2=this.txt1=this.jsvp=this.dialog=this.manager=this.$spec=this.vwr=this.title=this.type=this.options=this.optionKey=null;this.precision=1;this.showHideButton=this.loc=null;this.defaultVisible=this.isNumeric=this.addApplyBtn=this.addCombo1=this.addClearBtn=!1;this.tableData=this.graphSetKey=this.subType=null;this.addUnits=!1;this.unitPtr=this.formatOptions=this.unitOptions=null;this.isON=!0;this.lastNorm=1;this.iSelected=this.iRowColSelected=-1;this.skipCreate=!1;this.iColSelected=
this.iRowSelected=-1;s(this,arguments)},JSV.dialog,"JSVDialog",JSV.common.Annotation,JSV.api.AnnotationData);e(b,"isDialog",function(){return!0});c(b,"setParams",function(a,b,c){this.title=a=JSV.dialog.DialogManager.fixTitle(a);this.vwr=b;this.$spec=c;this.manager=b.getDialogManager();this.jsvp=b.selectedPanel;this.myParams=b.getPlatformInterface("Parameters").setName("dialogParams");this.subType=null==c?"!":c.getTypeLabel();this.optionKey=this.type+"_"+this.subType;this.options=this.manager.getDialogOptions();
null!=c&&(a=c.getDefaultAnnotationInfo(this.type),this.options.put(this.optionKey,a),this.unitOptions=a[0],this.formatOptions=a[1],this.unitPtr=this.options.get(this.optionKey+"_unitPtr"),null==this.unitPtr&&(this.unitPtr=a[2]));switch(this.type){case JSV.common.Annotation.AType.Integration:this.addApplyBtn=this.defaultVisible=this.addClearBtn=this.isNumeric=!0;break;case JSV.common.Annotation.AType.Measurements:this.defaultVisible=this.addCombo1=this.addClearBtn=this.isNumeric=!0;break;case JSV.common.Annotation.AType.PeakList:this.defaultVisible=
this.addApplyBtn=this.isNumeric=!0;break;case JSV.common.Annotation.AType.Views:this.defaultVisible=!0}this.initDialog();return this},"~S,JSV.common.JSViewer,JSV.common.Spectrum");c(b,"initDialog",function(){this.dialog=this.manager.getDialog(this);this.restoreDialogPosition(this.jsvp,this.getPosXY());this.dialog.setTitle(this.title);this.layoutDialog()});c(b,"layoutDialog",function(){this.dialog.startLayout();this.addUniqueControls();this.isNumeric&&(this.getUnitOptions(),this.addCombo1&&(this.combo1=
this.dialog.addSelectOption("cmbUnits","Units",this.unitOptions,this.unitPtr.intValue(),this.addUnits)),this.addApplyBtn&&this.dialog.addButton("btnApply","Apply"),this.showHideButton=this.dialog.addButton("btnShow","Show"),this.addClearBtn&&this.dialog.addButton("btnClear","Clear"));this.dialog.endLayout();this.checkEnables();this.dialog.setVisible(this.defaultVisible)});c(b,"callbackAD",function(a,b){if(a.equals("FOCUS"))this.eventFocus();else if(a.equals("tableSelect"))this.tableSelect(b);else if(a.equals("btnClear"))this.clear();
else if(a.equals("btnApply"))this.eventApply();else if(a.equals("btnShow")){var c=this.dialog.getText(this.showHideButton);this.eventShowHide(c.equals("Show"))}else if(a.equals("cmbUnits"))this.setPrecision(this.dialog.getSelectedIndex(this.combo1));else if(a.startsWith("txt"))this.eventApply();else if(a.equals("windowClosing"))return this.done(),!0;null!=this.jsvp&&this.jsvp.doRepaint(!0);return!0},"~S,~S");c(b,"addUniqueControls",function(){},"JSV.dialog.DialogManager");e(b,"getAType",function(){return this.type});
e(b,"getGraphSetKey",function(){return this.graphSetKey});e(b,"setGraphSetKey",function(a){this.graphSetKey=a},"~S");e(b,"getSpectrum",function(){return this.$spec});e(b,"getState",function(){return this.isON});e(b,"setState",function(a){this.isON=a},"~B");c(b,"checkEnables",function(){var a=this.checkVisible();this.dialog.setText(this.showHideButton,a?"Hide":"Show")});c(b,"createTable",function(a,b,c){this.tableData=a;this.dialog.createTable(a,b,c)},"~A,~A,~A");c(b,"setTableSelectionEnabled",function(a){this.dialog.setCellSelectionEnabled(a)},
"~B");c(b,"getParameters",function(){return this.myParams});c(b,"showMessage",function(a,b,c){this.manager.showMessageDialog(this.dialog,a,b,c)},"~S,~S,~N");c(b,"setThreshold",function(a){this.dialog.setText(this.txt1,this.getThreasholdText(a))},"~N");c(b,"setComboSelected",function(a){this.dialog.setSelectedIndex(this.combo1,a)},"~N");c(b,"applyFromFields",function(){this.apply(null)});c(b,"reEnable",function(){this.paramsReEnable();return this});c(b,"dispose",function(){this.dialog.dispose()});
c(b,"setVisible",function(a){this.dialog.setVisible(a)},"~B");e(b,"isVisible",function(){return this.dialog.isVisible()});c(b,"selectTableRow",function(a){this.dialog.selectTableRow(a)},"~N");c(b,"repaint",function(){this.dialog.repaint()});c(b,"setFields",function(){switch(this.type){case JSV.common.Annotation.AType.PeakList:this.myParams=this.xyData.getParameters(),this.setThreshold(this.myParams.peakListThreshold),this.setComboSelected(this.myParams.peakListInterpolation.equals("none")?1:0),this.createData()}});
c(b,"setFocus",function(a){this.dialog.setFocus(a)},"~B");c(b,"update",function(a,b,c){this.selectTableRow(-1);switch(this.type){case JSV.common.Annotation.AType.Integration:this.loadData();this.checkEnables();break;case JSV.common.Annotation.AType.Measurements:this.loadData();this.checkEnables();break;case JSV.common.Annotation.AType.PeakList:20<c&&this.applyFromFields();if(null==this.xyData||null==a||20<c)break;c=0;var e=1E100;a=a.getXVal();var f=this.xyData;b=Math.abs(b/20);for(var h=f.size();0<=
--h;){var k=Math.abs(a-f.get(h).getXVal());k<e&&(e=k,c=h)}e<b&&(this.selectTableRow(f.size()-2-c),this.repaint())}},"JSV.common.Coordinate,~N,~N");c(b,"getPeakData",function(){var a=new JSV.common.PeakData(JSV.common.Annotation.AType.PeakList,this.$spec);a.setPeakList(this.myParams,this.precision,this.jsvp.getPanelData().getView());this.xyData=a;return null});e(b,"getData",function(){null==this.xyData&&this.createData();return this.xyData});c(b,"setData",function(a){this.myParams=a.getParameters();
this.xyData=a},"JSV.api.AnnotationData");e(b,"setSpecShift",function(a){null!=this.xyData&&this.xyData.setSpecShift(a)},"~N");c(b,"setType",function(a){this.type=a;switch(a){case JSV.common.Annotation.AType.Measurements:this.addUnits=!0}},"JSV.common.Annotation.AType");c(b,"apply",function(a){try{switch(this.type){case JSV.common.Annotation.AType.Integration:var b=Double.parseDouble(a[0]),c=Double.parseDouble(a[1]);this.myParams.integralOffset=b;this.myParams.integralRange=c;this.myParams.integralDrawAll=
!1;this.getData().update(this.myParams);break;case JSV.common.Annotation.AType.NONE:return;case JSV.common.Annotation.AType.PeakList:this.skipCreate||(this.setThreshold(NaN),this.createData());this.skipCreate=!1;break;case JSV.common.Annotation.AType.Views:this.vwr.parameters.viewOffset=Double.parseDouble(a[0])}this.loadData();this.checkEnables();this.jsvp.doRepaint(!0)}catch(e){if(!z(e,Exception))throw e;}},"~A");c(b,"done",function(){null!=this.jsvp&&null!=this.$spec&&this.jsvp.getPanelData().removeDialog(this);
null!=this.xyData&&this.xyData.setState(this.isON);this.saveDialogPosition(this.getPosXY());this.dispose();this.jsvp.doRepaint(!0)});c(b,"restoreDialogPosition",function(a,b){if(null!=a){-2147483648==b[0]&&(b[0]=0,b[1]=-20);var c=this.manager.getLocationOnScreen(a),e=a.getHeight();this.loc=D(-1,[Math.max(0,c[0]+b[0]),Math.max(0,c[1]+e+b[1])]);this.dialog.setIntLocation(this.loc)}},"JSV.api.JSVPanel,~A");c(b,"saveDialogPosition",function(a){try{var b=this.manager.getLocationOnScreen(this.dialog);a[0]+=
b[0]-this.loc[0];a[1]+=b[1]-this.loc[1]}catch(c){if(!z(c,Exception))throw c;}},"~A");c(b,"getThreasholdText",function(a){if(Double.isNaN(a)){a=this.jsvp.getPanelData();var b=a.getSpectrum().isInverted()?0.1:0.9,c=a.getClickedCoordinate();a=null==c?(a.getView().minYOnScale*b+a.getView().maxYOnScale)*(1-b):c.getYVal()}return" "+JU.DF.formatDecimalDbl(a,1E3>a?2:-2)},"~N");c(b,"checkVisible",function(){return this.vwr.pd().getShowAnnotation(this.type)});c(b,"getUnitOptions",function(){var a=this.optionKey+
"_format";null==this.options.get(a)&&this.options.put(a,Integer.$valueOf(this.formatOptions[null==this.unitPtr?0:this.unitPtr.intValue()]))});c(b,"eventFocus",function(){null!=this.$spec&&this.jsvp.getPanelData().jumpToSpectrum(this.$spec);switch(this.type){case JSV.common.Annotation.AType.Integration:0<=this.iRowSelected&&(this.iRowSelected++,this.tableCellSelect(-1,-1));break;case JSV.common.Annotation.AType.PeakList:this.createData(),this.skipCreate=!0}});c(b,"eventApply",function(){switch(this.type){case JSV.common.Annotation.AType.PeakList:this.createData(),
this.skipCreate=!0}this.applyFromFields()});c(b,"eventShowHide",function(a){(this.isON=a)&&this.eventApply();this.jsvp.doRepaint(!0);this.checkEnables()},"~B");c(b,"clear",function(){this.setState(!0);null!=this.xyData&&(this.xyData.clear(),this.applyFromFields())});c(b,"paramsReEnable",function(){switch(this.type){case JSV.common.Annotation.AType.PeakList:this.skipCreate=!0}this.setVisible(!0);this.isON=!0;this.applyFromFields()});c(b,"tableCellSelect",function(a,b){System.out.println(a+" jSVDial "+
b);0>a&&(a=w(this.iRowColSelected/1E3),b=this.iRowColSelected%1E3,this.iRowColSelected=-1);var c=this.tableData[a][1],e=1E3*a+b;if(e!=this.iRowColSelected){this.iRowColSelected=e;System.out.println("Setting rc = "+this.iRowColSelected+" "+this.$spec);this.selectTableRow(this.iRowSelected);try{switch(this.type){case JSV.common.Annotation.AType.Integration:this.callback("SHOWSELECTION",c.toString());this.checkEnables();break;case JSV.common.Annotation.AType.PeakList:try{switch(b){case 6:case 5:case 4:var f=
Double.parseDouble(c),h=Double.parseDouble(this.tableData[a+3-b][1]);this.jsvp.getPanelData().setXPointers(this.$spec,f,this.$spec,h);break;default:this.jsvp.getPanelData().findX(this.$spec,Double.parseDouble(c))}}catch(k){if(z(k,Exception))this.jsvp.getPanelData().findX(this.$spec,1E100);else throw k;}this.jsvp.doRepaint(!1);break;case JSV.common.Annotation.AType.OverlayLegend:this.jsvp.getPanelData().setSpectrum(a,!1)}}catch(j){if(!z(j,Exception))throw j;}}},"~N,~N");c(b,"loadData",function(){var a,
b,c;switch(this.type){case JSV.common.Annotation.AType.Integration:null==this.xyData&&this.createData();this.iSelected=-1;a=this.xyData.getMeasurementListArray(null);b=this.xyData.getDataHeader();c=D(-1,[40,65,65,50]);this.createTable(a,b,c);break;case JSV.common.Annotation.AType.Measurements:if(null==this.xyData)break;a=this.xyData.getMeasurementListArray(this.dialog.getSelectedItem(this.combo1).toString());b=this.xyData.getDataHeader();c=D(-1,[40,65,65,50]);this.createTable(a,b,c);break;case JSV.common.Annotation.AType.PeakList:null==
this.xyData&&this.createData();a=this.xyData.getMeasurementListArray(null);b=this.xyData.getDataHeader();c=D(-1,[40,65,50,50,50,50,50]);this.createTable(a,b,c);this.setTableSelectionEnabled(!0);break;case JSV.common.Annotation.AType.OverlayLegend:b=y(-1,["No.","Plot Color","Title"]),a=this.vwr.selectedPanel.getPanelData().getOverlayLegendData(),c=D(-1,[30,60,250]),this.createTable(a,b,c),this.setTableSelectionEnabled(!0)}});c(b,"createData",function(){switch(this.type){case JSV.common.Annotation.AType.Integration:this.xyData=
new JSV.common.IntegralData(this.$spec,this.myParams);this.iSelected=-1;break;case JSV.common.Annotation.AType.PeakList:try{var a=Double.parseDouble(this.dialog.getText(this.txt1));this.myParams.peakListThreshold=a;this.myParams.peakListInterpolation=this.dialog.getSelectedItem(this.combo1).toString();this.myParams.precision=this.precision;var b=new JSV.common.PeakData(JSV.common.Annotation.AType.PeakList,this.$spec);b.setPeakList(this.myParams,this.precision,this.jsvp.getPanelData().getView());this.xyData=
b;this.loadData()}catch(c){if(!z(c,Exception))throw c;}}});c(b,"setPrecision",function(a){this.precision=this.formatOptions[a]},"~N");c(b,"tableSelect",function(a){if("true".equals(this.getField(a,"adjusting")))this.iColSelected=this.iRowSelected=-1,System.out.println("adjusting"+a);else{var b=JU.PT.parseInt(this.getField(a,"index"));switch("ROW COL ROWCOL".indexOf(this.getField(a,"selector"))){case 8:this.iColSelected=JU.PT.parseInt(this.getField(a,"index2"));case 0:this.iRowSelected=b;System.out.println("r set to "+
b);break;case 4:this.iColSelected=b,System.out.println("c set to "+b)}0<=this.iColSelected&&0<=this.iRowSelected&&this.tableCellSelect(this.iRowSelected,this.iColSelected)}},"~S");c(b,"getField",function(a,b){a+="&";var c="&"+b+"=",e=a.indexOf(c);return 0>e?null:a.substring(e+c.length,a.indexOf("&",e+1))},"~S,~S")});t("JSV.exception");v(["java.lang.Exception"],"JSV.exception.JSVException",null,function(){u(JSV.exception,"JSVException",Exception)});t("JSV.js2d");n=u(JSV.js2d,"Display");n.getFullScreenDimensions=
c(n,"getFullScreenDimensions",function(b,a){a[0]=b.width;a[1]=b.height},"~O,~A");n.hasFocus=c(n,"hasFocus",function(){return!0},"~O");n.requestFocusInWindow=c(n,"requestFocusInWindow",function(){},"~O");n.repaint=c(n,"repaint",function(){},"~O");n.renderScreenImage=c(n,"renderScreenImage",function(){},"J.api.PlatformViewer,~O,~O");n.setTransparentCursor=c(n,"setTransparentCursor",function(){},"~O");n.setCursor=c(n,"setCursor",function(){},"~N,~O");n.prompt=c(n,"prompt",function(b,a){var d=prompt(b,
a);return null!=d?d:"null"},"~S,~S,~A,~B");n.convertPointFromScreen=c(n,"convertPointFromScreen",function(){},"~O,JU.P3");t("JSV.js2d");n=u(JSV.js2d,"Image");n.getWidth=c(n,"getWidth",function(b){return b.imageWidth?b.imageWidth:b.width},"~O");n.getHeight=c(n,"getHeight",function(b){return b.imageHeight?b.imageHeight:b.height},"~O");n.grabPixels=c(n,"grabPixels",function(b,a,d){var c=null;if(b._buf32)return b._buf32;c=b.getImageData(0,0,a,d).data;return JSV.js2d.Image.toIntARGB(c)},"~O,~N,~N");n.toIntARGB=
c(n,"toIntARGB",function(b){for(var a=w(b.length/4),d=D(a,0),c=0,e=0;c<a;e++)d[c++]=b[e++]<<16|b[e++]<<8|b[e++]|4278190080;return d},"~A");n.fromIntARGB=c(n,"fromIntARGB",function(b,a){for(var d=a.length>>2,c=0,e=0;c<d;c++)a[e++]=b[c]>>16&255,a[e++]=b[c]>>8&255,a[e++]=b[c]&255,a[e++]=255},"~A,~A");n.getTextPixels=c(n,"getTextPixels",function(b,a,d,c,e,f){d.fillStyle="#000000";d.fillRect(0,0,c,e);d.fillStyle="#FFFFFF";d.font=a.font;d.fillText(b,0,f);return JSV.js2d.Image.grabPixels(d,c,e)},"~S,JU.Font,~O,~N,~N,~N");
n.allocateRgbImage=c(n,"allocateRgbImage",function(b,a,d,c,e,f){null==f&&(f={width:b,height:a});f.buf32=d},"~N,~N,~A,~N,~B,~O");n.getStaticGraphics=c(n,"getStaticGraphics",function(b){return JSV.js2d.Image.getGraphics(b)},"~O,~B");n.getGraphics=c(n,"getGraphics",function(b){return b.getContext("2d")},"~O");n.drawImage=c(n,"drawImage",function(b,a,d,c){this.fromIntARGB(a.buf32,a.buf8);b.putImageData(a.imgdata,d,c)},"~O,~O,~N,~N,~N,~N");t("JSV.js2d");v(["J.api.GenericFileInterface"],"JSV.js2d.JsFile",
["JU.PT","JSV.common.JSVFileManager"],function(){var b=q(function(){this.fullName=this.name=null;s(this,arguments)},JSV.js2d,"JsFile",null,J.api.GenericFileInterface);b.newFile=c(b,"newFile",function(a){return new JSV.js2d.JsFile(a)},"~S");p(b,function(a){this.name=a.$replace("\\","/");this.fullName=a;!this.fullName.startsWith("/")&&0>JSV.common.JSVFileManager.urlTypeIndex(a)&&(this.fullName=JSV.common.JSVFileManager.jsDocumentBase+"/"+this.fullName);this.fullName=JU.PT.rep(this.fullName,"/./","/");
a.substring(a.lastIndexOf("/")+1)},"~S");e(b,"getParentAsFile",function(){var a=this.fullName.lastIndexOf("/");return 0>a?null:new JSV.js2d.JsFile(this.fullName.substring(0,a))});e(b,"getFullPath",function(){return this.fullName});e(b,"getName",function(){return this.name});e(b,"isDirectory",function(){return this.fullName.endsWith("/")});e(b,"length",function(){return 0});b.getURLContents=c(b,"getURLContents",function(a,b,c){try{var e=a.openConnection();null!=b?e.outputBytes(b):null!=c&&e.outputString(c);
return e.getContents()}catch(f){if(z(f,Exception))return f.toString();throw f;}},"java.net.URL,~A,~S")});t("JSV.js2d");v(["JSV.api.JSVFileHelper"],"JSV.js2d.JsFileHelper",["JU.PT","JSV.common.JSViewer","JSV.js2d.JsFile"],function(){var b=q(function(){this.vwr=null;s(this,arguments)},JSV.js2d,"JsFileHelper",null,JSV.api.JSVFileHelper);p(b,function(){});e(b,"set",function(a){this.vwr=a;return this},"JSV.common.JSViewer");e(b,"getFile",function(a){var b=null;a=JU.PT.rep(a,"=","_");b=prompt("Enter a file name:",
a);return null==b?null:new JSV.js2d.JsFile(b)},"~S,~O,~B");e(b,"setDirLastExported",function(a){return a},"~S");e(b,"setFileChooser",function(){},"JSV.common.ExportType");e(b,"showFileOpenDialog",function(a,b){JSV.common.JSViewer.jmolObject.loadFileAsynchronously(this,this.vwr.html5Applet,"?",b);return null},"~O,~A");c(b,"setData",function(a,b,c){if(null!=a)if(null==b)this.vwr.selectedPanel.showMessage(a,"File Open Error");else{var e=null==c?null:"",f=!1,f=c[0],e=c[1];this.vwr.si.siOpenDataOrFile(String.instantialize(b),
"cache://"+a,null,null,-1,-1,f,null,null);null!=e&&this.vwr.runScript(e)}},"~S,~O,~A");e(b,"getUrlFromDialog",function(a,b){return prompt(a,b)},"~S,~S")});t("JSV.js2d");n=u(JSV.js2d,"JsFont");n.newFont=c(n,"newFont",function(b,a,d,c,e){b=b.equals("Monospaced")?"Courier":b.startsWith("Sans")?"Sans-Serif":"Serif";return(a?"bold ":"")+(d?"italic ":"")+c+e+" "+b},"~S,~B,~B,~N,~S");n.getFontMetrics=c(n,"getFontMetrics",function(b,a){a.font!=b.font&&(a.font=b.font,b.font=a.font,a._fontAscent=Math.ceil(b.fontSize),
a._fontDescent=Math.ceil(0.25*b.fontSize));return a},"JU.Font,~O");n.getAscent=c(n,"getAscent",function(b){return Math.ceil(b._fontAscent)},"~O");n.getDescent=c(n,"getDescent",function(b){return Math.ceil(b._fontDescent)},"~O");n.stringWidth=c(n,"stringWidth",function(b,a){b.fontMetrics.font=b.font;return Math.ceil(b.fontMetrics.measureText(a).width)},"JU.Font,~S");t("JSV.js2d");v(["J.api.GenericGraphics"],"JSV.js2d.JsG2D",["JU.CU","JSV.common.JSViewer","JS.Color"],function(){var b=q(function(){this.windowHeight=
this.windowWidth=0;this.inPath=this.isShifted=!1;s(this,arguments)},JSV.js2d,"JsG2D",null,J.api.GenericGraphics);p(b,function(){});e(b,"getColor4",function(a,b,c,e){return JS.Color.get4(a,b,c,e)},"~N,~N,~N,~N");e(b,"getColor3",function(a,b,c){return JS.Color.get3(a,b,c)},"~N,~N,~N");e(b,"getColor1",function(a){return JS.Color.get1(a)},"~N");e(b,"newGrayScaleImage",function(a,b,c,e,f){return JSV.common.JSViewer.jmolObject.newGrayScaleImage(a,b,c,e,f)},"~O,~O,~N,~N,~A");e(b,"drawGrayScaleImage",function(a,
b,c,e,f,h,k,j,l,m){a=f-c+1;h=h-e+1;l=l-k+1;m=m-j+1;f=b.w*a/l;var p=b.h*h/m;b.width=f;b.height=p;var n=b.div;b=b.layer;b.style.left=c+"px";b.style.top=e+"px";b.style.width=a+"px";b.style.height=h+"px";n.style.left=-k*a/l+"px";n.style.top=-j*h/m+"px";n.style.width=f+"px";n.style.height=p+"px"},"~O,~O,~N,~N,~N,~N,~N,~N,~N,~N");e(b,"drawLine",function(a,b,c,e,f){var h=this.inPath;h||a.beginPath();a.moveTo(b,c);a.lineTo(e,f);h||a.stroke()},"~O,~N,~N,~N,~N");e(b,"drawCircle",function(a,b,c,e){e/=2;a.beginPath();
a.arc(b+e,c+e,e,0,2*Math.PI,!1);a.stroke()},"~O,~N,~N,~N");e(b,"drawPolygon",function(a,b,c,e){this.doPoly(a,b,c,e,!1)},"~O,~A,~A,~N");c(b,"doPoly",function(a,b,c,e,f){a.beginPath();a.moveTo(b[0],c[0]);for(var h=1;h<e;h++)a.lineTo(b[h],c[h]);f?a.fill():a.stroke()},"~O,~A,~A,~N,~B");e(b,"drawRect",function(a,b,c,e,f){a.beginPath();a.rect(b,c,e,f);a.stroke()},"~O,~N,~N,~N,~N");e(b,"drawString",function(a,b,c,e){a.fillText(b,c,e)},"~O,~S,~N,~N");e(b,"drawStringRotated",function(){},"~O,~S,~N,~N,~N");
e(b,"fillBackground",function(a,b){null==b?(this.isShifted||(a.translate(-0.5,-0.5),this.isShifted=!0),a.clearRect(0,0,this.windowWidth,this.windowHeight)):(this.setGraphicsColor(a,b),this.fillRect(a,0,0,this.windowWidth,this.windowHeight))},"~O,javajs.api.GenericColor");e(b,"fillCircle",function(a,b,c,e){e/=2;a.beginPath();a.arc(b+e,c+e,e,0,2*Math.PI,!1);a.fill()},"~O,~N,~N,~N");e(b,"fillPolygon",function(a,b,c,e){this.doPoly(a,b,c,e,!0)},"~O,~A,~A,~N");e(b,"fillRect",function(a,b,c,e,f){a.fillRect(b,
c,e,f)},"~O,~N,~N,~N,~N");e(b,"setGraphicsColor",function(a,b){var c=JU.CU.toCSSString(b);a.fillStyle=a.strokeStyle=c},"~O,javajs.api.GenericColor");e(b,"setFont",function(a,b){var c=b.getInfo(),e=c.indexOf(" "),c=c.substring(0,e)+"px"+c.substring(e);a.font=c;return b},"~O,JU.Font");e(b,"setStrokeBold",function(a,b){a.lineWidth=b?2:1},"~O,~B");e(b,"setWindowParameters",function(a,b){this.windowWidth=a;this.windowHeight=b},"~N,~N");e(b,"translateScale",function(){},"~O,~N,~N,~N");e(b,"canDoLineTo",
function(){return!0});e(b,"doStroke",function(a,b){(this.inPath=b)?a.beginPath():a.stroke()},"~O,~B");e(b,"lineTo",function(a,b,c){a.lineTo(b,c)},"~O,~N,~N")});t("JSV.js2d");v(["JSV.api.JSVPanel"],"JSV.js2d.JsPanel",["JSV.common.JSViewer","$.PanelData","JU.Font","$.Logger"],function(){var b=q(function(){this.bgcolor=this.name=this.vwr=this.mouse=this.pd=this.apiPlatform=null;s(this,arguments)},JSV.js2d,"JsPanel",null,JSV.api.JSVPanel);e(b,"getApiPlatform",function(){return this.apiPlatform});e(b,
"getPanelData",function(){return this.pd});b.getEmptyPanel=c(b,"getEmptyPanel",function(a){a=new JSV.js2d.JsPanel(a,!1);a.pd=null;return a},"JSV.common.JSViewer");b.getPanelMany=c(b,"getPanelMany",function(a,b){var c=new JSV.js2d.JsPanel(a,!0);c.pd.initMany(b,a.initialStartIndex,a.initialEndIndex);return c},"JSV.common.JSViewer,JU.Lst");p(b,function(a,b){this.vwr=a;this.pd=b?new JSV.common.PanelData(this,a):null;this.apiPlatform=a.apiPlatform;this.mouse=this.apiPlatform.getMouseManager(0,this)},"JSV.common.JSViewer,~B");
e(b,"getTitle",function(){return this.pd.getTitle()});e(b,"dispose",function(){null!=this.pd&&this.pd.dispose();this.pd=null;this.mouse.dispose();this.mouse=null});e(b,"setTitle",function(a){this.name=this.pd.title=a},"~S");c(b,"setColorOrFont",function(a,b){this.pd.setColorOrFont(a,b)},"JSV.common.ColorParameters,JSV.common.ScriptToken");e(b,"setBackgroundColor",function(a){this.bgcolor=a},"javajs.api.GenericColor");e(b,"getInput",function(a,b,c){b=null;b=prompt(a,c);this.getFocusNow(!0);return b},
"~S,~S,~S");e(b,"showMessage",function(a,b){JU.Logger.info(a);this.vwr.html5Applet._showStatus(a,b);this.getFocusNow(!0)},"~S,~S");e(b,"getFocusNow",function(){null!=this.pd&&this.pd.dialogsToFront(null)},"~B");e(b,"getFontFaceID",function(){return JU.Font.getFontFaceID("SansSerif")},"~S");e(b,"doRepaint",function(a){null!=this.pd&&(a&&this.pd.setTaintedAll(),this.pd.isPrinting||this.vwr.requestRepaint())},"~B");e(b,"paintComponent",function(a){var b=null,c=null,b=a.canvas.frontLayer.getContext("2d"),
c=a;null!=this.vwr&&(null==this.pd?(null==this.bgcolor&&(this.bgcolor=this.vwr.g2d.getColor1(-1)),this.vwr.g2d.fillBackground(a,this.bgcolor),this.vwr.g2d.fillBackground(c,this.bgcolor),this.vwr.g2d.fillBackground(b,this.bgcolor)):null==this.pd.graphSets||this.pd.isPrinting||(this.pd.g2d=this.pd.g2d0,this.pd.drawGraph(a,b,c,this.getWidth(),this.getHeight(),!1),this.vwr.repaintDone()))},"~O");e(b,"printPanel",function(a,b,c){a.title=c;a.date=this.apiPlatform.getDateFormat("8824");this.pd.setPrint(a,
"Helvetica");try{JSV.common.JSViewer.getInterface("JSV.common.PDFWriter").createPdfDocument(this,a,b)}catch(e){if(z(e,Exception))this.showMessage(e.toString(),"creating PDF");else throw e;}finally{this.pd.setPrint(null,null)}},"JSV.common.PrintLayout,java.io.OutputStream,~S");e(b,"saveImage",function(a,b,c){a=b.getName();null!=c&&c.cancel();JSV.common.JSViewer.jmolObject.saveImage(this.vwr.html5Applet,"png",a);return"OK"},"~S,J.api.GenericFileInterface,JU.OC");e(b,"hasFocus",function(){return!1});
e(b,"repaint",function(){});e(b,"setToolTipText",function(a){var b=this.pd.mouseX,c=this.pd.mouseY,e=this.vwr.html5Applet;e._showTooltip&&e._showTooltip(a,b,c)},"~S");e(b,"getHeight",function(){return this.vwr.getHeight()});e(b,"getWidth",function(){return this.vwr.getWidth()});e(b,"isEnabled",function(){return!1});e(b,"isFocusable",function(){return!1});e(b,"isVisible",function(){return!1});e(b,"setEnabled",function(){},"~B");e(b,"setFocusable",function(){},"~B");e(b,"toString",function(){return null==
this.pd?"<closed>":""+this.pd.getSpectrumAt(0)});e(b,"processMouseEvent",function(a,b,c,e,f){return null!=this.mouse&&this.mouse.processEvent(a,b,c,e,f)},"~N,~N,~N,~N,~N");e(b,"processTwoPointGesture",function(a){null!=this.mouse&&this.mouse.processTwoPointGesture(a)},"~A");e(b,"processKeyEvent",function(a){null!=this.mouse&&this.mouse.processKeyEvent(a)},"~O");e(b,"showMenu",function(a,b){this.vwr.showMenu(a,b)},"~N,~N")});t("JSV.js2d");v(["JSV.common.ColorParameters"],"JSV.js2d.JsParameters",["JS.Color"],
function(){var b=u(JSV.js2d,"JsParameters",JSV.common.ColorParameters);p(b,function(){B(this,JSV.js2d.JsParameters,[])});e(b,"isValidFontName",function(){return!0},"~S");e(b,"getColor1",function(a){return JS.Color.get1(a)},"~N");e(b,"getColor3",function(a,b,c){return JS.Color.get3(a,b,c)},"~N,~N,~N");c(b,"copy",function(a){return(new JSV.js2d.JsParameters).setName(a).setElementColors(this)},"~S")});t("JSV.js2d");v(["J.api.GenericPlatform"],"JSV.js2d.JsPlatform","java.net.URL JU.AjaxURLStreamHandlerFactory $.Rdr JSV.app.GenericMouse JSV.js2d.Display $.Image $.JsFile $.JsFont".split(" "),
function(){var b=q(function(){this.context=this.viewer=this.canvas=null;s(this,arguments)},JSV.js2d,"JsPlatform",null,J.api.GenericPlatform);e(b,"setViewer",function(a,b){var c="";this.viewer=a;this.canvas=b;null!=b&&(c=b.getContext("2d"),b.imgdata=c.getImageData(0,0,b.width,b.height),b.buf8=b.imgdata.data);""!==c&&(this.context=c);try{java.net.URL.setURLStreamHandlerFactory(new JU.AjaxURLStreamHandlerFactory)}catch(e){}},"J.api.PlatformViewer,~O");e(b,"isSingleThreaded",function(){return!0});e(b,
"getJsObjectInfo",function(a,b,c){return null==b?null:"localName"==b?a[0].nodeName:null==c?a[0][b]:a[0][b](c[0])},"~A,~S,~A");e(b,"isHeadless",function(){return!1});e(b,"getMouseManager",function(a,b){return new JSV.app.GenericMouse(b)},"~N,~O");e(b,"convertPointFromScreen",function(a,b){JSV.js2d.Display.convertPointFromScreen(a,b)},"~O,JU.P3");e(b,"getFullScreenDimensions",function(a,b){JSV.js2d.Display.getFullScreenDimensions(a,b)},"~O,~A");e(b,"getMenuPopup",function(){return null},"~S,~S");e(b,
"hasFocus",function(a){return JSV.js2d.Display.hasFocus(a)},"~O");e(b,"prompt",function(a,b,c,e){return JSV.js2d.Display.prompt(a,b,c,e)},"~S,~S,~A,~B");e(b,"renderScreenImage",function(a,b){JSV.js2d.Display.renderScreenImage(this.viewer,a,b)},"~O,~O");e(b,"drawImage",function(a,b,c,e,f,h){JSV.js2d.Image.drawImage(a,b,c,e,f,h)},"~O,~O,~N,~N,~N,~N,~B");e(b,"requestFocusInWindow",function(a){JSV.js2d.Display.requestFocusInWindow(a)},"~O");e(b,"repaint",function(a){JSV.js2d.Display.repaint(a)},"~O");
e(b,"setTransparentCursor",function(a){JSV.js2d.Display.setTransparentCursor(a)},"~O");e(b,"setCursor",function(a,b){JSV.js2d.Display.setCursor(a,b)},"~N,~O");e(b,"allocateRgbImage",function(a,b,c,e,f,h){return JSV.js2d.Image.allocateRgbImage(a,b,c,e,f,h?null:this.canvas)},"~N,~N,~A,~N,~B,~B");e(b,"notifyEndOfRendering",function(){});e(b,"createImage",function(){return null},"~O");e(b,"disposeGraphics",function(){},"~O");e(b,"grabPixels",function(a,b,c){a.image&&(b!=a.width||c!=a.height)&&Jmol._setCanvasImage(a,
b,c);if(a.buf32)return a.buf32;b=JSV.js2d.Image.grabPixels(JSV.js2d.Image.getGraphics(a),b,c);return a.buf32=b},"~O,~N,~N,~A");e(b,"drawImageToBuffer",function(a,b,c,e,f){return this.grabPixels(c,e,f,null)},"~O,~O,~O,~N,~N,~N");e(b,"getTextPixels",function(a,b,c,e,f,h,k){return JSV.js2d.Image.getTextPixels(a,b,c,f,h,k)},"~S,JU.Font,~O,~O,~N,~N,~N");e(b,"flushImage",function(){},"~O");e(b,"getGraphics",function(a){return null==a?this.context:this.context=JSV.js2d.Image.getGraphics(this.canvas=a)},
"~O");e(b,"getImageHeight",function(a){return null==a?-1:JSV.js2d.Image.getHeight(a)},"~O");e(b,"getImageWidth",function(a){return null==a?-1:JSV.js2d.Image.getWidth(a)},"~O");e(b,"getStaticGraphics",function(a,b){return JSV.js2d.Image.getStaticGraphics(a,b)},"~O,~B");e(b,"newBufferedImage",function(a,b,c){return self.Jmol&&Jmol._getHiddenCanvas?Jmol._getHiddenCanvas(this.vwr.html5Applet,"stereoImage",b,c):null},"~O,~N,~N");e(b,"newOffScreenImage",function(a,b){return self.Jmol&&Jmol._getHiddenCanvas?
Jmol._getHiddenCanvas(this.vwr.html5Applet,"textImage",a,b):null},"~N,~N");e(b,"waitForDisplay",function(){return!1},"~O,~O");e(b,"fontStringWidth",function(a,b){return JSV.js2d.JsFont.stringWidth(a,b)},"JU.Font,~S");e(b,"getFontAscent",function(a){return JSV.js2d.JsFont.getAscent(a)},"~O");e(b,"getFontDescent",function(a){return JSV.js2d.JsFont.getDescent(a)},"~O");e(b,"getFontMetrics",function(a,b){return JSV.js2d.JsFont.getFontMetrics(a,b)},"JU.Font,~O");e(b,"newFont",function(a,b,c,e){return JSV.js2d.JsFont.newFont(a,
b,c,e,"px")},"~S,~B,~B,~N");e(b,"getDateFormat",function(a){if(null!=a){if(0<=a.indexOf("8824")){var b=new Date;a=b.toString().split(" ");var c="0"+b.getMonth(),c=c.substring(c.length-2),b="0"+b.getDate(),b=b.substring(b.length-2);return a[3]+c+b+a[4].replace(/\:/g,"")+a[5].substring(3,6)+"'"+a[5].substring(6,8)+"'"}if(0<=a.indexOf("8601"))return b=new Date,a=b.toString().split(" "),c="0"+b.getMonth(),c=c.substring(c.length-2),b="0"+b.getDate(),b=b.substring(b.length-2),a[3]+c+b+a[4].replace(/\:/g,
"")+a[5].substring(3,6)+"'"+a[5].substring(6,8)+"'"}return(""+new Date).split(" (")[0]},"~S");e(b,"newFile",function(a){return new JSV.js2d.JsFile(a)},"~S");e(b,"getBufferedFileInputStream",function(){return null},"~S");e(b,"getURLContents",function(a,b,c,e){a=JSV.js2d.JsFile.getURLContents(a,b,c);try{return!e?a:"string"==typeof a?a:x(a,"JU.SB")?a.toString():x(a,Array)?String.instantialize(a):String.instantialize(JU.Rdr.getStreamAsBytes(a,null))}catch(f){if(z(f,Exception))return""+f;throw f;}},"java.net.URL,~A,~S,~B");
e(b,"getLocalUrl",function(){return null},"~S");e(b,"getImageDialog",function(){return null},"~S,java.util.Map");e(b,"forceAsyncLoad",function(){return!1},"~S");e(b,"getInChI",function(){return null});e(b,"confirm",function(a,b){var c=!1;null!=b&&(c=!1);return c?1:2},"~S,~S")});t("JSV.js2d");v(["JSV.api.JSVMainPanel"],"JSV.js2d.JsMainPanel",null,function(){var b=q(function(){this.selectedPanel=null;this.currentPanelIndex=0;this.title=null;this.enabled=this.focusable=this.visible=!1;s(this,arguments)},
JSV.js2d,"JsMainPanel",null,JSV.api.JSVMainPanel);e(b,"getCurrentPanelIndex",function(){return this.currentPanelIndex});e(b,"dispose",function(){});e(b,"getTitle",function(){return this.title});e(b,"setTitle",function(a){this.title=a},"~S");e(b,"setSelectedPanel",function(a,b,c){b!==this.selectedPanel&&(this.selectedPanel=b);a=a.selectPanel(b,c);0<=a&&(this.currentPanelIndex=a);this.visible=!0},"JSV.common.JSViewer,JSV.api.JSVPanel,JU.Lst");c(b,"getHeight",function(){return null==this.selectedPanel?
0:this.selectedPanel.getHeight()});c(b,"getWidth",function(){return null==this.selectedPanel?0:this.selectedPanel.getWidth()});e(b,"isEnabled",function(){return this.enabled});e(b,"isFocusable",function(){return this.focusable});e(b,"isVisible",function(){return this.visible});e(b,"setEnabled",function(a){this.enabled=a},"~B");e(b,"setFocusable",function(a){this.focusable=a},"~B")});t("JSV.source");v(["JSV.source.JDXHeader","java.util.Hashtable"],"JSV.source.JDXDataObject","java.lang.Character $.Double JU.DF $.PT JSV.common.Annotation $.Coordinate JSV.exception.JSVException JU.Logger".split(" "),
function(){var b=q(function(){this.sourceID="";this.isSimulation=!1;this.blockID=0;this.inlineData=this.filePathForwardSlash=this.filePath=null;this.fileShiftRef=1.7976931348623157E308;this.fileShiftRefDataPt=this.fileShiftRefType=-1;this.deltaX=this.maxY=this.maxX=this.minY=this.minX=NaN;this.xyCoords=null;this.$isHZtoPPM=this.continuous=!1;this.xIncreases=!0;this.fileLastX=this.fileFirstX=1.7976931348623157E308;this.fileNPoints=-1;this.yFactor=this.xFactor=1.7976931348623157E308;this.nucleusX=null;
this.nucleusY="?";this.freq2dY=this.freq2dX=NaN;this.y2DUnits="";this.parent=null;this.yUnits=this.xUnits="";this.yLabel=this.xLabel=null;this.observedNucl=this.varName="";this.observedFreq=1.7976931348623157E308;this.numDim=1;this.nH=0;this.y2D=NaN;s(this,arguments)},JSV.source,"JDXDataObject",JSV.source.JDXHeader);c(b,"setInlineData",function(a){this.inlineData=a},"~S");c(b,"getInlineData",function(){return this.inlineData});c(b,"setFilePath",function(a){null!=a&&(this.filePathForwardSlash=(this.filePath=
a.trim()).$replace("\\","/"))},"~S");c(b,"getFilePath",function(){return this.filePath});c(b,"getFilePathForwardSlash",function(){return this.filePathForwardSlash});c(b,"setBlockID",function(a){this.blockID=a},"~N");c(b,"checkJDXRequiredTokens",function(){var a=1.7976931348623157E308==this.fileFirstX?"##FIRSTX":1.7976931348623157E308==this.fileLastX?"##LASTX":-1==this.fileNPoints?"##NPOINTS":1.7976931348623157E308==this.xFactor?"##XFACTOR":1.7976931348623157E308==this.yFactor?"##YFACTOR":null;if(null!=
a)throw new JSV.exception.JSVException("Error Reading Data Set: "+a+" not found");});c(b,"setXFactor",function(a){this.xFactor=a},"~N");c(b,"getXFactor",function(){return this.xFactor});c(b,"setYFactor",function(a){this.yFactor=a},"~N");c(b,"getYFactor",function(){return this.yFactor});c(b,"setVarName",function(a){this.varName=a},"~S");c(b,"isImaginary",function(){return this.varName.contains("IMAG")});c(b,"setXUnits",function(a){this.xUnits=a},"~S");c(b,"getXUnits",function(){return this.xUnits});
c(b,"setYUnits",function(a){a.equals("PPM")&&(a="ARBITRARY UNITS");this.yUnits=a},"~S");c(b,"getYUnits",function(){return this.yUnits});c(b,"setXLabel",function(a){this.xLabel=a},"~S");c(b,"setYLabel",function(a){this.yLabel=a},"~S");c(b,"setObservedNucleus",function(a){this.observedNucl=a;this.is1D()&&(this.parent.nucleusX=this.nucleusX=this.fixNucleus(a))},"~S");c(b,"getObservedNucleus",function(){return this.observedNucl});c(b,"setObservedFreq",function(a){this.observedFreq=a},"~N");c(b,"getObservedFreq",
function(){return this.observedFreq});c(b,"setHydrogenCount",function(a){this.nH=a},"~N");c(b,"getHydrogenCount",function(){return this.nH});c(b,"is1D",function(){return 1==this.numDim});c(b,"getNumDim",function(){return this.numDim});c(b,"setNumDim",function(a){this.numDim=a},"~N");c(b,"setY2D",function(a){this.y2D=a},"~N");c(b,"getY2D",function(){return this.y2D});c(b,"setY2DUnits",function(a){this.y2DUnits=a},"~S");c(b,"getY2DPPM",function(){var a=this.y2D;this.y2DUnits.equals("HZ")&&(a/=this.freq2dY);
return a});c(b,"setNucleusAndFreq",function(a,b){a=this.fixNucleus(a);b?this.nucleusX=a:this.nucleusY=a;var c;if(0<=this.observedNucl.indexOf(a))c=this.observedFreq;else{c=JSV.source.JDXDataObject.getGyromagneticRatio(this.fixNucleus(this.observedNucl));var e=JSV.source.JDXDataObject.getGyromagneticRatio(a);c=this.observedFreq*e/c}b?this.freq2dX=c:this.freq2dY=c;JU.Logger.info("Freq for "+a+" = "+c)},"~S,~B");c(b,"fixNucleus",function(a){return JU.PT.rep(JU.PT.trim(a,"[]^<>"),"NUC_","")},"~S");b.getNominalSpecFreq=
c(b,"getNominalSpecFreq",function(a,b){var c=b*JSV.source.JDXDataObject.getGyromagneticRatio("1H")/JSV.source.JDXDataObject.getGyromagneticRatio(a),e=100*Math.round(c/100);return Double.isNaN(c)?-1:2>Math.abs(c-e)?e:Math.round(c)},"~S,~N");b.getGyromagneticRatio=c(b,"getGyromagneticRatio",function(a){var b=null;try{b=JSV.source.JDXDataObject.gyroMap.get(a);if(null!=b)return b.doubleValue();for(var c=0;c<a.length&&Character.isDigit(a.charAt(c));)c++;b=JSV.source.JDXDataObject.gyroMap.get(a.substring(0,
c));null!=b&&JSV.source.JDXDataObject.gyroMap.put(a,b)}catch(e){if(!z(e,Exception))throw e;}return null==b?NaN:b.doubleValue()},"~S");c(b,"isTransmittance",function(){var a=this.yUnits.toLowerCase();return a.equals("transmittance")||a.contains("trans")||a.equals("t")});c(b,"isAbsorbance",function(){var a=this.yUnits.toLowerCase();return a.equals("absorbance")||a.contains("abs")||a.equals("a")});c(b,"canSaveAsJDX",function(){return this.getDataClass().equals("XYDATA")});c(b,"canIntegrate",function(){return this.continuous&&
(this.isHNMR()||this.isGC())&&this.is1D()});c(b,"isAutoOverlayFromJmolClick",function(){return this.isGC()});c(b,"isGC",function(){return this.dataType.startsWith("GC")||this.dataType.startsWith("GAS")});c(b,"isMS",function(){return this.dataType.startsWith("MASS")||this.dataType.startsWith("MS")});c(b,"isStackable",function(){return!this.isMS()});c(b,"isScalable",function(){return!0});c(b,"getYRef",function(){return!this.isTransmittance()?0:2>JSV.common.Coordinate.getMaxY(this.xyCoords,0,this.xyCoords.length-
1)?1:100});c(b,"isInverted",function(){return this.isTransmittance()});c(b,"canConvertTransAbs",function(){return this.continuous&&this.yUnits.toLowerCase().contains("abs")||this.yUnits.toLowerCase().contains("trans")});c(b,"canShowSolutionColor",function(){return this.isContinuous()&&this.canConvertTransAbs()&&(this.xUnits.toLowerCase().contains("nanometer")||this.xUnits.equalsIgnoreCase("nm"))&&401>this.getFirstX()&&699<this.getLastX()&&30<=this.xyCoords.length});c(b,"isHZtoPPM",function(){return this.$isHZtoPPM});
c(b,"setHZtoPPM",function(a){this.$isHZtoPPM=a},"~B");c(b,"setIncreasing",function(a){this.xIncreases=a},"~B");c(b,"isXIncreasing",function(){return this.xIncreases});c(b,"shouldDisplayXAxisIncreasing",function(){var a=this.dataType.toUpperCase(),b=this.xUnits.toUpperCase();return a.contains("NMR")&&!a.contains("FID")||a.contains("LINK")&&b.contains("CM")||a.startsWith("IR")||a.contains("INFRA")&&b.contains("CM")||a.contains("RAMAN")&&b.contains("CM")?!1:a.contains("VIS")&&b.contains("NANOMETERS")?
!0:this.xIncreases});c(b,"setContinuous",function(a){this.continuous=a},"~B");c(b,"isContinuous",function(){return this.continuous});c(b,"getHeaderRowDataAsArray",function(){var a=8;1.7976931348623157E308!=this.observedFreq&&a++;""!==this.observedNucl&&a++;var b=this.getHeaderRowDataAsArray(!0,a),a=b.length-a;1.7976931348623157E308!=this.observedFreq&&(b[a++]=y(-1,["##.OBSERVE FREQUENCY",""+this.observedFreq]));""!==this.observedNucl&&(b[a++]=y(-1,["##.OBSERVE NUCLEUS",this.observedNucl]));b[a++]=
y(-1,["##XUNITS",this.$isHZtoPPM?"HZ":this.xUnits]);b[a++]=y(-1,["##YUNITS",this.yUnits]);var c=this.xIncreases?this.getFirstX():this.getLastX();b[a++]=y(-1,["##FIRSTX",String.valueOf(this.isHZtoPPM()?c*this.observedFreq:c)]);c=this.xIncreases?this.getLastX():this.getFirstX();b[a++]=y(-1,["##FIRSTY",String.valueOf(this.xIncreases?this.getFirstY():this.getLastY())]);b[a++]=y(-1,["##LASTX",String.valueOf(this.isHZtoPPM()?c*this.observedFreq:c)]);b[a++]=y(-1,["##XFACTOR",String.valueOf(this.getXFactor())]);
b[a++]=y(-1,["##YFACTOR",String.valueOf(this.getYFactor())]);b[a++]=y(-1,["##NPOINTS",String.valueOf(this.xyCoords.length)]);return b});c(b,"getDefaultUnitPrecision",function(){return 2});c(b,"setMeasurementText",function(a){var b=a.getValue();if(Double.isNaN(b))return"";var c=1,e="";if(this.isNMR())if(this.is1D())a=x(a,"JSV.common.Integral"),this.isHNMR()||a?a||(b*=this.observedFreq,e=" Hz"):(e=" ppm",c=2);else return"";return 0.1>b?"":JU.DF.formatDecimalDbl(b,c)+e},"JSV.common.Measurement");c(b,
"isNMR",function(){return 0<=this.dataType.toUpperCase().indexOf("NMR")});c(b,"isHNMR",function(){return this.isNMR()&&0<=this.observedNucl.toUpperCase().indexOf("H")});c(b,"setXYCoords",function(a){this.xyCoords=a},"~A");c(b,"invertYAxis",function(){for(var a=this.xyCoords.length;0<=--a;)this.xyCoords[a].setYVal(-this.xyCoords[a].getYVal());a=this.minY;this.minY=-this.maxY;this.maxY=-a;return this});c(b,"getFirstX",function(){return this.xyCoords[0].getXVal()});c(b,"getFirstY",function(){return this.xyCoords[0].getYVal()});
c(b,"getLastX",function(){return this.xyCoords[this.xyCoords.length-1].getXVal()});c(b,"getLastY",function(){return this.xyCoords[this.xyCoords.length-1].getYVal()});c(b,"getMinX",function(){return Double.isNaN(this.minX)?this.minX=JSV.common.Coordinate.getMinX(this.xyCoords,0,this.xyCoords.length-1):this.minX});c(b,"getMinY",function(){return Double.isNaN(this.minY)?this.minY=JSV.common.Coordinate.getMinY(this.xyCoords,0,this.xyCoords.length-1):this.minY});c(b,"getMaxX",function(){return Double.isNaN(this.maxX)?
this.maxX=JSV.common.Coordinate.getMaxX(this.xyCoords,0,this.xyCoords.length-1):this.maxX});c(b,"getMaxY",function(){return Double.isNaN(this.maxY)?this.maxY=JSV.common.Coordinate.getMaxY(this.xyCoords,0,this.xyCoords.length-1):this.maxY});c(b,"normalizeSimulation",function(a){this.isNMR()&&this.is1D()&&(a/=this.getMaxY(),this.maxY=NaN,JSV.common.Coordinate.applyScale(this.xyCoords,1,a),JU.Logger.info("Y values have been scaled by a factor of "+a))},"~N");c(b,"getDeltaX",function(){return Double.isNaN(this.deltaX)?
this.deltaX=JSV.common.Coordinate.deltaX(this.getLastX(),this.getFirstX(),this.xyCoords.length):this.deltaX});c(b,"copyTo",function(a){a.setTitle(this.title);a.setJcampdx(this.jcampdx);a.setOrigin(this.origin);a.setOwner(this.owner);a.setDataClass(this.dataClass);a.setDataType(this.dataType);a.setHeaderTable(this.headerTable);a.setXFactor(this.xFactor);a.setYFactor(this.yFactor);a.setXUnits(this.xUnits);a.setYUnits(this.yUnits);a.setXLabel(this.xLabel);a.setYLabel(this.yLabel);a.setXYCoords(this.xyCoords);
a.setContinuous(this.continuous);a.setIncreasing(this.xIncreases);a.observedFreq=this.observedFreq;a.observedNucl=this.observedNucl;a.fileShiftRef=this.fileShiftRef;a.fileShiftRefDataPt=this.fileShiftRefDataPt;a.fileShiftRefType=this.fileShiftRefType;a.$isHZtoPPM=this.$isHZtoPPM;a.numDim=this.numDim;a.nucleusX=this.nucleusX;a.nucleusY=this.nucleusY;a.freq2dX=this.freq2dX;a.freq2dY=this.freq2dY;a.setFilePath(this.filePath);a.nH=this.nH},"JSV.source.JDXDataObject");c(b,"getTypeLabel",function(){return this.isNMR()?
this.nucleusX+"NMR":this.dataType});c(b,"getDefaultAnnotationInfo",function(a){var b,c=this.isNMR();switch(a){case JSV.common.Annotation.AType.Integration:return y(-1,[null,D(-1,[1]),null]);case JSV.common.Annotation.AType.Measurements:return a=c?y(-1,["Hz","ppm"]):y(-1,[""]),b=this.isHNMR()?D(-1,[1,4]):D(-1,[1,3]),y(-1,[a,b,Integer.$valueOf(0)]);case JSV.common.Annotation.AType.PeakList:return a=c?y(-1,["Hz","ppm"]):y(-1,[""]),b=this.isHNMR()?D(-1,[1,2]):D(-1,[1,1]),y(-1,[a,b,Integer.$valueOf(c?
1:0)])}return null},"JSV.common.Annotation.AType");c(b,"getPeakListArray",function(a,b,c){var e=a.getXVal();a=a.getYVal();this.isNMR()&&(a/=c);c=Math.abs(e-b[0]);b[0]=e;var h=c+b[1];b[1]=c;var k=h+b[2];b[2]=h;return this.isNMR()?N(-1,[e,a,e*this.observedFreq,20<c*this.observedFreq?0:c*this.observedFreq,20<h*this.observedFreq?0:h*this.observedFreq,20<k*this.observedFreq?0:k*this.observedFreq]):N(-1,[e,a])},"JSV.common.Measurement,~A,~N");c(b,"finalizeCoordinates",function(){var a=Double.isNaN(this.freq2dX)?
this.observedFreq:this.freq2dX,b=1.7976931348623157E308!=a&&this.getXUnits().toUpperCase().equals("HZ");1.7976931348623157E308!=this.fileShiftRef&&(1.7976931348623157E308!=a&&this.dataType.toUpperCase().contains("SPECTRUM")&&0>this.jcampdx.indexOf("JEOL"))&&this.applyShiftReference(b?a:1,this.fileShiftRef);this.fileFirstX>this.fileLastX&&JSV.common.Coordinate.reverse(this.xyCoords);b&&(JSV.common.Coordinate.applyScale(this.xyCoords,1/a,1),this.setXUnits("PPM"),this.setHZtoPPM(!0))});c(b,"setShiftReference",
function(a,b,c){this.fileShiftRef=a;this.fileShiftRefDataPt=0<b?b:1;this.fileShiftRefType=c},"~N,~N,~N");c(b,"isShiftTypeSpecified",function(){return-1!=this.fileShiftRefType});c(b,"applyShiftReference",function(a,b){if(!(this.fileShiftRefDataPt>this.xyCoords.length||0>this.fileShiftRefDataPt)){var c;switch(this.fileShiftRefType){case 0:b=this.xyCoords[this.fileShiftRefDataPt-1].getXVal()-b*a;break;case 1:b=this.fileFirstX-b*a;break;case 2:b=this.fileLastX+b}for(var e=0;e<this.xyCoords.length;e++)c=
this.xyCoords[e],c.setXVal(c.getXVal()-b),this.xyCoords[e]=c}},"~N,~N");E(b,"gyroData",N(-1,[1,42.5774806,2,6.53590131,3,45.4148,3,32.436,6,6.2661,7,16.5483,9,5.9842,10,4.5752,11,13.663,13,10.70839657,14,3.07770646,15,4.3172657,17,5.7742,19,40.07757016,21,3.3631,23,11.26952167,25,2.6083,27,11.1031,29,8.4655,31,17.2514409,33,3.2717,35,4.1765,37,3.4765,37,5.819,39,3.46,39,1.9893,40,2.4737,41,1.0919,43,2.8688,45,10.3591,47,2.4041,49,2.4048,50,4.2505,51,11.2133,53,2.4115,55,10.5763,57,1.3816,59,10.077,
61,3.8114,63,11.2982,65,12.103,67,2.6694,69,10.2478,71,13.0208,73,1.4897,75,7.315,77,8.1571,79,10.7042,81,11.5384,83,1.6442,85,4.1254,87,13.9811,87,1.8525,89,2.0949,91,3.9748,93,10.4523,95,2.7874,97,2.8463,99,9.6294,99,1.9553,101,2.1916,103,1.3477,105,1.957,107,1.7331,109,1.9924,111,9.0692,113,9.4871,113,9.3655,115,9.3856,115,14.0077,117,15.261,119,15.966,121,10.2551,123,5.5532,123,11.2349,125,13.5454,127,8.5778,129,11.8604,131,3.5159,133,5.6234,135,4.2582,137,4.7634,138,5.6615,139,6.0612,137,4.88,
139,5.39,141,2.37,141,13.0359,143,2.319,145,1.429,143,11.59,147,5.62,147,1.7748,149,14631,151,10.5856,153,4.6745,155,1.312,157,1.72,159,10.23,161,1.4654,163,2.0508,165,9.0883,167,1.2281,169,3.531,171,7.5261,173,2.073,175,4.8626,176,3.451,177,1.7282,179,1.0856,180,4.087,181,5.1627,183,1.7957,185,9.7176,187,9.817,187,0.9856,189,3.3536,191,0.7658,191,0.8319,195,9.2922,197,0.7406,199,7.7123,201,2.8469,203,24.7316,205,24.9749,207,9.034,209,6.963,209,11.7,211,9.16,223,5.95,223,1.3746,225,11.187,227,5.6,
229,1.4,231,10.2,235,0.83,237,9.57,239,3.09,243,4.6,1E100]));b.gyroMap=b.prototype.gyroMap=new java.util.Hashtable;for(var b=0,a=JSV.source.JDXDataObject.gyroData.length-1;b<a;b+=2)JSV.source.JDXDataObject.gyroMap.put(""+w(JSV.source.JDXDataObject.gyroData[b]),Double.$valueOf(JSV.source.JDXDataObject.gyroData[b+1]))});t("JSV.source");v(["java.util.Iterator"],"JSV.source.JDXDecompressor",["java.lang.Double","JSV.common.Coordinate","JU.Logger"],function(){var b=q(function(){this.ich=this.nPoints=this.yFactor=
this.xFactor=0;this.t=null;this.lastX=this.firstX=0;this.maxY=4.9E-324;this.minY=1.7976931348623157E308;this.debugging=!1;this.line=this.xyCoords=null;this.lineLen=0;this.errorLog=null;this.lastDif=-2147483648;this.lastY=this.nptsFound=this.dupCount=0;this.isDIF=!0;s(this,arguments)},JSV.source,"JDXDecompressor",null,java.util.Iterator);c(b,"getMinY",function(){return this.minY});c(b,"getMaxY",function(){return this.maxY});p(b,function(a,b,c,e,f,h){this.t=a;this.firstX=b;this.lastX=c;this.xFactor=
e;this.yFactor=f;this.nPoints=h;this.debugging=JU.Logger.isActiveLevel(6)},"JSV.source.JDXSourceStreamTokenizer,~N,~N,~N,~N,~N");p(b,function(a,b){this.line=a.trim();this.lineLen=a.length;this.lastY=b},"~S,~N");c(b,"decompressData",function(a){this.errorLog=a;a=JSV.common.Coordinate.deltaX(this.lastX,this.firstX,this.nPoints);this.debugging&&this.logError("firstX="+this.firstX+" lastX="+this.lastX+" xFactor="+this.xFactor+" yFactor="+this.yFactor+" deltaX="+a+" nPoints="+this.nPoints);this.xyCoords=
Array(this.nPoints);var b=0,c=0,e=this.lastX,f=this.lastX=this.firstX,h=null,k=0,j=0,l=!1,m=this.t.labelLineNo;try{for(;null!=(this.line=this.t.readLineTrimmed())&&0>this.line.indexOf("##");)if(m++,0!=(this.lineLen=this.line.length)){this.ich=0;var p=this.isDIF,n=this.readSignedFloat()*this.xFactor,j=this.nextValue(j);!p&&0<k&&(f+=a);this.debugging&&this.logError("Line: "+m+" isCP="+p+"\t>>"+this.line+"<<\n x, xcheck "+f+" "+f/this.xFactor+" "+n/this.xFactor+" "+a/this.xFactor);var q=j*this.yFactor,
s=(new JSV.common.Coordinate).set(f,q);if(0==k||!p)this.addPoint(s,k++);else if(k<this.nPoints){var t=this.xyCoords[k-1].getYVal();q!=t&&(this.xyCoords[k-1]=s,this.logError(h+"\n"+this.line+"\nY-value Checkpoint Error! Line "+m+" for y="+q+" yLast="+t));(n==b||n<b!=0>a)&&this.logError(h+"\n"+this.line+"\nX-sequence Checkpoint Error! Line "+m+" order for xCheck="+n+" after prevXCheck="+b);var u=Math.abs(n-b),v=Math.abs((k-c)*a),w=Math.abs(u-v)/u;this.debugging&&System.err.println("JDXD fracDif = "+
n+"\t"+b+"\txcheckDif="+u+"\txiptDif="+v+"\tf="+w);0.5<w&&this.logError(h+"\n"+this.line+"\nX-value Checkpoint Error! Line "+m+" expected "+v+" but X-Sequence Check difference reads "+u)}for(var c=1==k?0:k,b=n,x=0;this.hasNext();){var y=this.ich;this.debugging&&this.logError("line "+m+" char "+y+":"+this.line.substring(0,y)+">>>>"+this.line.substring(this.ich));Double.isNaN(j=this.nextValue(j))?this.logError("There was an error reading line "+m+" char "+y+":"+this.line.substring(0,y)+">>>>"+this.line.substring(y)):
(f+=a,1.7976931348623157E308==j&&(j=0,this.logError("Point marked invalid '?' for line "+m+" char "+y+":"+this.line.substring(0,y)+">>>>"+this.line.substring(y))),this.addPoint((new JSV.common.Coordinate).set(f,j*this.yFactor),k++),this.debugging&&this.logError("nx="+ ++x+" "+f+" "+f/this.xFactor+" yval="+j))}this.lastX=f;!l&&k>this.nPoints&&(this.logError("! points overflow nPoints!"),l=!0);h=this.line}}catch(B){if(z(B,"java.io.IOException"))B.printStackTrace();else throw B;}this.checkZeroFill(k,
e);return this.xyCoords},"JU.SB");c(b,"checkZeroFill",function(a,b){this.nptsFound=a;if(this.nPoints==this.nptsFound)1E-5<Math.abs(b-this.lastX)&&this.logError("Something went wrong! The last X value was "+this.lastX+" but expected "+b);else{this.logError("Decompressor did not find "+this.nPoints+" points -- instead "+this.nptsFound+" xyCoords.length set to "+this.nPoints);for(var c=this.nptsFound;c<this.nPoints;c++)this.addPoint((new JSV.common.Coordinate).set(0,NaN),c)}},"~N,~N");c(b,"addPoint",
function(a,b){if(!(b>=this.nPoints)){this.xyCoords[b]=a;var c=a.getYVal();c>this.maxY?this.maxY=c:c<this.minY&&(this.minY=c);this.debugging&&this.logError("Coord: "+b+a)}},"JSV.common.Coordinate,~N");c(b,"logError",function(a){this.debugging&&JU.Logger.debug(a);System.err.println(a);this.errorLog.append(a).appendC("\n")},"~S");c(b,"nextValue",function(a){if(0<this.dupCount)return this.getDuplicate(a);var b=this.skipUnknown();switch(JSV.source.JDXDecompressor.actions[b.charCodeAt(0)]){case 1:return this.isDIF=
!0,a+(this.lastDif=this.readNextInteger("%"==b?0:"R">=b?b.charCodeAt(0)-73:105-b.charCodeAt(0)));case 2:return this.dupCount=this.readNextInteger("s"==b?9:b.charCodeAt(0)-82)-1,this.getDuplicate(a);case 3:a=this.readNextSqueezedNumber(b);break;case 4:this.ich--;a=this.readSignedFloat();break;case -1:a=1.7976931348623157E308;break;default:a=NaN}this.isDIF=!1;return a},"~N");c(b,"skipUnknown",function(){for(var a="\x00";this.ich<this.lineLen&&0==JSV.source.JDXDecompressor.actions[(a=this.line.charAt(this.ich++)).charCodeAt(0)];);
return a});c(b,"readSignedFloat",function(){for(var a=this.ich,b="\x00";this.ich<this.lineLen&&0<=" ,\t\n".indexOf(b=this.line.charAt(this.ich));)this.ich++;var c=1;switch(b.charCodeAt(0)){case 45:c=-1;case 43:a=++this.ich}if("E"==this.scanToNonnumeric()&&this.ich+3<this.lineLen)switch(this.line.charAt(this.ich+1).charCodeAt(0)){case 45:case 43:this.ich+=4,this.ich<this.lineLen&&("0"<=(b=this.line.charAt(this.ich))&&"9">=b)&&this.ich++}return c*Double.parseDouble(this.line.substring(a,this.ich))});
c(b,"getDuplicate",function(a){this.dupCount--;return this.isDIF?a+this.lastDif:a},"~N");c(b,"readNextInteger",function(a){for(var b=String.fromCharCode(0);this.ich<this.lineLen&&"0"<=(b=this.line.charAt(this.ich))&&"9">=b;)a=10*a+(0>a?48-b.charCodeAt(0):b.charCodeAt(0)-48),this.ich++;return a},"~N");c(b,"readNextSqueezedNumber",function(a){var b=this.ich;this.scanToNonnumeric();return Double.parseDouble((96<a.charCodeAt(0)?96-a.charCodeAt(0):a.charCodeAt(0)-64)+this.line.substring(b,this.ich))},
"~S");c(b,"scanToNonnumeric",function(){for(var a=String.fromCharCode(0);this.ich<this.lineLen&&("."==(a=this.line.charAt(this.ich))||"0"<=a&&"9">=a);)this.ich++;return this.ich<this.lineLen?a:"\x00"});c(b,"getNPointsFound",function(){return this.nptsFound});e(b,"hasNext",function(){return this.ich<this.lineLen||0<this.dupCount});e(b,"next",function(){return this.hasNext()?Double.$valueOf(this.lastY=this.nextValue(this.lastY)):null});e(b,"remove",function(){});E(b,"actions",D(255,0));for(b=37;115>=
b;b++)switch(String.fromCharCode(b).charCodeAt(0)){case 37:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:JSV.source.JDXDecompressor.actions[b]=1;break;case 43:case 45:case 46:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:JSV.source.JDXDecompressor.actions[b]=4;break;case 63:JSV.source.JDXDecompressor.actions[b]=-1;break;case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:JSV.source.JDXDecompressor.actions[b]=
3;break;case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 115:JSV.source.JDXDecompressor.actions[b]=2}});t("JSV.source");v(["JU.Lst"],"JSV.source.JDXHeader",null,function(){var b=q(function(){this.title="";this.jcampdx="5.01";this.origin=this.dataClass=this.dataType="";this.owner="PUBLIC DOMAIN";this.time=this.date=this.longDate="";this.headerTable=this.qualifiedType=null;s(this,arguments)},JSV.source,"JDXHeader");H(b,function(){this.headerTable=new JU.Lst});c(b,"setTitle",function(a){this.title=
a},"~S");c(b,"setJcampdx",function(a){this.jcampdx=a},"~S");c(b,"setDataType",function(a){this.dataType=a},"~S");c(b,"setDataClass",function(a){this.dataClass=a},"~S");c(b,"setOrigin",function(a){this.origin=a},"~S");c(b,"setOwner",function(a){this.owner=a},"~S");c(b,"setLongDate",function(a){this.longDate=a},"~S");c(b,"setDate",function(a){this.date=a},"~S");c(b,"setTime",function(a){this.time=a},"~S");c(b,"getTitle",function(){return this.title});b.getTypeName=c(b,"getTypeName",function(a){a=a.toUpperCase();
for(var b=0;b<JSV.source.JDXHeader.typeNames.length;b++)if(JSV.source.JDXHeader.typeNames[b].startsWith(a))return JSV.source.JDXHeader.typeNames[b].substring(18);return a},"~S");c(b,"getQualifiedDataType",function(){return null==this.qualifiedType?this.qualifiedType=JSV.source.JDXHeader.getTypeName(this.dataType):this.qualifiedType});c(b,"getJcampdx",function(){return this.jcampdx});c(b,"getDataType",function(){return this.dataType});c(b,"getOrigin",function(){return this.origin});c(b,"getOwner",
function(){return this.owner});c(b,"getLongDate",function(){return this.longDate});c(b,"getDate",function(){return this.date});c(b,"getTime",function(){return this.time});c(b,"getDataClass",function(){return this.dataClass});c(b,"setHeaderTable",function(a){this.headerTable=a},"JU.Lst");c(b,"getHeaderTable",function(){return this.headerTable});c(b,"getHeaderRowDataAsArray",function(a,b){var c=Array((a?6:5)+this.headerTable.size()+b),e=0;c[e++]=y(-1,["##TITLE",this.title]);c[e++]=y(-1,["##JCAMP-DX",
this.jcampdx]);c[e++]=y(-1,["##DATA TYPE",this.dataType]);a&&(c[e++]=y(-1,["##DATA CLASS",this.dataClass]));c[e++]=y(-1,["##ORIGIN",this.origin]);c[e++]=y(-1,["##OWNER",this.owner]);for(var f=0;f<this.headerTable.size();f++)c[e++]=this.getRow(f);return c},"~B,~N");c(b,"getRow",function(a){a=this.headerTable.get(a);return[a[0],JU.PT.rep(a[1],"<","&lt;")]},"~N");E(b,"typeNames",y(-1,"ND NMR SPECTRUM   NMR;NMR SPECTRUM      NMR;INFRARED SPECTRUM IR;MASS SPECTRUM     MS;RAMAN SPECTRUM    RAMAN;GAS CHROMATOGRAM  GC;UV/VIS SPECTRUM   UV/VIS".split(";")))});
t("JSV.source");v(["J.api.JmolJDXMOLReader"],"JSV.source.JDXReader","java.io.BufferedReader $.StringReader java.lang.Double $.Float java.util.Hashtable $.LinkedHashMap $.StringTokenizer javajs.api.Interface JU.AU $.Lst $.PT $.Rdr $.SB JSV.common.Coordinate $.JSVFileManager $.JSViewer $.PeakInfo $.Spectrum JSV.exception.JSVException JSV.source.JDXDecompressor $.JDXSource $.JDXSourceStreamTokenizer JU.Logger".split(" "),function(){var b=q(function(){this.nmrMaxY=NaN;this.errorLog=this.t=this.source=
null;this.isZipFile=this.done=this.obscure=!1;this.filePath=null;this.loadImaginary=!0;this.ignorePeakTables=this.ignoreShiftReference=this.isSimulation=!1;this.lastErrPath=null;this.isTabularData=!1;this.blockID=this.nSpec=this.lastSpec=this.firstSpec=0;this.peakData=this.acdMolFile=this.acdAssignments=this.modelSpectrum=this.reader=this.mpr=null;s(this,arguments)},JSV.source,"JDXReader",null,J.api.JmolJDXMOLReader);b.getVarList=c(b,"getVarList",function(a){a=JSV.source.JDXReader.VAR_LIST_TABLE[0].indexOf(a);
return JSV.source.JDXReader.VAR_LIST_TABLE[1].substring(a+1,a+12).trim()},"~S");p(b,function(a,b,c,e,f,h){a=JU.PT.trimQuotes(a);if(this.isSimulation=null!=a&&a.startsWith("http://SIMULATION/"))this.nmrMaxY=Float.isNaN(h)?1E4:h;this.filePath=a;this.obscure=b;this.firstSpec=e;this.lastSpec=f;this.loadImaginary=c},"~S,~B,~B,~N,~N,~N");b.createJDXSourceFromStream=c(b,"createJDXSourceFromStream",function(a,b,c,e){return JSV.source.JDXReader.createJDXSource(null,a,"stream",b,c,-1,-1,e)},"java.io.InputStream,~B,~B,~N");
b.getHeaderMap=c(b,"getHeaderMap",function(a,b){return JSV.source.JDXReader.getHeaderMapS(a,b,null)},"java.io.InputStream,java.util.Map");b.getHeaderMapS=c(b,"getHeaderMapS",function(a,b,c){null==b&&(b=new java.util.LinkedHashMap);a=JSV.source.JDXReader.createJDXSource(null,a,null,!1,!1,0,-1,0).getJDXSpectrum(0).headerTable;for(var e=0,f=a.size();e<f;e++){var h=a.get(e);b.put(null==c?h[2]:h[2]+c,h[1])}return b},"java.io.InputStream,java.util.Map,~S");b.createJDXSource=c(b,"createJDXSource",function(a,
b,c,e,f,h,k,j){var l=k<h,m=null,n=null;if(JU.AU.isAB(b)&&(n=b,JU.Rdr.isZipB(n)))return JSV.source.JDXReader.readBrukerFileZip(n,null==a?c:a.getFullPath());"string"==typeof b||null!=n?("string"==typeof b&&(m=b),b=JSV.common.JSVFileManager.getBufferedReaderForStringOrBytes(b)):b=x(b,"java.io.InputStream")?JSV.common.JSVFileManager.getBufferedReaderForInputStream(b):b;var p=n=null;try{if(null==b){if(null!=a&&a.isDirectory())return JSV.source.JDXReader.readBrukerFileDir(a.getFullPath());b=JSV.common.JSVFileManager.getBufferedReaderFromName(c,
"##TITLE")}if(!l){b.mark(400);var q=P(400,"\x00");b.read(q,0,400);b.reset();n=String.instantialize(q);if(n.startsWith("PK"))return b.close(),JSV.source.JDXReader.readBrukerFileZip(null,a.getFullPath());if(0<=n.indexOf("\x00")||0<=n.indexOf("\ufffd")||0==n.indexOf("##TITLE= Parameter file")||0==n.indexOf("##TITLE= Audit trail"))return b.close(),JSV.source.JDXReader.readBrukerFileDir(a.getParentAsFile().getFullPath());var s=n.indexOf("#"),t=n.indexOf("<");if(0>s||0<=t&&t<s){var u=n.toLowerCase(),u=
u.contains("<animl")||u.contains("<!doctype technique")?"AnIML":u.contains("xml-cml")?"CML":null;if(null==u)return JSV.source.JDXReader.readBrukerFileDir(a.getFullPath());p=JSV.common.JSViewer.getInterface("JSV.source."+u+"Reader").getSource(c,b);b.close();if(null==p)throw JU.Logger.error(n+"..."),new JSV.exception.JSVException("File type not recognized");}}null==p&&(p=(new JSV.source.JDXReader(c,e,f,h,k,j)).getJDXSource(b,l));null!=m&&p.setInlineData(m);return p}catch(v){if(z(v,Exception))throw JSV.common.JSViewer.isJS||
v.printStackTrace(),null!=b&&b.close(),null!=n&&JU.Logger.error(n+"..."),a=v.getMessage(),new JSV.exception.JSVException("Error reading data: "+a);throw v;}},"J.api.GenericFileInterface,~O,~S,~B,~B,~N,~N,~N");b.readBrukerFileDir=c(b,"readBrukerFileDir",function(a){return javajs.api.Interface.getInterface("JSV.source.BrukerReader").readBrukerDir(a)},"~S");b.readBrukerFileZip=c(b,"readBrukerFileZip",function(a,b){return javajs.api.Interface.getInterface("JSV.source.BrukerReader").readBrukerZip(a,b)},
"~A,~S");c(b,"getJDXSource",function(a,b){this.source=new JSV.source.JDXSource(0,this.filePath);this.isZipFile=x(a,"JSV.api.JSVZipReader");this.t=new JSV.source.JDXSourceStreamTokenizer(a);this.errorLog=new JU.SB;for(var c=null,e=null,f=!1;!this.done&&"##TITLE".equals(this.t.peakLabel());){f=!0;null!=c&&!this.isZipFile&&this.logError("Warning - file is a concatenation without LINK record -- does not conform to JCAMP-DX standard 6.1.3!");var h=new JSV.common.Spectrum,k=new JU.Lst;for(b&&h.setHeaderTable(k);!this.done&&
null!=(c=this.t.getLabel())&&null!=(e=this.getValue(c));)if(this.isTabularData){if(this.processTabularData(h,k,c,b),this.addSpectrum(h,!1),this.isSimulation&&h.getXUnits().equals("PPM")&&h.setHZtoPPM(!0),h=null,b){JSV.source.JDXReader.addHeader(k,this.t.rawLabel,"<data>");break}}else{if(!b){if(c.equals("##DATATYPE")&&e.toUpperCase().equals("LINK")){this.getBlockSpectra(k);h=null;continue}if(c.equals("##NTUPLES")||c.equals("##VARNAME")){this.getNTupleSpectra(k,h,c);h=null;continue}}c.equals("##JCAMPDX")&&
this.setVenderSpecificValues(this.t.rawLine);null==h&&(h=new JSV.common.Spectrum);this.processLabel(h,k,c,e,b)}b&&null!=h&&this.addSpectrum(h,!1)}if(!f)throw new JSV.exception.JSVException("##TITLE record not found");this.source.setErrorLog(this.errorLog.toString());return this.source},"~O,~B");c(b,"processLabel",function(a,b,c,e,f){if(this.readDataLabel(a,c,e,this.errorLog,this.obscure,f)||f)JSV.source.JDXReader.addHeader(b,this.t.rawLabel,e),f||this.checkCustomTags(a,c,e)},"JSV.common.Spectrum,JU.Lst,~S,~S,~B");
c(b,"logError",function(a){this.errorLog.append(null==this.filePath||this.filePath.equals(this.lastErrPath)?"":this.filePath).append("\n").append(a).append("\n");this.lastErrPath=this.filePath},"~S");c(b,"setVenderSpecificValues",function(a){0<=a.indexOf("JEOL")&&(System.out.println("Skipping ##SHIFTREFERENCE for JEOL "+a),this.ignoreShiftReference=!0);0<=a.indexOf("MestReNova")&&(this.ignorePeakTables=!0)},"~S");c(b,"getValue",function(a){var b=this.isTabularDataLabel(a)?"":this.t.getValue();return"##END".equals(a)?
null:b},"~S");c(b,"isTabularDataLabel",function(a){return this.isTabularData=0<="##DATATABLE##PEAKTABLE##XYDATA##XYPOINTS#".indexOf(a+"#")},"~S");c(b,"addSpectrum",function(a,b){if(!this.loadImaginary&&a.isImaginary())return JU.Logger.info("FileReader skipping imaginary spectrum -- use LOADIMAGINARY TRUE to load this spectrum."),!0;if(null!=this.acdAssignments){if(!a.dataType.equals("MASS SPECTRUM")&&!a.isContinuous())return JU.Logger.info("Skipping ACD Labs line spectrum for "+a),!0;if(0<this.acdAssignments.size())try{this.mpr.setACDAssignments(a.title,
a.getTypeLabel(),this.source.peakCount,this.acdAssignments,this.acdMolFile)}catch(c){if(z(c,Exception))JU.Logger.info("Failed to create peak data: "+c);else throw c;}null!=this.acdMolFile&&JSV.common.JSVFileManager.cachePut("mol",this.acdMolFile)}Float.isNaN(this.nmrMaxY)?1E4<=a.getMaxY()&&a.normalizeSimulation(1E3):a.normalizeSimulation(this.nmrMaxY);this.isSimulation&&a.setSimulated(this.filePath);this.nSpec++;if(0<this.firstSpec&&this.nSpec<this.firstSpec)return!0;if(0<this.lastSpec&&this.nSpec>
this.lastSpec)return!(this.done=!0);a.setBlockID(this.blockID);this.source.addJDXSpectrum(null,a,b);return!0},"JSV.common.Spectrum,~B");c(b,"getBlockSpectra",function(a){JU.Logger.debug("--JDX block start--");for(var b="",c=null,e=0==this.source.type,f=!1;null!=(b=this.t.getLabel())&&!b.equals("##TITLE");)c=this.getValue(b),e&&!JSV.source.JDXReader.readHeaderLabel(this.source,b,c,this.errorLog,this.obscure)&&JSV.source.JDXReader.addHeader(a,this.t.rawLabel,c),b.equals("##BLOCKS")&&100<JU.PT.parseInt(c)&&
0>=this.firstSpec&&(f=!0);c=this.getValue(b);if(!"##TITLE".equals(b))throw new JSV.exception.JSVException("Unable to read block source");e&&this.source.setHeaderTable(a);this.source.type=1;this.source.isCompoundSource=!0;e=new JSV.common.Spectrum;a=new JU.Lst;this.readDataLabel(e,b,c,this.errorLog,this.obscure,!1);try{for(var h;null!=(h=this.t.getLabel());){if(null==(c=this.getValue(h))&&"##END".equals(b)){JU.Logger.debug("##END= "+this.t.getValue());break}b=h;if(this.isTabularData)this.processTabularData(e,
a,b,!1);else{if(b.equals("##DATATYPE"))if(c.toUpperCase().equals("LINK"))this.getBlockSpectra(a),b=e=null;else{if(c.toUpperCase().startsWith("NMR PEAK")&&this.ignorePeakTables)return this.done=!0,this.source}else if(b.equals("##NTUPLES")||b.equals("##VARNAME"))this.getNTupleSpectra(a,e,b),e=null,b="";if(this.done)break;if(null==e){e=new JSV.common.Spectrum;a=new JU.Lst;if(""===b)continue;if(null==b){b="##END";continue}}if(null==c){if(0<e.getXYCoords().length&&!this.addSpectrum(e,f))return this.source;
e=new JSV.common.Spectrum;a=new JU.Lst}else this.processLabel(e,a,b,c,!1)}}}catch(k){if(z(k,Exception))throw JSV.common.JSViewer.isJS||k.printStackTrace(),new JSV.exception.JSVException(k.getMessage());throw k;}this.addErrorLogSeparator();this.source.setErrorLog(this.errorLog.toString());JU.Logger.debug("--JDX block end--");return this.source},"JU.Lst");c(b,"addErrorLogSeparator",function(){0<this.errorLog.length()&&this.errorLog.lastIndexOf("=====================\n")!=this.errorLog.length()-22&&
this.logError("=====================\n")});c(b,"getNTupleSpectra",function(a,b,c){var e=N(-1,[1.7976931348623157E308,4.9E-324]);this.blockID=Math.random();0<this.firstSpec&&b.setNumDim(1);var f=c.equals("##VARNAME");f||(c="");var h=new java.util.Hashtable,k=Array(2);0==this.source.type&&(this.source.type=2,this.source.isCompoundSource=!0,this.source.setHeaderTable(a));for(;!(c=f?c:this.t.getLabel()).equals("##PAGE");){for(var f=!1,j=new java.util.StringTokenizer(this.t.getValue(),","),l=new JU.Lst;j.hasMoreTokens();)l.addLast(j.nextToken().trim());
h.put(c,l)}f=h.get("##SYMBOL");if(!c.equals("##PAGE"))throw new JSV.exception.JSVException("Error Reading NTuple Source");for(var j=this.t.getValue(),l=null,m=!0;!this.done;){if((c=this.t.getLabel()).equals("##ENDNTUPLES")){this.t.getValue();break}if(c.equals("##PAGE"))j=this.t.getValue();else{if(null==l&&(l=new JSV.common.Spectrum,b.copyTo(l),l.setTitle(b.getTitle()),!l.is1D())){var n=j.indexOf("=");if(0<=n)try{l.setY2D(this.parseAFFN(j.substring(0,n),j.substring(n+1).trim()));var p=j.substring(0,
n).trim(),q=f.indexOf(p);0<=q&&l.setY2DUnits(h.get("##UNITS").get(q))}catch(s){if(!z(s,Exception))throw s;}}n=new JU.Lst;for(l.setHeaderTable(n);!c.equals("##DATATABLE");)JSV.source.JDXReader.addHeader(n,this.t.rawLabel,this.t.getValue()),c=this.t.getLabel();c=!0;q=this.t.flushLine();0<q.trim().indexOf("PEAKS")&&(c=!1);var t=q.indexOf("("),u=q.lastIndexOf(")");if(-1==t||-1==u)throw new JSV.exception.JSVException("Variable List not Found");t=q.substring(t,u+1);for(q=u=0;q<f.size();q++){var v=f.get(q).trim();
-1!=t.indexOf(v)&&(k[u++]=v);if(2==u)break}this.setTabularDataType(l,"##"+(c?"XYDATA":"PEAKTABLE"));if(!this.readNTUPLECoords(l,h,k,e))throw new JSV.exception.JSVException("Unable to read Ntuple Source");l.nucleusX.equals("?")||(b.nucleusX=l.nucleusX);b.nucleusY=l.nucleusY;b.freq2dX=l.freq2dX;b.freq2dY=l.freq2dY;b.y2DUnits=l.y2DUnits;for(q=0;q<a.size();q++)c=a.get(q),t=JSV.source.JDXSourceStreamTokenizer.cleanLabel(c[0]),!t.equals("##TITLE")&&(!t.equals("##DATACLASS")&&!t.equals("##NTUPLES"))&&n.addLast(c);
this.addSpectrum(l,!m);m=!1;l=null}}this.addErrorLogSeparator();this.source.setErrorLog(this.errorLog.toString());JU.Logger.info("NTUPLE MIN/MAX Y = "+e[0]+" "+e[1]);return this.source},"JU.Lst,JSV.source.JDXDataObject,~S");c(b,"readDataLabel",function(a,b,c,e,f){if(!JSV.source.JDXReader.readHeaderLabel(a,b,c,e,f))return!1;b+=" ";if(0<="##MINX ##MINY ##MAXX ##MAXY ##FIRSTY ##DELTAX ##DATACLASS ".indexOf(b))return!1;switch("##FIRSTX  ##LASTX   ##NPOINTS ##XFACTOR ##YFACTOR ##XUNITS  ##YUNITS  ##XLABEL  ##YLABEL  ##NUMDIM  ##OFFSET  ".indexOf(b)){case 0:return a.fileFirstX=
this.parseAFFN(b,c),!1;case 10:return a.fileLastX=this.parseAFFN(b,c),!1;case 20:return a.fileNPoints=Integer.parseInt(c),!1;case 30:return a.setXFactor(this.parseAFFN(b,c)),!1;case 40:return a.yFactor=this.parseAFFN(b,c),!1;case 50:return a.setXUnits(c),!1;case 60:return a.setYUnits(c),!1;case 70:return a.setXLabel(c),!0;case 80:return a.setYLabel(c),!0;case 90:return a.setNumDim(Integer.parseInt(c)),!1;case 100:return a.isShiftTypeSpecified()||a.setShiftReference(this.parseAFFN(b,c),1,1),!1;default:if(17>
b.length)return!0;if(b.equals("##.OBSERVEFREQUENCY "))return a.setObservedFreq(this.parseAFFN(b,c)),!1;if(b.equals("##.OBSERVENUCLEUS "))return a.setObservedNucleus(c),!1;if(b.equals("##$REFERENCEPOINT ")&&!a.isShiftTypeSpecified()){var h=c.indexOf(" ");0<h&&(c=c.substring(0,h));a.setShiftReference(this.parseAFFN(b,c),1,2);return!1}if(b.equals("##.SHIFTREFERENCE ")){if(this.ignoreShiftReference||!a.dataType.toUpperCase().contains("SPECTRUM"))return!1;c=JU.PT.replaceAllCharacters(c,")(","");c=new java.util.StringTokenizer(c,
",");if(4!=c.countTokens())return!1;try{c.nextToken();c.nextToken();var h=Integer.parseInt(c.nextToken().trim()),k=this.parseAFFN(b,c.nextToken().trim());a.setShiftReference(k,h,0)}catch(j){if(!z(j,Exception))throw j;}return!1}return!0}},"JSV.source.JDXDataObject,~S,~S,JU.SB,~B,~B");b.readHeaderLabel=c(b,"readHeaderLabel",function(a,b,c,e,f){switch("##TITLE#####JCAMPDX###ORIGIN####OWNER#####DATATYPE##LONGDATE##DATE######TIME####".indexOf(b+"#")){case 0:return a.setTitle(f||null==c||c.equals("")?"Unknown":
c),!1;case 10:return a.jcampdx=c,a=JU.PT.parseFloat(c),(6<=a||Float.isNaN(a))&&null!=e&&e.append("Warning: JCAMP-DX version may not be fully supported: "+c),!1;case 20:return a.origin=null!=c&&!c.equals("")?c:"Unknown",!1;case 30:return a.owner=null!=c&&!c.equals("")?c:"Unknown",!1;case 40:return a.dataType=c,!1;case 50:return a.longDate=c,!1;case 60:return a.date=c,!1;case 70:return a.time=c,!1}return!0},"JSV.source.JDXHeader,~S,~S,JU.SB,~B");c(b,"setTabularDataType",function(a,b){b.equals("##PEAKASSIGNMENTS")?
a.setDataClass("PEAKASSIGNMENTS"):b.equals("##PEAKTABLE")?a.setDataClass("PEAKTABLE"):b.equals("##XYDATA")?a.setDataClass("XYDATA"):b.equals("##XYPOINTS")&&a.setDataClass("XYPOINTS")},"JSV.source.JDXDataObject,~S");c(b,"processTabularData",function(a,b,c,e){this.setTabularDataType(a,c);a.setHeaderTable(b);if(a.dataClass.equals("XYDATA"))a.checkJDXRequiredTokens(),e||this.decompressData(a,null);else if(a.dataClass.equals("PEAKTABLE")||a.dataClass.equals("XYPOINTS")){a.setContinuous(a.dataClass.equals("XYPOINTS"));
try{this.t.readLineTrimmed()}catch(f){if(!z(f,"java.io.IOException"))throw f;}1.7976931348623157E308!=a.xFactor&&1.7976931348623157E308!=a.yFactor?(b=this.t.getValue(),b=JSV.common.Coordinate.parseDSV(b,a.xFactor,a.yFactor)):b=JSV.common.Coordinate.parseDSV(this.t.getValue(),1,1);a.setXYCoords(b);b=JSV.common.Coordinate.deltaX(b[b.length-1].getXVal(),b[0].getXVal(),b.length);a.setIncreasing(0<b)}else throw new JSV.exception.JSVException("Unable to read JDX file tabular data for line "+this.t.labelLineNo);
},"JSV.source.JDXDataObject,JU.Lst,~S,~B");c(b,"readNTUPLECoords",function(a,b,c,e){var f;if(a.dataClass.equals("XYDATA")){f=b.get("##SYMBOL");var h=f.indexOf(c[0]),k=f.indexOf(c[1]);f=b.get("##VARNAME");a.setVarName(f.get(k).toUpperCase());f=b.get(c="##FACTOR");a.setXFactor(this.parseAFFN(c,f.get(h)));a.setYFactor(this.parseAFFN(c,f.get(k)));f=b.get(c="##LAST");a.fileLastX=this.parseAFFN(c,f.get(h));f=b.get(c="##FIRST");a.fileFirstX=this.parseAFFN(c,f.get(h));f=b.get("##VARDIM");a.fileNPoints=Integer.parseInt(f.get(h));
f=b.get("##UNITS");a.setXUnits(f.get(h));a.setYUnits(f.get(k));null==a.nucleusX&&null!=(f=b.get("##.NUCLEUS"))?(a.setNucleusAndFreq(f.get(0),!1),a.setNucleusAndFreq(f.get(h),!0)):null==a.nucleusX&&(a.nucleusX="?");this.decompressData(a,e);return!0}return a.dataClass.equals("PEAKTABLE")||a.dataClass.equals("XYPOINTS")?(a.setContinuous(a.dataClass.equals("XYPOINTS")),f=b.get("##SYMBOL"),h=f.indexOf(c[0]),k=f.indexOf(c[1]),f=b.get("##UNITS"),a.setXUnits(f.get(h)),a.setYUnits(f.get(k)),a.setXYCoords(JSV.common.Coordinate.parseDSV(this.t.getValue(),
a.xFactor,a.yFactor)),!0):!1},"JSV.source.JDXDataObject,java.util.Map,~A,~A");c(b,"parseAFFN",function(a,b){var c=b.indexOf("E");if(0<c){var e;switch(b.length-c){case 2:case 3:this.logError("Warning - "+a+" value "+b+" is not of the format xxxE[+/-]nn or xxxE[+/-]nnn (spec. 4.5.3) -- warning only; accepted");break;case 4:case 5:if("+"==(e=b.charAt(c+1))||"-"==e)break;default:this.logError("Error - "+a+" value "+b+" is not of the format xxxE[+/-]nn or xxxE[+/-]nnn (spec. 4.5.3) -- "+b.substring(c)+
" ignored!"),b=b.substring(0,c)}}return Double.parseDouble(b)},"~S,~S");c(b,"decompressData",function(a,b){var c=this.errorLog.length();a.setIncreasing(a.fileLastX>a.fileFirstX);a.setContinuous(!0);var e=new JSV.source.JDXDecompressor(this.t,a.fileFirstX,a.fileLastX,a.xFactor,a.yFactor,a.fileNPoints),f=System.currentTimeMillis(),h=e.decompressData(this.errorLog);JU.Logger.debugging&&JU.Logger.debug("decompression time = "+(System.currentTimeMillis()-f)+" ms");a.setXYCoords(h);f=e.getMinY();null!=
b&&(f<b[0]&&(b[0]=f),f=e.getMaxY(),f>b[1]&&(b[1]=f));a.finalizeCoordinates();this.errorLog.length()!=c&&(c=JSV.common.Coordinate.deltaX(a.fileLastX,a.fileFirstX,a.fileNPoints),this.logError(a.getTitle()),this.logError("firstX from Header "+a.fileFirstX),this.logError("lastX from Header "+a.fileLastX+" Found "+e.lastX),this.logError("deltaX from Header "+c),this.logError("Number of points in Header "+a.fileNPoints+" Found "+e.getNPointsFound()));JU.Logger.debugging&&System.err.println(this.errorLog.toString())},
"JSV.source.JDXDataObject,~A");b.addHeader=c(b,"addHeader",function(a,b,c){for(var e=null,f=0;f<a.size();f++)if((e=a.get(f))[0].equals(b)){e[1]=c;return}a.addLast(y(-1,[b,c,JSV.source.JDXSourceStreamTokenizer.cleanLabel(b)]))},"JU.Lst,~S,~S");c(b,"checkCustomTags",function(a,b,c){10<b.length&&(b=b.substring(0,10));null==a?System.out.println(b):this.modelSpectrum=a;b="##$MODELS ##$PEAKS  ##$SIGNALS##$MOLFILE##PEAKASSI##$UVIRASS##$MSFRAGM".indexOf(b);if(0>b)return!1;this.getMpr().set(this,this.filePath,
null);try{switch(this.reader=new java.io.BufferedReader(new java.io.StringReader(c)),b){case 0:this.mpr.readModels();break;case 10:case 20:this.peakData=new JU.Lst;this.source.peakCount+=this.mpr.readPeaks(20==b,this.source.peakCount);break;case 30:this.acdAssignments=new JU.Lst;this.acdMolFile=JU.PT.rep(c,"$$ Empty String","");break;case 40:case 50:case 60:this.acdAssignments=this.mpr.readACDAssignments(a.fileNPoints,40==b);break}}catch(e){if(z(e,Exception))throw new JSV.exception.JSVException(e.getMessage());
throw e;}finally{this.reader=null}return!0},"JSV.common.Spectrum,~S,~S");c(b,"getMpr",function(){return null==this.mpr?this.mpr=JSV.common.JSViewer.getInterface("J.jsv.JDXMOLParser"):this.mpr});e(b,"rd",function(){return this.reader.readLine()});e(b,"setSpectrumPeaks",function(a,b,c){this.modelSpectrum.setPeakList(this.peakData,b,c);this.modelSpectrum.isNMR()&&this.modelSpectrum.setHydrogenCount(a)},"~N,~S,~S");e(b,"addPeakData",function(a){null==this.peakData&&(this.peakData=new JU.Lst);this.peakData.addLast(new JSV.common.PeakInfo(a))},
"~S");e(b,"processModelData",function(){},"~S,~S,~S,~S,~S,~N,~N,~B");e(b,"discardLinesUntilContains",function(a){for(var b;null!=(b=this.rd())&&0>b.indexOf(a););return b},"~S");e(b,"discardLinesUntilContains2",function(a,b){for(var c;null!=(c=this.rd())&&0>c.indexOf(a)&&0>c.indexOf(b););return c},"~S,~S");e(b,"discardLinesUntilNonBlank",function(){for(var a;null!=(a=this.rd())&&0==a.trim().length;);return a});E(b,"VAR_LIST_TABLE",y(-1,["PEAKTABLE   XYDATA      XYPOINTS"," (XY..XY)    (X++(Y..Y)) (XY..XY)    "]))});
t("JSV.source");v(["JSV.source.JDXHeader"],"JSV.source.JDXSource",["JU.Lst"],function(){var b=q(function(){this.type=0;this.isCompoundSource=!1;this.jdxSpectra=null;this.errors="";this.filePath=null;this.peakCount=0;this.isView=!1;this.inlineData=null;s(this,arguments)},JSV.source,"JDXSource",JSV.source.JDXHeader);c(b,"dispose",function(){this.jdxSpectra=this.headerTable=null});p(b,function(a,b){B(this,JSV.source.JDXSource,[]);this.type=a;this.setFilePath(b);this.headerTable=new JU.Lst;this.jdxSpectra=
new JU.Lst;this.isCompoundSource=0!=a},"~N,~S");c(b,"getJDXSpectrum",function(a){return this.jdxSpectra.size()<=a?null:this.jdxSpectra.get(a)},"~N");c(b,"addJDXSpectrum",function(a,b,c){null==a&&(a=this.filePath);b.setFilePath(a);null!=this.inlineData&&b.setInlineData(this.inlineData);a=this.jdxSpectra.size();(0==a||!this.jdxSpectra.get(a-1).addSubSpectrum(b,c))&&this.jdxSpectra.addLast(b)},"~S,JSV.common.Spectrum,~B");c(b,"getNumberOfSpectra",function(){return this.jdxSpectra.size()});c(b,"getSpectra",
function(){return this.jdxSpectra});c(b,"getSpectraAsArray",function(){return null==this.jdxSpectra?null:this.jdxSpectra.toArray()});c(b,"getErrorLog",function(){return this.errors});c(b,"setErrorLog",function(a){this.errors=a},"~S");c(b,"setFilePath",function(a){this.filePath=a},"~S");c(b,"getFilePath",function(){return this.filePath});b.createView=c(b,"createView",function(a){var b=new JSV.source.JDXSource(-2,"view");b.isView=!0;for(var c=0;c<a.size();c++)b.addJDXSpectrum(a.get(c).getFilePath(),
a.get(c),!1);return b},"JU.Lst");c(b,"getHeaderRowDataAsArray",function(a,b){null==b&&(b=y(0,0,null));for(var c=this.getHeaderRowDataAsArray(a,b.length),e=b.length;0<=--e;)c[c.length-b.length+e]=b[e];return c},"~B,~A");c(b,"setID",function(a){this.jdxSpectra.get(0).sourceID=a},"~S");c(b,"matchesFilePath",function(a){return this.filePath.equals(a)||this.filePath.$replace("\\","/").equals(a)},"~S");c(b,"setInlineData",function(a){this.inlineData=a;if(null!=this.jdxSpectra)for(var b=this.jdxSpectra.size();0<=
--b;)this.jdxSpectra.get(b).setInlineData(a)},"~S")});t("JSV.source");v(null,"JSV.source.JDXSourceStreamTokenizer",["java.lang.Character","JU.SB","JU.Logger"],function(){var b=q(function(){this.value=this.rawLabel=this.br=null;this.labelLineNo=0;this.line=null;this.lineNo=0;this.rawLine=null;s(this,arguments)},JSV.source,"JDXSourceStreamTokenizer");p(b,function(a){this.br=a},"java.io.BufferedReader");c(b,"peakLabel",function(){return this.nextLabel(!1)});c(b,"getLabel",function(){return this.nextLabel(!0)});
c(b,"nextLabel",function(a){for(this.value=this.rawLabel=null;null==this.line||0==this.line.length;){try{this.readLine();if(null==this.line)return this.line="",null;this.line=this.line.trim()}catch(b){if(z(b,"java.io.IOException"))return this.line="",null;throw b;}if(this.line.startsWith("##"))break;this.line=null}this.rawLine=this.line;var c=this.line.indexOf("=");0>c?(a&&JU.Logger.info("BAD JDX LINE -- no '=' (line "+this.lineNo+"): "+this.line),this.rawLabel=this.line,a||(this.line="")):(this.rawLabel=
this.line.substring(0,c).trim(),a&&(this.line=this.line.substring(c+1)));this.labelLineNo=this.lineNo;JU.Logger.debugging&&JU.Logger.info(this.rawLabel);return JSV.source.JDXSourceStreamTokenizer.cleanLabel(this.rawLabel)},"~B");b.cleanLabel=c(b,"cleanLabel",function(a){if(null==a)return null;var b,c=new JU.SB;for(b=0;b<a.length;b++)switch(a.charAt(b).charCodeAt(0)){case 47:case 92:case 32:case 45:case 95:break;default:c.appendC(a.charAt(b))}return c.toString().toUpperCase()},"~S");c(b,"getValue",
function(){if(null!=this.value)return this.value;var a=(new JU.SB).append(this.line);0<a.length()&&a.appendC("\n");try{for(;null!=this.readLine()&&!(0<=this.line.indexOf("##")&&this.line.trim().startsWith("##"));)a.append(this.line).appendC("\n")}catch(b){if(z(b,"java.io.IOException"))JU.Logger.info(b.toString());else throw b;}this.value=this.rawLabel.startsWith("##$")?a.toString().trim():JSV.source.JDXSourceStreamTokenizer.trimLines(a);JU.Logger.debugging&&JU.Logger.info(this.value);return this.value});
c(b,"readLineTrimmed",function(){this.readLine();if(null==this.line)return null;if(0>this.line.indexOf("$$"))return this.line.trim();var a=(new JU.SB).append(this.line);return JSV.source.JDXSourceStreamTokenizer.trimLines(a)});c(b,"flushLine",function(){var a=(new JU.SB).append(this.line);this.line=null;return JSV.source.JDXSourceStreamTokenizer.trimLines(a)});c(b,"readLine",function(){this.line=this.br.readLine();this.lineNo++;return this.line});b.trimLines=c(b,"trimLines",function(a){var b=a.length(),
c=b-1,e=JSV.source.JDXSourceStreamTokenizer.ptNonWhite(a,0,b);if(e>=b)return"";for(var f=P(b-e,"\x00"),h=0;e<b;e++){var k;switch((k=a.charAt(e)).charCodeAt(0)){case 13:if(e<c&&"\n"==a.charAt(e+1))continue;k="\n";break;case 10:0<h&&"\n"!=f[h-1]&&(h-=e-JSV.source.JDXSourceStreamTokenizer.ptNonSpaceRev(a,e)-1);e=JSV.source.JDXSourceStreamTokenizer.ptNonSpace(a,++e,b)-1;break;case 36:if(e<c&&"$"==a.charAt(e+1)){for(e++;++e<b&&0>"\n\r".indexOf(a.charAt(e)););continue}}"\n"==k&&0<h&&"\n"==f[h-1]||(f[h++]=
k)}0<h&&"\n"==f[h-1]&&--h;return String.instantialize(f).substring(0,h).trim()},"JU.SB");b.ptNonWhite=c(b,"ptNonWhite",function(a,b,c){for(;b<c&&Character.isWhitespace(a.charAt(b));)b++;return b},"JU.SB,~N,~N");b.ptNonSpace=c(b,"ptNonSpace",function(a,b,c){for(;b<c&&(" "==a.charAt(b)||"\t"==a.charAt(b));)b++;return b},"JU.SB,~N,~N");b.ptNonSpaceRev=c(b,"ptNonSpaceRev",function(a,b){for(;0<=--b&&(" "==a.charAt(b)||"\t"==a.charAt(b)););return b},"JU.SB,~N")});t("JSV.tree");v(["JSV.api.JSVTree"],"JSV.tree.SimpleTree",
["JSV.common.JSVFileManager","$.PanelNode","JSV.tree.SimpleTreeModel","$.SimpleTreeNode","$.SimpleTreePath"],function(){var b=q(function(){this.selectedPath=this.vwr=this.spectraTreeModel=this.rootNode=this.si=null;s(this,arguments)},JSV.tree,"SimpleTree",null,JSV.api.JSVTree);e(b,"getRootNode",function(){return this.rootNode});p(b,function(a){this.vwr=a;this.rootNode=new JSV.tree.SimpleTreeNode("Spectra",null);this.spectraTreeModel=new JSV.tree.SimpleTreeModel(this.rootNode)},"JSV.common.JSViewer");
c(b,"valueChanged",function(){this.vwr.selectedTreeNode(this.getLastSelectedPathComponent())});c(b,"getLastSelectedPathComponent",function(){return null==this.selectedPath?null:this.selectedPath.getLastPathComponent()});e(b,"setSelectedPanel",function(a,b){if(null!=b){var c=JSV.common.PanelNode.findNode(b,this.vwr.panelNodes).treeNode;this.setSelectionPath(this.vwr.spectraTree.newTreePath(c.getPath()))}},"JSV.api.ScriptInterface,JSV.api.JSVPanel");c(b,"setSelectionPath",function(a){this.selectedPath=
a;this.valueChanged()},"JSV.api.JSVTreePath");e(b,"createTree",function(a,b,c){var e=this.vwr.spectraTree,f=e.getRootNode(),h=this.vwr.panelNodes,k=JSV.common.JSVFileManager.getTagName(b.getFilePath()),j=new JSV.common.PanelNode(null,k,b,null),l=new JSV.tree.SimpleTreeNode(k,j);j.setTreeNode(l);e.spectraTreeModel.insertNodeInto(l,f,f.getChildCount());for(f=0;f<c.length;f++){var j=new JSV.common.PanelNode(a+"."+(f+1),k,b,c[f]),m=new JSV.tree.SimpleTreeNode(j.toString(),j);j.setTreeNode(m);h.addLast(j);
e.spectraTreeModel.insertNodeInto(m,l,l.getChildCount())}this.vwr.selectFrameNode(c[0]);return l},"~N,JSV.source.JDXSource,~A");e(b,"setPath",function(a){this.setSelectionPath(a)},"JSV.api.JSVTreePath");c(b,"newTreePath",function(a){return new JSV.tree.SimpleTreePath(a)},"~A");e(b,"deleteNodes",function(a){for(var b=0;b<a.size();b++)this.spectraTreeModel.removeNodeFromParent(a.get(b))},"JU.Lst")});t("JSV.tree");v(["java.util.Enumeration"],"JSV.tree.SimpleTreeEnumeration",null,function(){var b=q(function(){this.node=
null;this.pt=0;s(this,arguments)},JSV.tree,"SimpleTreeEnumeration",null,java.util.Enumeration);p(b,function(a){this.node=a},"JSV.tree.SimpleTreeNode");e(b,"hasMoreElements",function(){return this.pt<this.node.$children.size()});e(b,"nextElement",function(){return this.node.$children.get(this.pt++)})});t("JSV.tree");n=q(function(){this.rootNode=null;s(this,arguments)},JSV.tree,"SimpleTreeModel");p(n,function(b){this.rootNode=b},"JSV.api.JSVTreeNode");c(n,"insertNodeInto",function(b,a,c){a.$children.add(c,
b);b.prevNode=a},"JSV.api.JSVTreeNode,JSV.api.JSVTreeNode,~N");c(n,"removeNodeFromParent",function(b){b.prevNode.$children.removeObj(b)},"JSV.api.JSVTreeNode");t("JSV.tree");v(["JSV.api.JSVTreeNode"],"JSV.tree.SimpleTreeNode",["JU.Lst","JSV.tree.SimpleTreeEnumeration"],function(){var b=q(function(){this.panelNode=null;this.index=0;this.text=this.$children=this.prevNode=null;s(this,arguments)},JSV.tree,"SimpleTreeNode",null,JSV.api.JSVTreeNode);p(b,function(a,b){this.text=a;this.panelNode=b;this.$children=
new JU.Lst},"~S,JSV.common.PanelNode");e(b,"getPanelNode",function(){return this.panelNode});e(b,"getIndex",function(){return this.index});e(b,"setIndex",function(a){this.index=a},"~N");e(b,"children",function(){return new JSV.tree.SimpleTreeEnumeration(this)});e(b,"getChildCount",function(){return this.$children.size()});e(b,"getPath",function(){var a=new JU.Lst,b=this;for(a.addLast(b);null!=(b=b.prevNode);)a.add(0,b);return a.toArray()});e(b,"isLeaf",function(){return null!=this.prevNode&&null!=
this.prevNode.prevNode});e(b,"toString",function(){return this.text})});t("JSV.tree");v(["JSV.api.JSVTreePath"],"JSV.tree.SimpleTreePath",null,function(){var b=q(function(){this.path=null;s(this,arguments)},JSV.tree,"SimpleTreePath",null,JSV.api.JSVTreePath);p(b,function(a){this.path=a},"~A");e(b,"getLastPathComponent",function(){return null==this.path||0==this.path.length?null:this.path[this.path.length-1]})})}$._coreLoaded=!0})(Clazz,Clazz.getClassName,Clazz.newLongArray,Clazz.doubleToByte,Clazz.doubleToInt,
Clazz.doubleToLong,Clazz.declarePackage,Clazz.instanceOf,Clazz.load,Clazz.instantialize,Clazz.decorateAsClass,Clazz.floatToInt,Clazz.floatToLong,Clazz.makeConstructor,Clazz.defineEnumConstant,Clazz.exceptionOf,Clazz.newIntArray,Clazz.defineStatics,Clazz.newFloatArray,Clazz.declareType,Clazz.prepareFields,Clazz.superConstructor,Clazz.newByteArray,Clazz.declareInterface,Clazz.p0p,Clazz.pu$h,Clazz.newShortArray,Clazz.innerTypeInstance,Clazz.isClassDefined,Clazz.prepareCallback,Clazz.newArray,Clazz.castNullAs,
Clazz.floatToShort,Clazz.superCall,Clazz.decorateAsType,Clazz.newBooleanArray,Clazz.newCharArray,Clazz.implementOf,Clazz.newDoubleArray,Clazz.overrideConstructor,Clazz.clone,Clazz.doubleToShort,Clazz.getInheritedLevel,Clazz.getParamsType,Clazz.isAF,Clazz.isAB,Clazz.isAI,Clazz.isAS,Clazz.isASS,Clazz.isAP,Clazz.isAFloat,Clazz.isAII,Clazz.isAFF,Clazz.isAFFF,Clazz.tryToSearchAndExecute,Clazz.getStackTrace,Clazz.inheritArgs,Clazz.alert,Clazz.defineMethod,Clazz.overrideMethod,Clazz.declareAnonymous,Clazz.cloneFinals);
